(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9714],{93314:function(a,b,c){"use strict";c.d(b,{Z:function(){return n}});var d=c(20888),e=c(27080),f=c(67952),g=c(30788),h=c(32388),i=c(80242),j=c(86443),k=c(41660),l=c(87917),m=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:h.qen.COLLECTION_LESSON,g=arguments.length>5&& void 0!==arguments[5]?arguments[5]:h.dLO.COLLECTION;return(0,f.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/snapshot/").concat(d,"/restore?document_type=").concat(e,"&work_type=").concat(g),type:"POST"})},n=function(a,b,c,f,n,q,r,s){var t=arguments.length>8&& void 0!==arguments[8]&&arguments[8];return function(u,v){return u(d.n.show(t?g.lu:g.ad,{status:h.oiP.WAIT,text:"Restoring older version!"})),m(b,c,n,q,r,s).then(function(){u(d.n.update({status:h.oiP.SUCCESS,text:"Article restored successfully!"})),r===h.qen.ASSESSMENT_QUESTION?(u(i.Ol.clear()),p(a,b,c,f,n)):r===h.qen.PROJECT_COMPONENT?(u(j.Dr.clear()),a.push("/projecteditor/".concat(b,"/").concat(c,"/").concat(f,"/").concat(n))):r===h.qen.CLOUD_LAB_TASK?(u(l._k.clear()),a.push("/cloudlabeditor/".concat(b,"/").concat(c,"/").concat(f,"/").concat(n))):o(a,b,c,n)}).catch(function(a){(0,e.rU)(a,u),u(d.n.update({status:h.oiP.ERROR,text:"Unable to restore the article!"})),(0,k.uX)(a)})}},o=function(a,b,c,d){var e=a.query,f=e.planAuthorId,g=e.planId,h=e.moduleAuthorId,i=e.moduleId;f&&g?h&&i?a.push("/plan/".concat(f,"/").concat(g,"/module/").concat(b,"/").concat(c,"/").concat(d,"/edit")):a.push("/plan/".concat(b,"/").concat(c,"/page/").concat(d,"/edit")):a.replace("/pageeditor/".concat(b,"/").concat(c,"/").concat(d))},p=function(a,b,c,d,e){return a.replace("".concat(a.query.assessment_type===h.Q5R.ENTERPRISE_ASSESSMENT?"/enterprise":"","/assessmenteditor/").concat(b,"/").concat(c,"/").concat(d,"/").concat(e))}},78435:function(a,b,c){"use strict";c.d(b,{TS:function(){return k},iV:function(){return j},sb:function(){return l}});var d=c(32388),e=c(67952),f=c(20888),g=c(97847),h=c(30788),i=c(70996),j=function(a,b,c){var f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"",g=arguments.length>4&& void 0!==arguments[4]?arguments[4]:15;return(0,e.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/revision/1/snapshots?document_type=").concat(d.qen.ORG_WORKFLOW_DOCUMENT,"&page_size=").concat(g,"&start_cursor=").concat(f),type:"GET"})},k=function(a,b,c){return(0,e.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/snapshot?key=").concat(c,"&document_type=").concat(d.qen.ORG_WORKFLOW_DOCUMENT),type:"GET"})},l=function(a,b){return function(c,e,j){a(f.n.show(h.lu,{status:d.oiP.WAIT,text:"Restoring older version"})),(0,i.eI)(b,g.gH.RESTORE_DOCUMENT,{documentType:j,token:c,snapshotKey:e}).then(function(){a(f.n.show(h.lu,{status:d.oiP.SUCCESS,text:"Document restored successfully"}))}).catch(function(){a(f.n.show(h.lu,{status:d.oiP.ERROR,text:"Unable to restore document"}))})}}},89640:function(a,b,c){"use strict";c.d(b,{Z:function(){return aW}});var d,e,f,g,h,i,j=c(32176),k=c.n(j),l=c(20348),m=c(72392),n=c(93314),o=c(66262),p=c(73687),q=c(89703),r=c(64889),s=c(89500),t=c(84375);function u(){return(u=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var v=function(a){return q.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus-circle"},a),d||(d=q.createElement("circle",{cx:12,cy:12,r:10})),e||(e=q.createElement("line",{x1:12,y1:8,x2:12,y2:16})),f||(f=q.createElement("line",{x1:8,y1:12,x2:16,y2:12})))};function w(){return(w=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var x=function(a){return q.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus-circle"},a),g||(g=q.createElement("circle",{cx:12,cy:12,r:10})),h||(h=q.createElement("line",{x1:8,y1:12,x2:16,y2:12})))},y=c(82336),z=c.n(y),A=function(a){return(0,l.jsx)("span",{className:"cursor-pointer text-primary no-underline hover:underline dark:text-primary-light",onClick:function(b){b.stopPropagation(),a.clickHandler()},title:a.description,children:a.text})},B=A,C=c(50943),D=c(52882),E=c.n(D),F=c(60923);function G(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function H(a){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function I(a,b){return(I=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function J(a){return function(a){if(Array.isArray(a))return G(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||K(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(a,b){if(a){if("string"==typeof a)return G(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return G(a,b)}}var L=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&I(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=H(b);if(c){var h=H(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),(b=d.call(this,a)).snapshotClick=function(){var a=b.props,c=a.onSnapshotChange,d=a.snapshotKey,e=a.selected;e||c({key:d})},b.updateTitle=function(a){var c=b.props.index;b.props.saveTitle(a,c,b.state.internalTitle).then(function(a){a||b.setState({editRevisionName:!1,internalTitle:b.props.title})})},b.handleInputSubmit=function(a){a.keyCode===z().codes.enter&&b.updateTitle(a),a.keyCode===z().codes.esc&&b.setState({editRevisionName:!1,internalTitle:b.props.title})},b.handleInternalTitleChange=function(a){b.setState({internalTitle:a.target.value})},b.state={editRevisionName:!1,isNamedRevision:null!==a.title&&""!==a.title,internalTitle:a.title,focusInput:q.createRef(),dropDownOpen:!1},b}var f=e.prototype;return f.componentDidUpdate=function(a,b){a.title!==this.props.title&&this.setState({internalTitle:this.props.title,editRevisionName:!1,isNamedRevision:null!==this.props.title})},f.menuOptions=function(){var a=this,b=[],c=this.props,d=c.restoreSnapshot,e=c.snapshotKey,f=c.selected,g=this.state,h=g.editRevisionName,i=g.isNamedRevision,j=g.focusInput;b=h?J(b).concat([{title:"Submit Title",clickEvent:this.updateTitle},]):i?J(b).concat([{title:"Edit Revision Name",clickEvent:function(){a.setState({editRevisionName:!0},function(){j.current.focus()})}},]):J(b).concat([{title:"Name This Revision",clickEvent:function(){a.setState({editRevisionName:!0},function(){j.current.focus()})}},]),d&&(b=J(b).concat([{title:"Restore This Verison",clickEvent:function(){d(f?null:e)}},]));var k=b.map(function(a){var b=a.title,c=a.clickEvent;return(0,l.jsx)("li",{className:"h-12 w-full pl-3 pt-4 hover:bg-gray-100 dark:hover:bg-dark-80",onClick:c,children:b},b)});return k},f.render=function(){var a=this,b=this.props,c=b.createdTime,d=b.isDisabled,e=b.authorName,f=b.authorId,g=b.onCollaboratorClick,h=b.index,i=b.isLast,j=b.revisionId,k=this.state,m=k.editRevisionName,n=k.internalTitle,o=k.isNamedRevision,p=k.focusInput,q=k.dropDownOpen,r="revision_".concat(j,"_snapshot_").concat(h+1);return(0,l.jsxs)("div",{className:"-mt-4 flex",children:[(0,l.jsx)("div",{"data-testid":"snapshot",onClick:this.snapshotClick,className:"mb-6 mr-2 w-64 cursor-pointer border-l-0 pl-3 hover:text-primary dark:hover:text-primary-light ".concat(d?"text-gray-800 dark:text-gray-600":""),children:(0,l.jsxs)("div",{className:"font-normal",children:[m&&(0,l.jsx)("input",{type:"text",value:n,onChange:this.handleInternalTitleChange,onKeyDown:this.handleInputSubmit,onBlur:this.updateTitle,placeholder:"Title",maxLength:20,ref:p,className:"mt-2 rounded border-primary outline-none"}),!m&&o&&(0,l.jsx)("div",{children:(0,l.jsx)("h6",{children:n})}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("span",{id:r,className:"font-normal",children:[(0,l.jsx)(C.Z,{format:"ddd, MMM D, YYYY",timestamp:c}),"\xa0",(0,l.jsx)("span",{className:"ml-auto",children:(0,l.jsx)(C.Z,{format:"h:mm a",timestamp:c})})]})}),e?(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"font-normal",children:(0,l.jsx)(B,{clickHandler:function(){g(f)},description:"Only show ".concat(e,"'s"),text:e})})}):null]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(E(),{onRootClose:function(){a.setState({dropDownOpen:!1})},children:[(0,l.jsx)("button",{className:"h-12 w-12 rounded-none border-none hover:bg-gray-100 dark:bg-dark dark:hover:bg-dark-90 ".concat(q?"bg-gray-100 shadow-inner dark:bg-dark-90":"bg-transparent"),onClick:function(){a.setState({dropDownOpen:!q})},children:(0,l.jsx)(F.Z,{className:"text-black dark:text-dark-contrastText"})}),(0,l.jsx)("ul",{className:"relative",children:(0,l.jsx)("div",{className:"absolute left-auto right-0 w-40 list-none rounded-none border-none bg-white py-0 shadow-md dark:bg-dark-90 ".concat(i?"bottom-12":"bottom-auto"," ").concat(q?"flex":"tailwind-hidden"),children:(0,l.jsx)("div",{className:"w-full cursor-pointer text-xs font-semibold tracking-wide",children:this.menuOptions()})})})]})})]})},e}(q.Component),M=c(34933),N=c(12139);function O(){return(O=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var P=function(a){return q.createElement("svg",O({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},a),i||(i=q.createElement("circle",{cx:140.5,cy:357,r:5,transform:"translate(-135 -351)",stroke:"#000"})))},Q=c(32388);function R(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function S(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function T(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function U(a){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function V(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){T(a,b,c[b])})}return a}function W(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function X(a,b){return(X=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var Y=function(a){var b,c=a.author,d=c.articleRevisions,e=c.collection,f=(0,N.H)(d.data).firstSnapshot;return{store:{revisions:d.data,firstSnapshot:f,isCollaborativePage:null!==(b=null==e?void 0:e.use_collaborative_editor)&& void 0!==b&&b}}},Z=function(a){return{actions:W(V({},(0,s.DE)({loadArticleSnapshots:M.zD,updateTitle:M._F,saveTitle:M.hh},a)),{dispatch:a})}},$=(0,r.$j)(Y,Z),_=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&X(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=U(b);if(c){var h=U(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:R(d)});function e(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.loadMore=function(){var b=a.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.revisionId,h=b.collaboratorWhitelist,i=b.documentType;c.loadArticleSnapshots(d,e,f,i,g,h)},a.getCurrentRevision=function(){var c,d,e;return null!==(b=null===(c=a.props.store)|| void 0===c?void 0:null===(d=c.revisions)|| void 0===d?void 0:null===(e=d.revisions)|| void 0===e?void 0:e[a.props.revisionId])&& void 0!==b?b:null},a.handleTitleChange=function(b,c){var d,e=a.props.actions,f=a.getCurrentRevision(),g=(null==f?void 0:null===(d=f.snapshots)|| void 0===d?void 0:d.map(function(a,d){return d===c?W(V({},a),{title:b}):a}))||null;e.updateTitle({snapshots:g,revisionId:a.props.revisionId})};var a,b,c,f,g=R(a);return a.handleTitleUpdate=(f=(c=k().mark(function a(b,c,d){var e,f,h,i,j,l;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=(e=g.props).actions,h=e.store.isCollaborativePage,j=null==(i=g.getCurrentRevision())?void 0:i.snapshots,a.next=5,f.saveTitle(j[c].key,d,!h).then(function(a){a&&g.handleTitleChange(d,c)});case 5:return l=a.sent,a.abrupt("return",l);case 7:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){S(f,d,e,g,h,"next",a)}function h(a){S(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b,c){return f.apply(this,arguments)}),a}var f=e.prototype;return f.componentDidMount=function(){var a=this.getCurrentRevision();if(!a||!a.snapshots){var b=this.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.revisionId,h=b.collaboratorWhitelist,i=b.documentType;c.loadArticleSnapshots(d,e,f,i,g,h)}},f.render=function(){var a=this,b=this.props,c=b.revisionId,d=b.selectedSnapshot,e=b.onSnapshotChange,f=b.isFirstRevision,g=b.onCollaboratorClick,h=b.totalSnapshots,i=b.closed,j=b.store.isCollaborativePage,k=this.getCurrentRevision(),m=null==k?void 0:k.snapshots,n=null==k?void 0:k.hasMore,o=function(b,h){var i,k;return(0,l.jsxs)("div",{className:"mr-4 flex flex-nowrap items-start justify-start overflow-visible border-0 border-l border-solid border-black py-3 last:border-transparent dark:border-gray-A100",children:[(0,l.jsx)("div",{className:"-ml-1.5 -mt-4 w-4 flex-shrink-0",children:(0,l.jsx)(P,{className:"".concat(d.key===b.key?"text-black dark:text-dark-contrastText":"text-white dark:text-gray-900"," fill-current")})}),(0,l.jsx)(L,{createdTime:b.created,snapshotKey:b.key,authorId:b.updated_by_id,authorName:b.updated_by,selected:d.key===b.key,isDisabled:0===h&&f,onSnapshotChange:e,onCollaboratorClick:g,title:b.title,saveTitle:a.handleTitleUpdate,index:h,restoreSnapshot:(null===(i=a.props.store)|| void 0===i?void 0:null===(k=i.firstSnapshot)|| void 0===k?void 0:k.key)!==b.key||j?a.props.restoreSnapshot:null,isLast:h===m.length-1&&0!==h,revisionId:c},b.key)]},h)};return m?0===m.length?(0,l.jsx)("div",{className:"ml-10 text-sm italic text-gray-800 dark:text-gray-600",style:{marginTop:"5px"},children:"(No snapshots)"}):(0,l.jsx)("div",{className:"max-h-full flex-auto list-none overflow-y-auto px-0 pb-0 pt-6",style:{overflowY:"visible",margin:"3px 15px 0px 10px"},children:(0,l.jsxs)("div",{className:"mb-4 flex flex-shrink-0 flex-col",children:[(0,l.jsx)("div",{id:"revision_".concat(c,"_snapshots"),style:V({},i?{height:0,opacity:0,transition:"height 0.3s ease-out, opacity 0.3s ease-out"}:{height:"".concat(Q.zbW*h,"px"),opacity:1,transition:"height 0.3s ease-out, opacity 0.3s ease-out"}),children:m.map(o)}),n&&(0,l.jsx)("div",{className:"mb-4 ml-4",children:(0,l.jsx)("button",{className:"outlined-default m-2 py-2",onClick:this.loadMore,children:"Show More"})})]})}):(0,l.jsx)("div",{id:"revision_".concat(c,"_snapshots"),className:"m-0 max-h-full flex-auto list-none overflow-y-auto pb-2 pt-0",style:{paddingLeft:"22px"},children:(0,l.jsx)("div",{className:"mt-2.5",children:(0,l.jsx)(t.default,{size:30})})})},e}(q.Component),aa=$(_),ab=c(95641),ac=c.n(ab),ad=c(34001);function ae(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function af(a){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ag(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ae(a,b,c[b])})}return a}function ah(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ai(a,b){return(ai=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var aj=function(a){return{store:{revisions:a.author.articleRevisions.data}}},ak=(0,r.$j)(aj),al=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ai(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=af(b);if(c){var h=af(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(a){var b,c;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),(b=d.call(this,a)).toggleExpand=function(){b.state.expanded?b.setState(function(a){return ah(ag({},a),{expanded:!1})}):b.setState(function(a){return ah(ag({},a),{expanded:!0})})},b.getSnapshotsListLength=function(){var a,d,e,f;return null!==(c=null===(a=b.props.store.revisions)|| void 0===a?void 0:null===(d=a.revisions)|| void 0===d?void 0:null===(e=d[b.props.revisionId])|| void 0===e?void 0:null===(f=e.snapshots)|| void 0===f?void 0:f.length)&& void 0!==c?c:0},b.state={expanded:!!a.expand},b}return e.prototype.render=function(){var a=this.props,b=a.authorId,c=a.collectionId,d=a.pageId,e=a.revisionId,f=a.selectedSnapshot,g=a.isFirstRevision,h=a.lastSavedTime,i=a.isDraft,j=a.selected,k=a.onSnapshotChange,m=a.onRevisionChange,n=a.onCollaboratorClick,o=a.collaboratorWhitelist,p=a.restoreSnapshot,q=a.documentType,r=this.state.expanded,s=null;s=r?(0,l.jsx)(x,{className:"-mb-0.5 h-4 w-4"}):(0,l.jsx)(v,{className:"-mb-0.5 h-4 w-4"});var t=(0,l.jsxs)("div",{"data-testid":"revision-title",className:"w-max cursor-pointer hover:text-primary dark:hover:text-primary-light",onClick:this.toggleExpand,id:"revision_".concat(e),children:[(0,l.jsx)("span",{"data-testid":"revision-title-text",className:ac().revision_title_text,id:ad.env.REACT_APP_STANDALONE&&i&&j?"selenium-revision_loaded":"",children:(0,l.jsxs)("p",{className:"text-base",children:[s," ",i?"Draft":"Published"," Revision"]})}),(0,l.jsx)("span",{className:"ml-5 block",children:(0,l.jsxs)("span",{className:"font-normal",children:[i?"Saved ":"Published "," ",(0,l.jsx)(C.Z,{timestamp:h,relative:!0,filter:function(a){return a.toLowerCase()},interval:60})]})})]});return(0,l.jsxs)("div",{"data-testid":"revision-container",className:"mt-2 overflow-hidden ".concat(g&&r?"-mb-7":""),children:[t,(0,l.jsx)(aa,ah(ag({},{authorId:b,pageId:d,revisionId:e,collectionId:c,selectedSnapshot:f,isFirstRevision:g,onSnapshotChange:function(a){k(a),m({id:e})},onCollaboratorClick:n,collaboratorWhitelist:o,restoreSnapshot:p,documentType:q}),{closed:!r,totalSnapshots:this.getSnapshotsListLength()}))]})},e}(q.Component);al.defaultProps={isDraft:!1,expand:!1};var am=ak(al),an=c(80049);function ao(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ap(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aq(a){return(aq=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ar(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ap(a,b,c[b])})}return a}function as(a,b){return(as=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var at=function(a){return{store:{revisions:a.author.articleRevisions.data}}},au=function(a){var b,c;return{actions:(b=ar({},(0,s.DE)({loadArticleRevisions:M.zD,clearArticleRevisions:M.ZH},a)),c={dispatch:a},c=null!=c?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b)}},av=(0,r.$j)(at,au),aw=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&as(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=aq(b);if(c){var h=aq(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.loadMore=function(){var b=a.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.documentType;c.loadArticleRevisions(d,e,f,g)},a}var f=e.prototype;return f.componentDidMount=function(){var a=this.props,b=a.actions,c=a.authorId,d=a.collectionId,e=a.pageId,f=a.documentType;c&&d&&e&&f&&b.loadArticleRevisions(c,d,e,f)},f.componentDidUpdate=function(a){var b=this.props,c=b.store,d=b.actions,e=b.authorId,f=b.collectionId,g=b.pageId,h=b.documentType;(this.props.router.query.pageId!==a.router.query.pageId||c.revisions&&a.pageId&&g&&a.pageId!==g)&&d.clearArticleRevisions(),!c.revisions&&a.pageId!==g&&g&&d.loadArticleRevisions(e,f,g,h)},f.componentWillUnmount=function(){this.props.actions.clearArticleRevisions()},f.render=function(){var a=this.props,b=a.authorId,c=a.collectionId,d=a.pageId,e=a.selectedRevision,f=a.store.revisions,g=a.selectedSnapshot,h=a.onRevisionChange,i=a.onSnapshotChange,j=a.onCollaboratorClick,k=a.collaboratorWhitelist,m=a.restoreSnapshot,n=a.documentType,o=null==f?void 0:f.revisions;if(!o)return(0,l.jsx)(t.default,{size:50});var p,q=null==f?void 0:f.hasMore,r=((function(a){if(Array.isArray(a))return ao(a)})(p=Object.keys(o))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(p)||function a(b,c){if(b){if("string"==typeof b)return ao(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ao(b,c)}}(p)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(a,b){return b-a});return(0,l.jsxs)("div",{className:"mx-0 max-h-full flex-auto list-none overflow-y-auto pb-2 pl-4 pt-0",style:{marginTop:"15px",marginBottom:"25px"},children:[r.map(function(a,f){var p=o[a],q={authorId:b,pageId:d,collectionId:c,documentType:n,onRevisionChange:h,selectedSnapshot:g,onSnapshotChange:i,key:a,revisionId:p.revisionId,lastSavedTime:p.lastModified,isDraft:p.isDraft,expand:0===f,isFirstRevision:0===f,selected:parseInt(e.id,10)===parseInt(a,10),onCollaboratorClick:j,collaboratorWhitelist:k,restoreSnapshot:m};return(0,l.jsx)(am,ar({},q))}),q&&(0,l.jsx)("button",{className:"outlined-default m-2 ml-4 py-2",onClick:this.loadMore,children:"Show More Revisions"})]})},e}(q.Component),ax=(0,an.withRouter)(av(aw)),ay=c(32210),az=c(34473),aA=c(1636),aB=c(80242),aC=c(33040),aD=c(86443),aE=c(20888),aF=c(51425),aG=c(46124),aH=c(13987),aI=c(44270),aJ=c.n(aI),aK=c(78920),aL=c(78435),aM=c(87917);function aN(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function aO(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aP(a){return(aP=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aQ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){aO(a,b,c[b])})}return a}function aR(a,b){return(aR=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var aS=function(a){var b,c,d,e,f=a.author,g=f.articleRevisions,h=f.allCollaborators,i=f.collection,j=g.data,k=(0,N.H)(j),l=k.firstSnapshot,m=k.firstRevision;return{store:{collaborators:h.data||{},shouldLoadCollaborators:!h.loading&&!h.loaded,firstSnapshot:l,firstRevision:m,selectedSnapshot:(null===(b=g.data)|| void 0===b?void 0:b.selectedSnapshot)||{key:null},selectedRevision:(null===(c=g.data)|| void 0===c?void 0:c.selectedRevision)||{key:null},collectionDetails:null==i?void 0:null===(d=i.instance)|| void 0===d?void 0:d.details,isCollaborativePage:null!==(e=null==i?void 0:i.use_collaborative_editor)&& void 0!==e&&e}}},aT=function(a){var b,c;return{actions:(b=aQ({},(0,s.DE)({loadAllCollaborators:az.H.load,clearAllCollaborators:az.H.clear,loadSnapshotProperties:aA.zD,clearSnapshotProperties:aA.ZH,loadCollectionArticle:aC.x.load,restoreCollectionArticle:n.Z,loadArticleRevisions:M.zD,clearArticleRevisions:M.ZH,clearWidgets:aG.oh.clear,selectedSnapshotChanged:M.yB,selectedRevisionChanged:M.Tk,loadQuestionSnapshot:aB.Ol.loadQuestionSnapshot,clearRestoredQuestion:aB.Ol.clearRestoredQuestion,loadComponentSnapshot:aD.Dr.loadComponentSnapshot,loadTaskSnapshot:aM._k.loadTaskSnapshot,clearRestoredComponent:aD.Dr.clearRestoredComponent,clearRestoredTask:aM._k.clearRestoredTask,closeModal:aE.n.close},a)),c={dispatch:a},c=null!=c?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b)}},aU=(0,r.$j)(aS,aT,null,{forwardRef:!0}),aV=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&aR(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=aP(b);if(c){var h=aP(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a,b,c;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={collaboratorTags:[]},a.selectedSnapshotChanged=function(b){var c,d=a.props,e=d.actions,f=d.authorId,g=d.collectionId,h=d.pageId,i=d.documentType;i===Q.qen.ASSESSMENT_QUESTION?e.clearRestoredQuestion():i===Q.qen.PROJECT_COMPONENT?e.clearRestoredComponent():(i===Q.qen.CLOUD_LAB_TASK&&e.clearRestoredTask(),e.clearWidgets()),e.selectedSnapshotChanged(b),i===Q.qen.COLLECTION_LESSON?e.loadCollectionArticle(f,g,h,null===(c=a.context.userInfoState.data)|| void 0===c?void 0:c.user_id,b.key):i===Q.qen.ASSESSMENT_QUESTION?e.loadQuestionSnapshot(f,g,h,b.key):i===Q.qen.PROJECT_COMPONENT?e.loadComponentSnapshot(f,g,b.key):i===Q.qen.CLOUD_LAB_TASK&&e.loadTaskSnapshot(f,g,b.key),e.loadSnapshotProperties(f,g,b.key)},a.selectedRevisionChanged=function(b){a.props.actions.selectedRevisionChanged(b)},a.isOnboardingContext=function(){var b,c=null===(b=a.props.store)|| void 0===b?void 0:b.collectionDetails,d=(null==c?void 0:c.is_parent_plan)||(null==c?void 0:c.is_plan),e=!(null==c?void 0:c.is_global)&&(null==c?void 0:c.is_standalone_module),f=null==c?void 0:c.is_template;return d||e||f},a.restoreSelected=function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,c=a.props,d=c.actions,e=c.authorId,f=c.collectionId,g=c.pageId,h=c.store,i=c.router,j=c.documentType,k=c.workType,l=c.userToken,m=c.provider,n=h.firstSnapshot,o=h.selectedSnapshot;(null==h?void 0:h.isCollaborativePage)&&m?(0,aL.sb)(d.dispatch,m)(l,b||o.key,j):(n.key!==o.key||b)&&d.restoreCollectionArticle(i,e,f,i.query.assessmentId||i.query.projectId,g,b||o.key,j,k,a.isOnboardingContext())},a.closeSidebar=function(){var b=a.props,c=b.authorId,d=b.collectionId,e=b.pageId,f=b.router,g=b.store.isCollaborativePage,h=f.query,i=h.planAuthorId,j=h.planId,k=h.moduleAuthorId,l=h.moduleId,m=a.props.documentType===Q.qen.PROJECT_COMPONENT,n=a.props.documentType===Q.qen.CLOUD_LAB_TASK;if(g&&!m)a.props.actions.closeModal();else if(i&&j)k&&l?f.push("/plan/".concat(i,"/").concat(j,"/module/").concat(c,"/").concat(d,"/").concat(e,"/edit")):f.push("/plan/".concat(c,"/").concat(d,"/page/").concat(e,"/edit"));else if(a.props.documentType===Q.qen.ASSESSMENT_QUESTION){var o=f.query.assessment_id,p=f.query.question_id,q=f.query.assessment_type===Q.Q5R.ENTERPRISE_ASSESSMENT;f.push("".concat(q?"/enterprise":"","/assessmenteditor/").concat(c,"/").concat(d,"/").concat(o,"/").concat(p))}else m||n?a.props.setCloseSidebar():f.push("/pageeditor/".concat(c,"/").concat(d,"/").concat(e))},a.onFilterChange=function(b){var c=a.props,d=c.actions,e=c.authorId,f=c.collectionId,g=c.pageId,h=c.documentType;b=b.length?[b[b.length-1]]:[],ay.equals(a.state.collaboratorTags,b)||a.setState({collaboratorTags:b},function(){d.clearArticleRevisions(),d.loadArticleRevisions(e,f,g,h)})},a.getUser=(c=(b=k().mark(function a(b){var c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.t0=JSON,a.next=4,(0,m.Au)(b,!0);case 4:return a.t1=a.sent,a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 8:return a.prev=8,a.t2=a.catch(0),a.abrupt("return",{error:(null===a.t2|| void 0===a.t2?void 0:null===(c=a.t2.responseJSON)|| void 0===c?void 0:c.errorText)||"Failed to retrieve user details."});case 12:case"end":return a.stop()}},a,null,[[0,8]])}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){aN(f,d,e,g,h,"next",a)}function h(a){aN(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}),a.setSingleFilter=function(b){a.getUser(b).then(function(a){return[a]}).then(a.onFilterChange)},a}var f=e.prototype;return f.componentDidUpdate=function(a){var b=this.props,c=b.authorId,d=b.collectionId,e=b.store,f=e.firstSnapshot,g=e.firstRevision,h=e.shouldLoadCollaborators,i=e.isCollaborativePage,j=b.actions;!a.store.firstSnapshot&&f&&(j.selectedSnapshotChanged(f),j.selectedRevisionChanged(g)),(this.props.router.query.pageId!==a.router.query.pageId||this.props.pageId&&a.pageId&&this.props.pageId!==a.pageId)&&(j.clearSnapshotProperties(),i&&j.closeModal());var k=function(a,b){return a!==b&&!(isNaN(a)&&isNaN(b))};h&&c&&d&&j.loadAllCollaborators(c,d,!0),k(a.authorId,c)&&k(a.collectionId,d)&&j.clearAllCollaborators()},f.componentWillUnmount=function(){var a=this.props.actions,b=a.clearSnapshotProperties,c=a.clearAllCollaborators;b(),c()},f.render=function(){var a=this.onFilterChange,b=this.getUser,c=this.setSingleFilter,d=this.state.collaboratorTags,e=this.props,f=e.authorId,g=e.collectionId,h=e.pageId,i=e.store,j=e.documentType,k=i.selectedSnapshot,m=i.selectedRevision,n=i.collaborators,q=(0,l.jsxs)("div",{"data-testid":"version-history-title-container",className:"flex items-center justify-center bg-gray-100 dark:bg-dark-90 ".concat(aJ()["version-history-title-container"]),children:[(0,l.jsx)(p.Z,{className:"h-6 w-6",onClick:this.closeSidebar}),(0,l.jsx)("h4",{className:"m-2 text-center",children:"Version History"})]}),r=d.map(function(a){return a.author_id}),s=Object.values(n).map(function(a){var b=a.full_name,c=a.email;return{name:b,email:c}});return(0,l.jsxs)("nav",{style:aQ({zIndex:200,width:aK.oU},j===Q.qen.ASSESSMENT_QUESTION?{height:"calc(100vh - ".concat(aH.jw,"px)"),marginTop:"".concat(aH.jw,"px"),paddingBottom:"0px"}:{height:"100%",paddingBottom:"100px",margin:"0"}),className:"tailwind-hidden fixed right-0 max-h-full shrink grow-0 basis-96 flex-col overflow-hidden border-0 border-l border-solid border-gray-300 bg-white p-0 duration-500 dark:border-dark-70 dark:bg-dark sm:flex ",children:[q,(0,l.jsx)(o.Z,{onChange:a,tags:d,maxTags:64,getUser:b,customPlaceholder:"Filter by collaborator",borderless:!0,suggestions:s,type:Q.QlC.COLLABORATOR}),(0,l.jsx)(ax,{authorId:f,collectionId:g,pageId:h,documentType:j,onSnapshotChange:this.selectedSnapshotChanged,selectedRevision:m,selectedSnapshot:k,onRevisionChange:this.selectedRevisionChanged,collaboratorWhitelist:r,onCollaboratorClick:c,restoreSnapshot:this.restoreSelected})]})},e}(q.Component);aV.contextType=aF.jx;var aW=(0,an.withRouter)(aU(aV))},51345:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(20348),e=c(89703),f=c(34001);function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var i=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}(i,a);var b,c,e=(b=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,h=g(b);if(c){var i=g(this).constructor;f=Reflect.construct(h,arguments,i)}else f=h.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function i(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=e.apply(this,arguments),a.state={hidden:!1},a}var j=i.prototype;return j.handleClose=function(){this.setState({hidden:!0})},j.render=function(){return(0,d.jsx)("div",{id:f.env.REACT_APP_STANDALONE?"selenium-alert":null,className:"flex h-full items-center justify-center px-4 py-0 text-center dark:bg-transparent ".concat(this.props.transparentBackground?"":"bg-white"," ").concat(this.props.danger?"text-error dark:text-error-light":this.props.success?"text-success dark:text-success-light":"text-black dark:text-dark-contrastText"),children:this.props.children})},i}(e.Component)},66262:function(a,b,c){"use strict";c.d(b,{Z:function(){return r}});var d=c(20348),e=c(89703),f=c(82729),g=c(11492),h=c(73687),i=c(32388),j=function(a){var b=a.removeTag,c=a.data;return(0,d.jsxs)(f.default,{backgroundColor:"bg-white border-white dark:bg-dark-90 dark:border-dark-90",padding:"px-4 py-2",parentClasses:"bg-gray-100 cursor-pointer dark:bg-dark-80 dark:hover:bg-dark-70 dark:text-dark-contrastText duration-200 flex hover:bg-primary-lightP2 items-center px-3 py-1 rounded space-x-4 text-black transition whitespace-nowrap",position:i.xRW,overlayParentClasses:"z-[200]",overlay:(0,d.jsxs)("div",{className:"flex h-20 w-60 items-center justify-center space-x-3",children:[(0,d.jsx)(g.Z,{image:c.profile_image_serving_url,name:c.full_name,size:50}),(0,d.jsx)("p",{className:"m-0 font-normal text-black dark:text-gray-400",children:c.full_name})]}),children:[(0,d.jsx)("span",{children:c.full_name}),(0,d.jsx)(h.Z,{className:"h-3 w-3 hover:text-primary dark:hover:text-primary-light",onClick:function(){return b(c)}})]})},k=j;function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function p(a){return function(a){if(Array.isArray(a))return l(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||q(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var r=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=n(b);if(c){var h=n(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.state={value:"",error:null,loading:!1},a.sortedSuggestions=[],a.updateSortedSuggestions=function(){var b=p(a.props.suggestions).sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0});a.sortedSuggestions=b.map(function(a,c){var d,e,f=a.name,g=c>0&&b[c-1].name===f,h=c<b.length-1&&b[c+1].name===f;return d=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},a),e=(e={emailRequired:g||h},e),Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(e)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(e)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(e,a))}),d})},a.resolveSuggestion=function(b){var c,d,e,f,g,h,i,j=null;return{result:(null==(d=(c=b).match(/\((\S+)\)/))?void 0:d[1])||(e=b,g=(f=a.props).suggestions,h=f.type,i=g.filter(function(a){return a.name===e}),i.length>1?(j="Ambiguous reference to collaborator ".concat(e),null):0===i.length?(j="No ".concat(h||"collaborator"," named ").concat(e),null):i[0].email),error:j}},a.addTag=function(){var b=a.state.value;if((b=b.trim().replace(",",""))&&!a.isEmail(b)){var c=a.resolveSuggestion(b),d=c.result,e=c.error;if(e){a.setState({value:"",error:e});return}b=d}if(b&&a.isValid(b)){var f=a.props,g=f.getUser,h=f.onChange,i=f.tags,j=f.type;a.setState({value:"",loading:!0}),g(b,j).then(function(b){a.setState({loading:!1});var c=b.error;c?a.setState({error:c}):h(p(i).concat([b]))})}},a.handleKeyUp=function(b){["Enter","Tab",","].includes(b.key)&&(b.preventDefault(),a.addTag())},a.handleChange=function(b){a.setState({value:b.target.value,error:null})},a.handleDelete=function(b){var c=a.props.tags,d=a.props.onChange;c=c.filter(function(a){return a.email!==b.email}),a.setState({error:null}),d(c)},a.isEmail=function(a){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},a.hasMaxTags=function(){var b=a.props,c=b.maxTags,d=b.tags;return d.length>=c},a}var g=f.prototype;return g.componentDidMount=function(){this.updateSortedSuggestions()},g.componentDidUpdate=function(a){this.updateSortedSuggestions()},g.isValid=function(a){var b=null;return this.isInList(a)&&(b="".concat(a," has already been added.")),this.isEmail(a)||(b="".concat(a," is not a valid email address.")),!b||(this.setState({value:"",error:b}),!1)},g.isInList=function(a){return this.props.tags.some(function(b){return b.email===a})},g.getSuggestedEmails=function(){var a=this;return this.sortedSuggestions.filter(function(b){var c=b.email;return!a.isInList(c)}).map(function(a){var b=a.name,c=a.email,e=a.emailRequired?"".concat(b," (").concat(c,")"):"".concat(b);return(0,d.jsx)("option",{value:e},c)})},g.render=function(){var a=this,b=this.state,c=b.value,e=b.error,f=b.loading,g=this.props,h=g.maxTags,j=g.tags,l=g.customPlaceholder,m=g.borderless,n=g.type,o=g.viewOnly,p=g.collectionType,q=l||"Add ".concat(n,"s to this ").concat((0,i.eiC)(p)," by entering emails");return o?q="":this.hasMaxTags()?q="Maximum ".concat(h," ").concat(n,"s are allowed"):e?q=e:f&&(q="Adding ".concat(n,"...")),(0,d.jsxs)("div",{className:"mb-2.5 flex w-full flex-col flex-wrap justify-center border-gray-200 px-2.5 py-0.5 duration-200 hover:border-gray-300 focus:border-gray-300 dark:border-gray-A200 dark:hover:border-gray-A100 dark:hover:border-gray-A100 dark:focus:border-gray-A100 dark:focus:border-gray-A100 sm:flex-row sm:justify-between ".concat(m?"rounded-none border-0 border-b":"rounded border border-solid"),style:{alignItems:"inherit",minHeight:"47px"},children:[(0,d.jsx)("ul",{className:"flex-s m-0 inline-flex w-full shrink-0 list-none flex-wrap items-center p-0",children:j.map(function(b){return(0,d.jsx)("li",{className:"my-1.5 ml-0 mr-2.5",children:(0,d.jsx)(k,{data:b,removeTag:a.handleDelete},b.email)},b.email)})}),(0,d.jsx)("input",{className:"w-full rounded border-none bg-white p-1.5 outline-none dark:bg-dark sm:pl-3.5 ".concat(e?"placeholder-error":"placeholder-gray-500"),"data-testid":"tags-input-test",type:"text",name:"".concat(n,"tags"),disabled:this.hasMaxTags(),placeholder:q,onChange:this.handleChange,onKeyUp:this.handleKeyUp,onFocus:this.addTag,onBlur:this.addTag,value:c,list:"email_suggestions",autoComplete:"off"}),(0,d.jsx)("datalist",{id:"email_suggestions",children:this.getSuggestedEmails()})]})},f}(e.Component);r.defaultProps={suggestions:[],collectionType:i.dLO.COLLECTION}},73750:function(a,b,c){"use strict";c.d(b,{Z:function(){return m}});var d,e=c(20348),f=c(76598),g=c(51345),h=c(89703);function i(){return(i=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a){return h.createElement("svg",i({width:1792,height:1792,viewBox:"0 0 1792 1792"},a),d||(d=h.createElement("path",{d:"M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"})))},k=c(69392),l=c(49396),m=function(a){var b=null,c=a.className?"b-status-control ".concat(a.className):"b-status-control",d="ERROR_INFO"===a.statusData.status?"border-secondary-darkN1 dark:border-secondary":"border-error dark:border-error-light",h="ERROR_INFO"===a.statusData.status?"text-secondary-darkN1 dark:text-secondary":"text-error dark:text-error-light";return"ERROR"===a.statusData.status||"ERROR_INFO"===a.statusData.status?b=a.startIcon?(0,e.jsx)("div",{className:"flex border border-solid p-2 px-0 ".concat(d),children:(0,e.jsxs)(g.Z,{danger:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:[(0,e.jsx)(k.Z,{className:"mr-2 h-5 w-5 flex-shrink-0 self-start fill-current ".concat(h)}),(0,e.jsx)("span",{className:"text-left ".concat(h),dangerouslySetInnerHTML:{__html:a.statusData.text}})]})}):(0,e.jsx)(g.Z,{danger:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:a.statusData.text}})}):"SUCCESS"===a.statusData.status?b=(0,e.jsx)(g.Z,{success:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:a.statusData.text}})}):"WAIT"===a.statusData.status?b=(0,e.jsx)(f.Z,{content:a.statusData.text,isExecution:a.isExecution}):"INFO"===a.statusData.status&&(b=(0,e.jsxs)(g.Z,{collapseBottom:!0,transparentBackground:a.transparentBackground,children:[(0,e.jsx)(l.Z,{className:"mr-2 h-5 w-5 fill-secondary-dark"}),(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:a.statusData.text}})]})),(0,e.jsxs)("div",{className:"relative ".concat(c," body-small"),children:[b,b&&a.closeIcon&&(0,e.jsx)("i",{onClick:function(){return a.onCloseIconClick()},children:(0,e.jsx)(j,{className:"absolute right-2.5 top-2.5 cursor-pointer opacity-60 hover:opacity-100",style:{width:"14px",height:"14px"}})})]})}},41716:function(a,b,c){"use strict";c.d(b,{Mv:function(){return f},fA:function(){return h}});var d=c(20348),e=c(89703),f=(0,e.createContext)({widgetState:{},setWidgetState:function(a){a.compId,a.type}}),g=function(a){var b=a.children,c=(0,e.useState)({}),g=c[0],h=c[1],i=function(a){var b=a.compId,c=a.type;h({compId:b,type:c})};return(0,d.jsx)(f.Provider,{value:{widgetState:g,setWidgetState:i},children:b})};b.ZP=g;var h=function(){return(0,e.useContext)(f)}},30790:function(a,b){"use strict";var c=function(a){return a&&a.endsWith("/versions")};b.Z=c},12139:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}c.d(b,{H:function(){return e}});function e(a){var b=null,c=null;if(null==a?void 0:a.revisions){var e,f,g=(f=Math).max.apply(f,function(a){if(Array.isArray(a))return d(a)}(e=Object.keys(a.revisions))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(e)||function a(b,c){if(b){if("string"==typeof b)return d(b,c);var e=Object.prototype.toString.call(b).slice(8,-1);if("Object"===e&&b.constructor&&(e=b.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(b,c)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=a.revisions[g];c={id:h.revisionId},h.snapshots&&h.snapshots.length>0&&(b={key:h.snapshots[0].key})}return{firstSnapshot:b,firstRevision:c}}},95641:function(a){a.exports={revision_title_text:"Revision_revision_title_text__9ovPy"}},44270:function(a){a.exports={"version-history-title-container":"VersionHistorySidebar_version-history-title-container__U8kcb",dark:"dark"}},49396:function(a,b,c){"use strict";var d,e,f,g,h=c(89703);function i(){return(i=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a){return h.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=h.createElement("path",{d:"M11 7h2v2h-2V7ZM11 11h2v6h-2v-6Z",fill:"current",fillOpacity:.5})),e||(e=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z",fill:"current",fillOpacity:.5})),f||(f=h.createElement("path",{d:"M11 7h2v2h-2V7ZM11 11h2v6h-2v-6Z",stroke:"current"})),g||(g=h.createElement("path",{clipRule:"evenodd",d:"M2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm2 0a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z",stroke:"current"})))};b.Z=j},69392:function(a,b,c){"use strict";var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),e||(e=f.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm1-5a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16z"})))};b.Z=h}}])
//# sourceMappingURL=9714-92e56172088af37b.js.map