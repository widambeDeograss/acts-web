"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40259],{28495:function(a,b,c){var d=c(62958),e=c(44678);function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var g,h=function(a){if(Array.isArray(a))return f(a)}(g=(0,d.Bx)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}}))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(g)||function a(b,c){if(b){if("string"==typeof b)return f(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return f(b,c)}}(g)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=(0,d.xC)({reducer:e.ZP,middleware:h,devTools:!1});c.g.store=i,b.Z=i},91467:function(a,b,c){c.d(b,{B7:function(){return s},OK:function(){return r},fz:function(){return t},wW:function(){return q}});var d,e=c(62958),f=c(46124),g=c(32388),h=c(39370),i=c(92303),j=c(82406),k=c(68653),l=c(35223);function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n={},o=(0,e.oM)({name:"editorPageSummary",initialState:n,reducers:{editorPageSummaryChange:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},a,b.payload)},saveAPIKey:function(a,b){var c,d=b.payload.apiKey,f=d.id,g=void 0===f?"":f,h=d.key,i=void 0===h?"":h,j=d.value,k=d.useAsDefault,l=d.urlText,m=d.helpText,n=d.isUrl,o=null!==(c=null==a?void 0:a.api_keys)&& void 0!==c?c:[],p={id:g||(0,e.x0)(),key:i,name:i,value:void 0===j?"":j,urlText:void 0===l?"":l,helpText:void 0===m?"":m,useAsDefault:void 0!==k&&k,isUrl:void 0!==n&&n},q=o.findIndex(function(a){return a.id===g});-1!==q?a.api_keys[q]=p:a.api_keys.push(p)},removeAPIKey:function(a,b){var c=b.payload,d=(null==a?void 0:a.api_keys).findIndex(function(a){return a.id===c.id});if(-1===d)return a;a.api_keys.splice(d,1)},editorPagePostFulfilled:function(a,b){var c=b.payload;return{marketing_page_title:c.marketing_page_title||"",tags:c.tags||"",marketing_page_url:c.marketing_page_url||"",canonical_url:c.canonical_url||"",visibility:c.visibility||j.Q,cover_image_alt_text:c.cover_image_alt_text||"",marketing_page_summary:c.marketing_page_summary||"",marketing_page_meta_description:c.marketing_page_meta_description||"",marketing_page_header_title:c.marketing_page_header_title||"",author_name:c.author_name||"",author_email:c.author_email||"",author_email_full_name:c.author_email_full_name||"",profile_image_serving_url:c.profile_image_serving_url||"",author_id:c.author_id||"",published_date:c.published_date||"",api_keys:JSON.parse(c.api_keys||"[]"),redirect_url:c.redirect_url||"",marketing_page_cta:c.marketing_page_cta||"",marketing_page_top_cta:c.marketing_page_top_cta||"",marketing_page_disable_nav_header:c.marketing_page_disable_nav_header||!1,marketing_page_add_bullet_points:c.marketing_page_add_bullet_points||!1,marketing_page_bullet_points:c.marketing_page_bullet_points||["",],marketing_page_version:c&&(!c.marketing_page_version&&1!==Object.keys(c).length||"v1"===c.marketing_page_version)?"v1":"v2",marketing_page_cta_type:c.marketing_page_cta_type||"",marketing_page_top_cta_type:c.marketing_page_top_cta_type||"",marketing_page_cta_hubspot_modal:c.marketing_page_cta_hubspot_modal||{},marketing_page_top_cta_hubspot_modal:c.marketing_page_top_cta_hubspot_modal||{},marketing_page_cover_shadow:c.marketing_page_cover_shadow||!1,marketing_page_widget_lower_padding:c.marketing_page_widget_lower_padding,marketing_page_widget_upper_padding:c.marketing_page_widget_upper_padding,marketing_page_title_eyebrow:c.marketing_page_title_eyebrow||"",marketing_page_cta_redirect_url:c.marketing_page_cta_redirect_url||"",marketing_page_top_cta_redirect_url:c.marketing_page_top_cta_redirect_url||"",marketing_page_top_cta_email_popup_settings:c.marketing_page_top_cta_email_popup_settings||k.C,marketing_page_cta_email_popup_settings:c.marketing_page_cta_email_popup_settings||k.C,marketing_page_summary_background:c.marketing_page_summary_background||"",marketing_page_cover_image_alignment:c.marketing_page_cover_image_alignment||g.b0L,marketing_page_cover_image_url:c.marketing_page_cover_image_url||"",marketing_page_hubspot_form_media:c.marketing_page_hubspot_form_media||l._,marketing_page_cta_button_height:c.marketing_page_cta_button_height||"h-11",marketing_page_bottom_second_cta:c.marketing_page_bottom_second_cta||"",marketing_page_bottom_second_cta_url:c.marketing_page_bottom_second_cta_url||"",marketing_page_top_cta_button_height:c.marketing_page_top_cta_button_height||"h-11",marketing_page_top_cta_button_color:c.marketing_page_top_cta_button_color||"#5553FF",marketing_page_cta_button_color:c.marketing_page_cta_button_color||"#5553FF",marketing_page_cta_button_alignment:c.marketing_page_cta_button_alignment||h.H.LEFT,marketing_page_top_cta_button_alignment:c.marketing_page_top_cta_button_alignment||h.H.LEFT,marketing_page_selected_media_type:c.marketing_page_selected_media_type||i.W.IMAGE,marketing_page_video_url:c.marketing_page_video_url||"",marketing_page_calender_url:c.marketing_page_calender_url||"",marketing_page_video_autoplay:c.marketing_page_video_autoplay||!1,marketing_page_video_loop:c.marketing_page_video_loop||!1,marketing_page_video_controls:null===(d=c.marketing_page_video_controls)|| void 0===d||d,marketing_page_mdHtml_title:c.marketing_page_mdHtml_title||"",marketing_page_mdHtml_summary:c.marketing_page_mdHtml_summary||""}}},extraReducers:m({},f.oh.clear.type,function(a){return n})});b.ZP=o.reducer;var p=o.actions,q=p.editorPageSummaryChange,r=p.saveAPIKey,s=p.removeAPIKey,t=p.editorPagePostFulfilled},53378:function(a,b,c){c.d(b,{I:function(){return n}});var d,e=c(62958),f=c(46124),g=c(47783),h=c(33040),i=c(44475),j=c(53893);function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l={},m=(0,e.oM)({name:"pageSummary",initialState:l,reducers:{change:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},a,b.payload)}},extraReducers:(k(d={},g.w.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,h.x.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,i.D.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,j.m.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,f.oh.clear.type,function(a){return l}),d)});b.Z=m.reducer;var n=m.actions},34473:function(a,b,c){c.d(b,{H:function(){return r}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,i.oM)({name:"allCollaborators",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(r.pending()),d.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/collaborators?considerSelf=").concat(c),type:"GET"}).then(function(a){f(r.fulfilled(JSON.parse(a)))}).catch(function(a){f(r.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){j(f,c,e,g,h,"next",a)}function h(a){j(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},34933:function(a,b,c){c.d(b,{Tk:function(){return M},ZH:function(){return K},"_F":function(){return L},hh:function(){return I},yB:function(){return N},zD:function(){return H}});var d=c(32176),e=c.n(d),f=c(6460),g=c(27080),h=c(32388),i=c(67952),j=c(20888),k=c(30788),l=c(62958),m=c(44173);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function s(a,b){if(null==a)return{};var c,d,e=t(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function t(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var u=(0,f.Z)(),v=u.initialState,w=u.reducers,x=(0,l.oM)({name:"articleRevisions",initialState:v,reducers:r(q({},w),{selectedSnapshotChanged:function(a,b){var c=b.payload;c&&a.loaded&&a.data&&(a.data.selectedSnapshot=c)},selectedRevisionChanged:function(a,b){var c=b.payload;c&&a.loaded&&a.data&&(a.data.selectedRevision=c)},updateSnapShotTitle:function(a,b){var c=b.payload,d=c.snapshots,e=c.revisionId;d&&a.loaded&&a.data.revisions[e]&&(a.data.revisions[e].snapshots=d)}})});function y(a,b,c,d){return null!==d?"author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/revision/").concat(d,"/snapshots"):"author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/revisions")}b.ZP=x.reducer;var z=function(a){return a().author.articleRevisions.data||null};function A(a,b){var c=z(b);if(!c)return"";if(null!==a){var d=c.revisions[a];return d.nextCursor?d.nextCursor:""}return c.nextCursor}var B=function(a){var b=a.created,c=s(a,["created"]);return q({created:new Date(b)},c)},C=function(a,b,c){var d=z(c),e=b.has_more,f=b.next_cursor,g=b.snapshots,h=s(b,["has_more","next_cursor","snapshots"]),i=g.map(B);if(!d)return{hasMore:!0,nextCursor:"",revisions:p({},a,q({revisionId:a,lastModified:new Date,nextCursor:f,hasMore:e,snapshots:i},h))};var j=d.revisions[a],k=q({},d.revisions);d.revisions;var l=s(d,["revisions"]),m=j.snapshots,n=s(j,["snapshots"]);return k[a]=q(r(q({},n),{hasMore:e,nextCursor:f,snapshots:m?m.concat(i):i}),h),r(q({},l),{revisions:k})},D=function(a){var b=a.last_modified,c=a.revision_id,d=a.is_draft,e=s(a,["last_modified","revision_id","is_draft"]);return q({lastModified:new Date(b),revisionId:parseInt(c,10),isDraft:d},e)},E=function(a){return a?a.reduce(function(a,b){return r(q({},a),p({},b.revision_id,D(b)))},{}):{}},F=function(a,b){var c=z(b),d=a.has_more,e=a.next_cursor,f=a.revisions,g=s(a,["has_more","next_cursor","revisions"]);if(!c)return q({hasMore:d,nextCursor:e,revisions:E(f)},g);var h=c.revisions,i=s(c,["revisions"]);return q(r(q({},i),{hasMore:d,nextCursor:e,revisions:q({},h,E(f))}),g)},G=function(a,b,c){var d=JSON.parse(c);return null===a?F(d,b):C(a,d,b)},H=function(a,b,c,d){var f,j=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,k=arguments.length>5&& void 0!==arguments[5]?arguments[5]:[];return f=o(e().mark(function f(l,n){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(x.actions.pending()),e.abrupt("return",(0,i.Z)({url:"/api/".concat(y(a,b,c,j)).concat((0,m.N)({page_size:h.Uso,start_cursor:A(j,n),id_whitelist:JSON.stringify(k),document_type:d})),type:"GET"}).then(function(a){l(x.actions.fulfilled(G(j,n,a)))}).catch(function(a){l(x.actions.rejected((0,g.nU)(a)))}));case 2:case"end":return e.stop()}},f)})),function(a,b){return f.apply(this,arguments)}},I=function(a,b){var c,d=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];return c=o(e().mark(function c(f){var g;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d&&f(j.n.show(k.ad,{status:"WAIT",text:"Saving Title"})),g=(0,i.Z)({url:"/api/collection/snapshot_name/".concat(a),type:"PUT",data:{title:b}}).then(function(){return d&&f(j.n.update({status:"SUCCESS",text:"Title saved successfully"})),!0}).catch(function(a){var b=a.responseText,c="Unable to Save Changes";try{var d,e=null===(d=JSON.parse(b).errors)|| void 0===d?void 0:d.title,g="Field cannot be longer than 20 characters.";e===g&&(c=g)}finally{return f(j.n.update({status:"ERROR",text:c})),!1}}),c.abrupt("return",g);case 3:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},J=x.actions,K=J.clear,L=J.updateSnapShotTitle,M=J.selectedRevisionChanged,N=J.selectedSnapshotChanged},1636:function(a,b,c){c.d(b,{ZH:function(){return p},zD:function(){return o}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var k=(0,f.Z)(),l=k.initialState,m=k.reducers,n=(0,i.oM)({name:"author/articleSnapshot/properties",initialState:l,reducers:m});b.ZP=n.reducer;var o=function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(n.actions.pending()),d.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/snapshot/props?key=").concat(c),type:"GET"}).then(function(a){f(n.actions.fulfilled(JSON.parse(a)))}).catch(function(a){f(n.actions.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){j(f,c,e,g,h,"next",a)}function h(a){j(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}},p=n.actions.clear},80242:function(a,b,c){c.d(b,{ES:function(){return $},IM:function(){return ag},Kd:function(){return ae},Lo:function(){return ad},Ol:function(){return W},Us:function(){return af},ds:function(){return N},ms:function(){return X}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(12031),i=c(57919),j=c(32388),k=c(83090),l=c(20888),m=c(30788),n=c(27080),o=c(78977),p=c(68973),q=c(54902),r=c(18342),s=c(46875),t=c(18925),u=c(90305),v=c(27155),w=c(24602),x=c(67952),y=c(72392),z=c(4651),A=c(13987),B=c(49602),C=c(71267),D=c(37063),E=c(49447);function F(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function G(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function H(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){G(f,d,e,g,h,"next",a)}function h(a){G(f,d,e,g,h,"throw",a)}g(void 0)})}}function I(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function J(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){I(a,b,c[b])})}return a}function K(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var L={categories:[JSON.parse(JSON.stringify(new h.Z(!0,!1,!1,j.j1J.ASSESSMENT_CATEGORY))),]},M=function(a,b){return a.findIndex(function(a){return a.id===b})},N={text:"",mdHtml:""},O=function(a,b){var c;return K(J({},a),{content:K(J({},a.content),{questionStatement:(null===(c=a.content)|| void 0===c?void 0:c.questionStatement)||N}),skills:((null==a?void 0:a.skills)||[]).filter(function(a){return(null==b?void 0:b.indexOf(a))>=0})})},P=function(a,b,c,d,e,f){var g=a.toc.categories;if(g.forEach(function(a){return a.editMode=!1}),void 0!==e){var i=g[e].pages,k=i.splice(d+1);i=i.slice(0,d+1);var l=i,m=new h.Z(!1,b,!1,j.j1J.ASSESSMENT_CATEGORY,void 0,void 0,void 0,f);(m=JSON.parse(JSON.stringify(m))).pages=k,g[e].pages=l,g.splice(e+1,0,m)}else{var n=new h.Z(!1,b,c,j.j1J.ASSESSMENT_CATEGORY,void 0,void 0,void 0,f);n=JSON.parse(JSON.stringify(n)),g.push(n)}},Q=function(a,b,c,d){var e,f,g,h,k,l,m,n,o=b.question_id,p=b.question_type,q=new i.Z({id:parseInt(o),type:j.qen.ASSESSMENT_QUESTION,question_type:p});null==d?null==a||null===(k=a.data)|| void 0===k||null===(l=k.toc)|| void 0===l||null===(m=l.categories)|| void 0===m||null===(n=m[c])|| void 0===n||n.pages.push(JSON.parse(JSON.stringify(q))):null==a||null===(e=a.data)|| void 0===e||null===(f=e.toc)|| void 0===f||null===(g=f.categories)|| void 0===g||null===(h=g[c])|| void 0===h||h.pages.splice(d+1,0,JSON.parse(JSON.stringify(q)))},R=(0,f.Z)(),S=R.initialState,T=R.reducers,U=(0,g.oM)({name:"assessment",initialState:K(J({},S),{question:null}),reducers:K(J({},T),{updateAssessmentTitle:function(a,b){var c=b.payload;a.data.title=c,a.data.dirty=!0},updatePublishStatus:function(a,b){var c=b.payload;a.data.is_published=c},setDirty:function(a,b){var c=b.payload;a.data.dirty=c},setQuestionDirty:function(a,b){var c=b.payload;(null==a?void 0:a.question)!=null&&(a.question.dirty=c)},updateAssessmentTimeLimit:function(a,b){var c=b.payload;a.data.time_limit=c,a.data.dirty=!0},updateAssessmentMaxAttempts:function(a,b){var c=b.payload;a.data.max_attempts=c,a.data.dirty=!0},updateAssessmentPassPercentage:function(a,b){var c=b.payload;a.data.pass_percentage=c,a.data.dirty=!0},updateEnterpriseAssessmentCriteria:function(a,b){var c=b.payload;a.data.pass_percentage=c,a.data.pass_percentage&&"0"!==a.data.pass_percentage?a.data.grading_criteria=j.$88.BINARY:a.data.grading_criteria=j.$88.UNGRADED,a.data.dirty=!0},updateAssessmentGradingCriteria:function(a,b){var c=b.payload;a.data.grading_criteria=c,a.data.dirty=!0},updateAssessmentSummary:function(a,b){var c=b.payload;a.data.summary=c,a.data.dirty=!0},updatePreparationWorks:function(a,b){var c=b.payload;a.data.preparation_works=c,a.data.dirty=!0},updateAssessmentContent:function(a,b){var c=b.payload;a.data.assessment_content=c,a.data.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.data.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=J({},a.data.udata_files[e],d),a.data.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.data.dirty=!0},addCategory:function(a,b){var c,d,e,f=b.payload,g=f.index,h=f.parentIndex,i=f.title,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,k=(null==(e=j)?void 0:e[0].title)==="__default",l=a.data.is_skill_assessment;k?(a.data.toc.categories[0].title=i||"Untitled ".concat(l?"set":"category"),a.data.toc.categories[0].editMode=!i):P(a.data,!i,!1,g,h,i)},addQuestion:function(a,b){var c,d,e=b.payload,f=e.category_id,g=e.question,h=e.index,i=M(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,f);Q(a,g,i,h)},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=M(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,g);a.data.toc.categories[h].title="__default"!==f?f:"",a.data.toc.categories[h].editMode=!1},toggleQuestionSet:function(a,b){var c=b.payload.id,d=M(a.data.toc.categories,c);a.data.toc.categories[d].excludeSet=!a.data.toc.categories[d].excludeSet,a.data.toc.categories[d].editMode=!1},updateQuestionTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.questionId,f=c.title;if(a.data&&d){var g=M(a.data.toc.categories,d),h=M(a.data.toc.categories[g].pages,e);a.data.toc.categories[g].pages[h].title=f,a.data.toc.categories[g].pages[h].editMode=!1}},moveCategory:function(a,b){var c,d,e,f=b.payload,g=f.from,h=f.to,i=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:e[g.itemIndex];a.data.toc.categories.splice(g.itemIndex,1),a.data.toc.categories.splice(h.itemIndex,0,i),a.data.dirty=!0},moveQuestionWithinOrigin:function(a,b){var c,d,e,f,g=b.payload,h=g.from,i=g.to,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:null===(f=e[h.parentIndex])|| void 0===f?void 0:f.pages;j.splice(i.itemIndex,0,j.splice(h.itemIndex,1)[0]),a.data.dirty=!0},moveQuestionToNotEmptyCategory:function(a,b){var c,d=b.payload,e=d.from,f=d.to,g=null===(c=null==a?void 0:a.data.toc)|| void 0===c?void 0:c.categories;g[f.parentIndex].pages.splice(f.itemIndex,0,g[e.parentIndex].pages.splice(e.itemIndex,1)[0]),a.data.dirty=!0},removeQuestion:function(a,b){var c,d,e,f,g,h,i=b.payload,j=i.category_id,k=i.article_id,l=M(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j),m=M(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:null===(h=g[l])|| void 0===h?void 0:h.pages,k);a.data.toc.categories[l].pages.splice(m,1)},removeCategory:function(a,b){var c,d,e,f,g,h=b.payload.id,i=M(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,h);a.data.toc.categories.splice(i,1),(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.length)||(a.data.toc=L)},setQuestion:function(a,b){var c,d=b.payload;a.question=O(d.data,null===(c=a.data)|| void 0===c?void 0:c.skills),a.question[k.Zq]=d[k.Zq]},setRestoredQuestion:function(a,b){var c=b.payload;a.question&&(a.question.content=c.data.content,a.question.protected_content=c.data.protected_content,a.question.question_type=c.data.question_type,a.question.difficulty=c.data.difficulty,a.question.relevant_lessons=c.data.relevant_lessons,a.question.skills=c.data.skills,a.question.snapshot_loaded=!0)},clearRestoredQuestion:function(a){a.question&&(a.question.content=null,a.question.protected_content=null,a.question.question_type=null,a.question.difficulty=null,a.question.snapshot_loaded=!1)},setQuestionGoingToPreview:function(a,b){var c=b.payload;a.question&&(a.question.goingToPreview=c)},updateQuestionData:function(a,b){var c=b.payload;a.question.content=c.content,a.question.protected_content=c.protected_content,a.question.question_type=c.question_type,a.question.difficulty=c.difficulty,a.question.skills=c.skills,a.question.relevant_lessons=c.relevant_lessons,a.question.dirty=!0,a.question.topics=c.topics},updateQuestionType:function(a,b){var c=b.payload;a.question.question_type=c},moveChoices:function(a,b){var c=b.payload,d=c.from,e=c.to;if(c.assessmentType===j.Q5R.QUESTIONNAIRE){var f,g,h,i=null==a?void 0:null===(f=a.question)|| void 0===f?void 0:null===(g=f.content)|| void 0===g?void 0:null===(h=g.choices)|| void 0===h?void 0:h[d];a.question.content.choices.splice(d,1),a.question.content.choices.splice(e,0,i)}else{var k,l,m=a.question.content.widgetContent.content.statements[0][d];a.question.content.widgetContent.content.statements[0][d]=a.question.content.widgetContent.content.statements[0][e],a.question.content.widgetContent.content.statements[0][e]=m,(null===(k=a.question)|| void 0===k?void 0:k.protected_content.answers[0])===d?a.question.protected_content.answers[0]=e:(null===(l=a.question)|| void 0===l?void 0:l.protected_content.answers[0])===e&&(a.question.protected_content.answers[0]=d)}a.question.dirty=!0},updateChoiceData:function(a,b){var c=b.payload,d=c.choice,e=c.id;a.question.content.choices[e]=d},updatePlanDetails:function(a,b){var c=b.payload,d=c.plan_details,e=c.id;a.question.content.choices[e].plan_details=d,a.question.dirty=!0},addChoice:function(a,b){var c,d=b.payload.choice;a.question.content.choices=null!==(c=a.question.content.choices)&& void 0!==c?c:[],a.question.content.choices.push(d),a.question.dirty=!0},removeChoice:function(a,b){var c=b.payload.index;a.question.content.choices.splice(c,1),a.data.dirty=!0},duplicateChoice:function(a,b){var c=b.payload.index;a.question.content.choices.splice(c+1,0,a.question.content.choices[c]),a.data.dirty=!0},updateChoiceName:function(a,b){var c=b.payload,d=c.index,e=c.name;a.question.content.choices[d].name=e,a.data.dirty=!0},updateChoiceNextQuestion:function(a,b){var c=b.payload,d=c.index,e=c.value;a.question.content.choices[d].next_question_id="end"!==e?e:null,a.question.content.choices[d].is_terminating_choice="end"===e,a.data.dirty=!0},addChoiceModule:function(a,b){var c=b.payload,d=c.index,e=c.module_key;a.question.content.choices[d].linked_modules.push(e),a.data.dirty=!0},removeChoiceModule:function(a,b){var c=b.payload,d=c.index,e=c.module_key;a.question.content.choices[d].linked_modules=a.question.content.choices[d].linked_modules.filter(function(a){return a!==e}),a.data.dirty=!0},moveChoiceModule:function(a,b){var c=b.payload,d=c.from,e=c.to,f=c.choiceIndex,g=a.question.content.choices[f].linked_modules[d];a.question.content.choices[f].linked_modules.splice(d,1),a.question.content.choices[f].linked_modules.splice(e,0,g),a.question.dirty=!0},updateQuestionETag:function(a,b){var c,d=b.payload;a.question=null!==(c=a.question)&& void 0!==c?c:null,a.question[k.Zq]=d[k.Zq],d.saved&&(a.question.dirty=!1,a.question.modified=new Date().toISOString())},updateQuestionUsageMap:function(a,b){var c=b.payload;a.data.question_usage_map=c},postAssessmentSave:function(a,b){var c=b.payload;a.data[k.Zq]=c},clearQuestion:function(a){a.question=null},clearIfNotDirty:function(a){var b,c;if(!(null===(b=a.question)|| void 0===b?void 0:b.goingToPreview)&&!(null==a?void 0:null===(c=a.question)|| void 0===c?void 0:c.dirty))return S},clearQuestionIfNotDirty:function(a){var b,c;(null==a?void 0:null===(b=a.question)|| void 0===b?void 0:b.goingToPreview)||(null==a?void 0:null===(c=a.question)|| void 0===c?void 0:c.dirty)||(a.question=null)},updateProgress:function(a,b){var c=b.payload;a.question&&(a.question.progress=c)},addHighLevelTopic:function(a){a.data.topics_v2=null!==(b=a.data.topics_v2)&& void 0!==b?b:[];var b,c={topic_id:(0,g.x0)(),topic_name:"High Level Topic ".concat(a.data.topics_v2.length+1),low_level_topics:[]};a.data.topics_v2.push(c),a.data.dirty=!0},addLowLevelTopic:function(a,b){var c,d=b.payload.highLevelTopicIndex;a.data.topics_v2[d].low_level_topics=null!==(c=a.data.topics_v2[d].low_level_topics)&& void 0!==c?c:[];var e={topic_id:(0,g.x0)(),topic_name:"Low Level Topic ".concat(a.data.topics_v2[d].low_level_topics.length+1),playlist:[]};a.data.topics_v2[d].low_level_topics.push(e),a.data.dirty=!0},addPlaylistLesson:function(a,b){var c,d=b.payload,e=d.highLevelTopicIndex,f=d.lowLevelTopicIndex;a.data.topics_v2[e].low_level_topics[f].playlist=null!==(c=a.data.topics_v2[e].low_level_topics[f].playlist)&& void 0!==c?c:[],a.data.topics_v2[e].low_level_topics[f].playlist.push(""),a.data.dirty=!0},removeHighLevelTopic:function(a,b){var c=b.payload.highLevelTopicIndex;a.data.topics_v2.splice(c,1),a.data.dirty=!0},removeLowLevelTopic:function(a,b){var c=b.payload,d=c.highLevelTopicIndex,e=c.lowLevelTopicIndex;a.data.topics_v2[d].low_level_topics.splice(e,1),a.data.dirty=!0},removePlaylistLesson:function(a,b){var c=b.payload,d=c.highLevelTopicIndex,e=c.lowLevelTopicIndex,f=c.playlistLessonIndex;a.data.topics_v2[d].low_level_topics[e].playlist.splice(f,1),a.data.dirty=!0},renameHighLevelTopic:function(a,b){var c=b.payload,d=c.topicName,e=c.highLevelTopicIndex;a.data.topics_v2[e].topic_name=d,a.data.dirty=!0},renameLowLevelTopic:function(a,b){var c=b.payload,d=c.topicName,e=c.highLevelTopicIndex,f=c.lowLevelTopicIndex;a.data.topics_v2[e].low_level_topics[f].topic_name=d,a.data.dirty=!0},updatePlaylistLesson:function(a,b){var c=b.payload,d=c.lessonURL,e=c.highLevelTopicIndex,f=c.lowLevelTopicIndex,g=c.playlistLessonIndex;a.data.topics_v2[e].low_level_topics[f].playlist[g]=d,a.data.dirty=!0},updateQuestionHighLevelTopic:function(a,b){var c=b.payload.highLevelTopicId;a.question.high_level_topic_v2=c,a.question.dirty=!0},updateQuestionLowLevelTopic:function(a,b){var c=b.payload.lowLevelTopicId;a.question.low_level_topic_v2=c,a.question.dirty=!0},clearQuestionHighLevelTopic:function(a){a.question.high_level_topic_v2=void 0,a.question.dirty=!0},clearQuestionLowLevelTopic:function(a){a.question.low_level_topic_v2=void 0,a.question.dirty=!0}})});b.ZP=U.reducer;var V,W=K(J({},U.actions),{load:function(a){var b,d=a.author_id,f=a.collection_id,g=a.assessment_id,h=a.planId,i=void 0===h?null:h,l=a.planAuthorId,m=void 0===l?null:l,p=a.menteeId,q=void 0===p?null:p,r=a.course_url_slug,s=void 0===r?"":r,t=a.page_url_slug,u=void 0===t?"":t,v=a.mode,w=a.assessment_type,y=void 0===w?j.Q5R.REGULAR:w,z=a.userInfo,A=s&&u?"".concat(y===j.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(s,"/").concat(u,"?assessment_type=").concat(y):"".concat(y===j.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(d,"/").concat(f,"/").concat(g,"?assessment_type=").concat(y).concat(y===j.Q5R.SKILL_ASSESSMENT&&i&&m&&q?"&plan_id=".concat(i,"&plan_author_id=").concat(m,"&user_id=").concat(q):""),B="author/".concat(d,"/collection/").concat(f,"/assessment/").concat(g).concat(y===j.Q5R.QUESTIONNAIRE?"?assessment_type=questionnaire":""),D="view"===v||"compare"===v?A:B;return b=H(e().mark(function a(b,d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(W.pending()),a.abrupt("return",(0,x.Z)({url:"/api/".concat(D),type:"GET"},!0).then(function(a){var c,e,f,g,h=Y(a);b(W.fulfilled(h));var i={compIds:null,authorId:null,userId:null==z?void 0:z.user_id,pageId:null,collectionId:null,currentAttempt:null},l=null==h?void 0:null===(c=h.question_content)|| void 0===c?void 0:c.content;return i.userId&&d().assessment.loaded&&l&&(i.currentAttempt=h.current_attempt,i.authorId=h.author_id,i.pageId=h.question_content.question_id,i.collectionId=h.collection_id,i.compIds=(null===(e=l.widgetContent)|| void 0===e?void 0:null===(f=e.content)|| void 0===f?void 0:f.comp_id)?[l.widgetContent.content.comp_id]:Array.isArray(l.questionStatement)?l.questionStatement.map(function(a){return a.content.comp_id}).filter(Boolean):[],(null===(g=i.compIds)|| void 0===g?void 0:g.length)&&i.authorId&&i.userId&&i.pageId&&b((0,C.Sh)(i))),a&&(b(W.updateETag(a.xhr.headers.get(k.Zq))),y===j.Q5R.SKILL_ASSESSMENT&&b(W.loadSkillAssessmentQuestions(a))),a}).catch(function(a){a.status===o.Wy.unauthorizedException?(0,n.xc)():a.status===o.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(W.rejected((0,n.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}},save:function(a){var b=a.assessment;return function(a){return(0,q.j)(Z(b)).then(function(b){if(b&&(a(W.postAssessmentSave(b.xhr.headers.get(k.Zq))),b.data)){var c=JSON.parse(b.data).question_usage_map;c&&a(W.updateQuestionUsageMap(c))}})}},prepareDockerOnSetAssessment:function(a){var b;return b=H(e().mark(function b(c){var d,f,g,h,i,j;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=(null==a?void 0:a.docker)?K(J({},a.docker),{envs:null!==(d=a.docker.envs)&& void 0!==d?d:[]}):t.s4,b.next=4,(0,u.wi)();case 4:g=b.sent,h=K(J({},f),{container:K(J({},f.container),{liveInstance:g})}),c(v.ry.setObject(h)),j=(null==a?void 0:a.testing_docker)?K(J({},a.testing_docker),{envs:null!==(i=a.testing_docker.envs)&& void 0!==i?i:[]}):t.s4,c(w.h.setObject(j));case 10:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}},saveQuestion:function(a){var b=a.question,c=a.assessment_type;return function(a){return(0,p.U)(aa(b),c).then(function(b){if(b){var c;if(a(W.updateQuestionETag((I(c={},k.Zq,b.xhr.headers.get(k.Zq)),I(c,"saved",!0),c))),b.data){var d=JSON.parse(b.data).question_usage_map;d&&a(W.updateQuestionUsageMap(d))}}})}},loadSkillAssessmentQuestions:function(a){return function(b){if(a){var c,d=null===(c=JSON.parse(a.data))|| void 0===c?void 0:c.question_content;if(d)return b(W.setQuestion(I({data:d},k.Zq,a.xhr.headers.get(k.Zq)))),d}}},loadQuestion:function(a){return function(b){return(0,s.T)(a).then(function(a){if(null==a?void 0:a.data){var c=JSON.parse(a.data);return b(W.setQuestion(I({data:c},k.Zq,a.xhr.headers.get(k.Zq)))),c}})}},loadQuestionSnapshot:function(a,b,c,d){return function(c){return(0,r.v)(a,b,d,j.qen.ASSESSMENT_QUESTION).then(function(a){if(null==a?void 0:a.data){var b=JSON.parse(a.data);return c(W.setRestoredQuestion({data:b})),b}})}}}),X=function(a,b){var c=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];return function(d,e){b&&d(b);var f=e().assessment.data.assessment_type===j.Q5R.QUESTIONNAIRE;d(l.n.show(m.ad,{status:"WAIT",text:"Saving ".concat(f?"Questionnaire":"Assessment")}));var g=null==a?void 0:a.summaryComps;return d(W.save({assessment:K(J({},e().assessment.data),{summary:null!=g?g:e().assessment.data.summary,docker:JSON.stringify((0,t.qZ)(e().dockerDetails)),testing_docker:JSON.stringify((0,t.qZ)(e().testingDockerDetails)),is_landing_page_containing_link:(0,E.U)(g)})})).then(function(){c&&d(l.n.show(m.ad,{status:"SUCCESS",text:"Saved"})),((null==a?void 0:a.resetDirty)||f)&&((null==a?void 0:a.summaryComps)&&d(W.updateAssessmentSummary(null==a?void 0:a.summaryComps)),d(W.setDirty(!1))),e().assessment.question&&(null==a?void 0:a.resetQuestionDirty)&&d(W.setQuestionDirty(!1))}).catch(function(a){(0,n.rU)(a,d);var c,e=null==a?void 0:null===(c=a.responseJSON)|| void 0===c?void 0:c.errorText;a.status===o.Wy.AlreadyExistsException&&e===o.pX.versionOutDatedMessage?d(ah(function(){d(W.updateETag(j.FhE)),d(X(void 0,b))})):d(l.n.show(m.ad,{status:"ERROR",text:(0,n.nU)(a)||"Failed to save ".concat(f?"questionnaire":"assessment")}))})}},Y=function(a){var b=JSON.parse(a.data);return Object.keys(b.toc).length||(b=K(J({},b),{toc:L,dirty:!1})),b},Z=function(a){var b=a.udata_files.map(function(a){return a.file_id});b=JSON.stringify(b);var c,d=JSON.stringify(a.toc),e=a.pass_percentage?parseFloat(a.pass_percentage):0;return K(J({},a),{assessment_content_json:JSON.stringify(a.assessment_content),udata_files:b,toc:d,pass_percentage:e,dirty:!1,concept_list:(0,z.e9)((0,D.m)(a.summary)),topics_v2:JSON.stringify((c=a.topics_v2).map(function(a){return K(J({},a),{low_level_topics:JSON.stringify(a.low_level_topics.map(function(a){return K(J({},a),{playlist:JSON.stringify(Array.from(new Set(a.playlist.filter(function(a){return a}))))})}))})}))})},$=function(a){var b;return b=H(e().mark(function b(c,d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(){var b=H(e().mark(function b(f,g){var h,i,k,l,m,n,o,p,q;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.prev=0,k=i=a.content.widgetContent,l=0;case 5:if(!(l<(null===(h=i.content)|| void 0===h?void 0:h.options.length))){b.next=18;break}if(!((p=null===(m=i.content)|| void 0===m?void 0:m.options[l]).blockType===j.$Wo.IMAGE&&!(null===(n=p.content)|| void 0===n?void 0:null===(o=n.data)|| void 0===o?void 0:o.image_id))){b.next=15;break}return b.next=11,(0,y.i1)({author_id:d().assessment.data.author_id,collection_id:d().assessment.data.collection_id,page_id:a.question_id});case 11:return q=b.sent,b.next=14,_(k,q,l);case 14:k=b.sent;case 15:l++,b.next=5;break;case 18:c(W.updateQuestionData(K(J({},a),{content:K(J({},a.content),{widgetContent:k})}))),f(),b.next=25;break;case 22:b.prev=22,b.t0=b.catch(0),g(b.t0);case 25:case"end":return b.stop()}},b,null,[[0,22]])}));return function(a,c){return b.apply(this,arguments)}}()));case 1:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},_=(V=H(e().mark(function a(b,c,d){var f,g,h,i;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=JSON.parse(c),b=K(J({},b),{content:K(J({},b.content),{options:b.content.options.map(function(a,b){return a.blockType===j.$Wo.IMAGE&&b===d?K(J({},a),{content:K(J({},a.content),{data:K(J({},a.content.data),{image_id:f.image_id})})}):a})})}),g=f.upload_url,a.next=5,fetch(b.content.options[d].content.data.file).then(function(a){return a.blob()});case 5:return h=a.sent,URL.revokeObjectURL(b.content.options[d].content.data.file),a.next=9,(0,y.iL)({upload_url:g,file:h});case 9:return delete b.content.options[d].content.data.file,i=b.content.options.map(function(a,b){return a.blockType===j.$Wo.IMAGE&&b===d?K(J({},a),{content:K(J({},a.content),{data:K(J({},a.content.data),{image_id:f.image_id,file:null})})}):a}),a.abrupt("return",K(J({},b),{content:K(J({},b.content),{options:i})}));case 12:case"end":return a.stop()}},a)})),function(a,b,c){return V.apply(this,arguments)}),aa=function(a){var b,c,d,e,f=[];return f="AssessmentFreeText"===a.question_type?(0,z.e9)(((function(a){if(Array.isArray(a))return F(a)})(b=null==a?void 0:null===(c=a.protected_content)|| void 0===c?void 0:c.answers)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return F(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return F(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([null==a?void 0:null===(d=a.content)|| void 0===d?void 0:d.questionStatement,])):(0,z.e9)([null==a?void 0:null===(e=a.content)|| void 0===e?void 0:e.questionStatement]),K(J({},a),{concept_list:f})},ab=function(a,b,c){var d;return d=H(e().mark(function d(f,g){var h,i,k,l;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h=g().assessment.question.content.choices[c],i=(b=JSON.parse(b)).image_id,k=b.upload_url,l=(a=K(J({},a),{image_id:i})).cover_image,d.next=7,(0,y.iL)({upload_url:"".concat(k,"?course_type=").concat(j.dLO.QUESTIONNAIRE),file:l});case 7:delete a.cover_image,f(W.updateChoiceData({choice:K(J({},h),{plan_details:K(J({},h.plan_details),{image:a})}),id:c}));case 9:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},ac=function(a,b){var c;return c=H(e().mark(function c(d,f){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(){var c=H(e().mark(function c(g,h){var i,k,l;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i=f().assessment.data.author_id,k=f().assessment.data.collection_id,c.next=5,(0,B.p)(i,k,j.dLO.QUESTIONNAIRE);case 5:return l=c.sent,c.next=8,d(ab(a,l,b));case 8:g(),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),h(c.t0);case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(a,b){return c.apply(this,arguments)}}()));case 1:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}},ad=function(){var a;return a=H(e().mark(function a(b,c){var d;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c().assessment.question.content.choices,a.next=3,Promise.all(d.map(function(a,c){var d,e=null==a?void 0:null===(d=a.plan_details)|| void 0===d?void 0:d.image;return(null==e?void 0:e.cover_image)?b(ac(e,c)):Promise.resolve()}));case 3:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}},ae=function(a){var b,c=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];return b=H(e().mark(function b(d,f){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a&&d(a),c&&d(l.n.show(m.ad,{status:"WAIT",text:"Saving"})),b.abrupt("return",d(W.saveQuestion({question:f().assessment.question,assessment_type:f().assessment.data.assessment_type})).then(function(){c&&d(l.n.show(m.ad,{status:"SUCCESS",text:"Saved"}))}).catch(function(b){var e,f=null==b?void 0:null===(e=b.responseJSON)|| void 0===e?void 0:e.errorText;b.status===o.Wy.AlreadyExistsException&&f===o.pX.versionOutDatedMessage?d(ah(function(){d(W.updateQuestionETag(I({},k.Zq,j.FhE))),d(ae(a))})):c&&d(l.n.show(m.ad,{status:"ERROR",text:"Failed to save question"}))}));case 3:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},af=function(a,b,c,d,e){return function(f){var g=d.file.name.split(" ").join("-"),h="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(g,"/get_upload_url?assessment_id=").concat(c,"&docker_type=").concat(e.toLowerCase());return(0,x.Z)({url:h,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,c=a.container_id,h=a.blob_upload_url,i=a.upload_success_url,j=a.build_status_url,k=a.tarball_download_url,l=a.build_log_url,m=a.rebuild_image_url,n=e===A.a5.TESTING?w.h:v.ry;return f(n.setFile(K(J({},d),{id:void 0===c?-1:c,buildStatusUrl:j,tarballDownloadUrl:k,buildLogUrl:l,rebuildImageUrl:m,file:{name:g,size:d.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,x.Z)({url:i,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,x.Z)({url:h,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},ag=function(a){var b=a.upload,c=a.onUploadSuccess,d=a.dockerType;return function(a){var f,g=d===A.a5.TESTING?w.h:v.ry;return a(g.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((f=H(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(X(void 0,g.afterFileUpload(f))),a(l.n.show(m.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return b.stop()}},b)})),function(a){return f.apply(this,arguments)})).catch(function(e){if(500===e.status){a(ag({upload:b,onUploadSuccess:c,dockerType:d}));return}console.log("error while uploading docker file",e),a(g.updateBuildStatus("FAILURE")),a(l.n.show(m.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}},ah=function(a){return function(b){b(l.n.close()),b(l.n.show(m.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}}},5705:function(a,b,c){c.d(b,{y:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(67952),i=c(27080),j=c(78977);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,g.oM)({name:"author/course-catalog",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b,d){var f,g;return g=(f=e().mark(function f(g){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(s.pending()),e.abrupt("return",(0,h.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/catalog-data"),type:"POST",data:d}).then(function(a){g(s.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===j.Wy.unauthorizedException?(0,i.xc)():a.status===j.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),g(s.rejected((0,i.nU)(a)))}));case 2:case"end":return e.stop()}},f)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=f.apply(a,b);function g(a){k(e,c,d,g,h,"next",a)}function h(a){k(e,c,d,g,h,"throw",a)}g(void 0)})}),function(a){return g.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},87917:function(a,b,c){c.d(b,{B4:function(){return X},EM:function(){return W},FM:function(){return ae},H:function(){return S},He:function(){return V},JL:function(){return $},Lq:function(){return H},Pc:function(){return ag},Q9:function(){return O},WR:function(){return T},"_k":function(){return Q},bP:function(){return ac},d1:function(){return ad},hJ:function(){return ah},i5:function(){return _},j6:function(){return ab},l1:function(){return aa},ms:function(){return af},qu:function(){return Y},tY:function(){return U}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(83090),i=c(20888),j=c(30788),k=c(46124),l=c(27080),m=c(78977),n=c(18925),o=c(27155),p=c(90305),q=c(32388),r=c(4651),s=c(67952),t=c(76116),u=c(12773),v=c(72392),w=c(44173),x=c(62746),y=c(4176),z=c(44660),A=c(18342);function B(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function C(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){B(f,d,e,g,h,"next",a)}function h(a){B(f,d,e,g,h,"throw",a)}g(void 0)})}}function D(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function E(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){D(a,b,c[b])})}return a}function F(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var G=function(a,b,c,d){if(new Set(a.relevant_courses).size!==a.relevant_courses.length)throw Error("A duplicate relevant course can not be added");a.relevant_courses.forEach(function(a,b){if(!z.gX.test(a))throw Error("Relevant course ".concat(b+1," has incorrect course link"))});var e,f,g,h=b||a.content||[],i=c||a.landing_page_content,j=(0,r.Dn)(b?h:(null===(e=h.ids)|| void 0===e?void 0:e.map(function(a){return h.entities[a]}))||[]),k=JSON.stringify(a.toc),l=2===a.version;return F(E({},a),{docker:JSON.stringify((0,n.qZ)(d)),udata_files:JSON.stringify(null!==(g=null===(f=a.udata_files)|| void 0===f?void 0:f.map(function(a){return a.file_id}))&& void 0!==g?g:[]),content:l?[]:h,concept_list:j,toc:l?k:JSON.stringify({}),landing_page_content:i,relevant_courses:JSON.stringify(a.relevant_courses.filter(function(a){return a})),widget_groups:a.widget_groups&&JSON.stringify(a.widget_groups)})},H={DRAFT:1e3,IN_ADMIN_REVIEW:1001,APPROVED:1002},I={loaded:!1,cloud_lab_task_id:null,content:null,envContent:{codeContent:{},type:""},"X-ETag":null,modified:null},J=(0,f.Z)(),K=J.initialState,L=J.reducers,M=(0,g.oM)({name:"cloudLab",initialState:F(E({},K),{dirty:!1,task:I,active_draft_lab_status:!1}),reducers:F(E({},L),{clear:function(){return F(E({},K),{dirty:!1,active_draft_lab_status:!1})},clearTask:function(a){var b,c,d=null!==(c=null===(b=a.task)|| void 0===b?void 0:b.envContent)&& void 0!==c?c:{codeContent:{},type:""};a.task=F(E({},I),{envContent:d})},onSaveSuccess:function(a,b){var c=b.payload;a.data["X-ETag"]=c,a.dirty=!1},updateLabPrice:function(a,b){var c=b.payload;a.data.credit_cost=c},updateTitle:function(a,b){var c=b.payload;a.data.title=c,a.dirty=!0},updateTimeLimit:function(a,b){var c=b.payload;a.data.time_limit=c,a.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=E({},a.data.udata_files[e],d),a.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.dirty=!0},updateCloudProvider:function(a,b){var c=b.payload;a.data.cloud_provider=c,a.dirty=!0},updateSummary:function(a,b){var c=b.payload;a.data.summary=c,a.dirty=!0},updateWidgetGroups:function(a,b){var c=b.payload;a.data.widget_groups=c,a.dirty=!0},updateLandingPageContent:function(a,b){var c=b.payload;a.data.landing_page_content=c.landing_page_content,a.dirty=!0},updateRelevantCourses:function(a,b){var c=b.payload;a.data.relevant_courses=c,a.dirty=!0},updateContent:function(a,b){var c=b.payload;a.data.content=c.content,a.dirty=c.dirty},updateTaskCodeContent:function(a,b){var c=b.payload;a.task.envContent.codeContent=c.codeContent},updateCodingEnv:function(a,b){var c=b.payload;a.task.envContent.type=c,a.task.envContent.codeContent={selectedEnvVars:{},comp_id:(0,g.x0)()},a.dirty=!0},updatePolicy:function(a,b){var c=b.payload;a.data.policy=c.policy,a.dirty=!0,a.data.is_policy_valid=!1},updateSetupScript:function(a,b){var c=b.payload;a.data.setup_script=c.setup_script,a.dirty=!0},updateCLIEnabled:function(a,b){var c=b.payload;a.data.is_cli_enabled=c.is_cli_enabled,a.dirty=!0},toggleCodingEnv:function(a,b){var c=b.payload;a.data.enable_coding_env=c.enable_coding_env,a.dirty=!0},updateLoginConsole:function(a,b){var c=b.payload;a.data.disable_federated_login=c.disable_federated_login,a.dirty=!0},updateCliDockerJobKey:function(a,b){var c=b.payload;a.data.cli_docker_job_key=c.cli_docker_job_key,a.dirty=!0},updateStatus:function(a,b){var c=b.payload;a.data.lab_status=c},updateIsPolicyValid:function(a,b){var c=b.payload;a.data.is_policy_valid=c.is_policy_valid},updateDocker:function(a,b){var c,d=b.payload;(null===(c=a.data)|| void 0===c?void 0:c.docker)&&(a.data.docker=d)},addCategory:function(a,b){var c,d,e=b.payload,f=e.index,g=e.parentIndex,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,i=(0,x.oW)(h);i?(a.data.toc.categories[0].title="Untitled category",a.data.toc.categories[0].editMode=!0):(0,x.SK)(a.data,!0,!1,f,g,q.j1J.CLOUD_LAB_CATEGORY),a.dirty=!0},addTask:function(a,b){var c,d,e=b.payload,f=e.category_id,g=e.task,h=e.index,i=(0,x.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,f);(0,x.WL)(a,null==g?void 0:g.cloud_lab_task_id,i,h,q.qen.CLOUD_LAB_TASK),a.dirty=!0},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=(0,x.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,g);a.data.toc.categories[h].title="__default"!==f?f:"",a.data.toc.categories[h].editMode=!1,a.dirty=!0},updateTaskTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.taskId,f=c.title;if(a.data){if(d){var g=(0,x.QY)(a.data.toc.categories,d),h=(0,x.QY)(a.data.toc.categories[g].pages,e);a.data.toc.categories[g].pages[h].title=f,a.data.toc.categories[g].pages[h].editMode=!1}a.dirty=!0}},removeTask:function(a,b){var c,d,e,f,g,h,i=b.payload,j=i.category_id,k=i.taskId,l=(0,x.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j);if(-1!==l){var m=(0,x.QY)(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:null===(h=g[l])|| void 0===h?void 0:h.pages,k);a.data.toc.categories[l].pages.splice(m,1),a.dirty=!0}},removeCategory:function(a,b){var c,d,e,f,g,h=b.payload.id,i=(0,x.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,h);-1!==i&&(a.data.toc.categories.splice(i,1),(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.length)||(a.data.toc=(0,x.qH)(q.j1J.CLOUD_LAB_CATEGORY)),a.dirty=!0)},moveTaskWithinOrigin:function(a,b){var c,d,e,f,g=b.payload,h=g.from,i=g.to,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:null===(f=e[h.parentIndex])|| void 0===f?void 0:f.pages;j.splice(i.itemIndex,0,j.splice(h.itemIndex,1)[0]),a.dirty=!0},moveCategory:function(a,b){var c,d,e,f=b.payload,g=f.from,h=f.to,i=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:e[g.itemIndex];a.data.toc.categories.splice(g.itemIndex,1),a.data.toc.categories.splice(h.itemIndex,0,i),a.dirty=!0},moveTaskToNotEmptyCategory:function(a,b){var c,d=b.payload,e=d.from,f=d.to,g=null===(c=null==a?void 0:a.data.toc)|| void 0===c?void 0:c.categories;g[f.parentIndex].pages.splice(f.itemIndex,0,g[e.parentIndex].pages.splice(e.itemIndex,1)[0]),a.dirty=!0},setRestoredTask:function(a,b){var c=b.payload;a.task&&(a.task=(0,y.Ny)({content:c.data}),a.task.loaded=!0)},clearRestoredTask:function(a){a.task=(0,y.Ny)({})},setTask:function(a,b){var c=b.payload;a.task=c.data},updateTaskEtag:function(a,b){var c=b.payload;a.task[h.Zq]=c},updateTaskContent:function(a,b){var c=b.payload;a.task.content=c.content},activateDraftLabStatus:function(a,b){var c=b.payload.active_draft_lab_status;a.data.active_draft_lab_status=c}})});b.ZP=M.reducer;var N=function(a,b){var c;return c=C(e().mark(function c(d){var f,g,h,i;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return g=(f=JSON.parse(b)).upload_url,h=f.image_id,a=F(E({},a),{content:F(E({},a.content),{image_id:h})}),c.next=5,fetch(a.content.file).then(function(a){return a.blob()});case 5:return i=c.sent,URL.revokeObjectURL(a.content.file),c.next=9,(0,v.iL)({upload_url:g,file:i});case 9:delete a.content.file,d(k.oh.updateContentState(a.hash,{image_id:a.content.image_id,file:null}));case 11:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},O=function(a,b,c,d){var f;return f=C(e().mark(function f(g){return e().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",new Promise(function(){var f=C(e().mark(function f(h,i){var j;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.p9)({authorId:a,collectionId:b,cloudLabId:c});case 3:return j=e.sent,e.next=6,g(N(d,j));case 6:h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}},f,null,[[0,9]])}));return function(a,b){return f.apply(this,arguments)}}()));case 1:case"end":return f.stop()}},f)})),function(a){return f.apply(this,arguments)}},P=function(a,b){var c=JSON.parse(a),d=Object.keys(c.toc||{}).length?c.toc:(0,x.qH)(q.j1J.CLOUD_LAB_CATEGORY);return F(E(F(E({},c),{toc:d}),c.lab_type===b.CLOUD_COURSE?{widget_groups:c.widget_groups||[{id:"".concat(c.author_id,"_").concat(c.collection_id),group_name:"DEFAULT"},]}:{}),{is_policy_valid:!!c.policy,content:(0,y.KN)(c.content)})},Q=F(E({},M.actions),{load:function(a){var b,d=a.authorId,f=a.collectionId,g=a.cloudLabId,i=a.course_url_slug,j=void 0===i?"":i,k=a.page_url_slug,n=void 0===k?"":k,o=a.mode,p=a.published,q=void 0!==p&&p,r=(a.router,j&&n?"cloud-lab/".concat(j,"/").concat(n):"cloud-lab/".concat(d,"/").concat(f,"/").concat(g)),t="view"===o,u=t?r:"author/".concat(d,"/collection/").concat(f,"/cloud-lab/").concat(g),v=q?{published:q}:{};return b=C(e().mark(function a(b,d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(Q.clear()),b(Q.pending()),a.abrupt("return",(0,s.Z)({url:"/api/".concat(u).concat((0,w.N)(v)),type:"GET"},!0).then(function(){var a=C(e().mark(function a(f){var g,i,j,k,l;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g=f.data,i=f.xhr,a.next=4,Promise.all([c.e(57920),c.e(97231)]).then(c.bind(c,81821));case 4:k=a.sent.CloudLabType,l=(null===(j=d().cloudLab)|| void 0===j?void 0:j.task)||I,b(Q.fulfilled(P(g,k))),b(Q.setTask({data:l})),g&&!t&&b(Q.onSaveSuccess(i.headers.get(h.Zq)));case 9:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===m.Wy.unauthorizedException?(0,l.xc)():a.status===m.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(Q.rejected((0,l.nU)(a)))}));case 3:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}},loadTaskSnapshot:function(a,b,c){return function(d){return(0,A.v)(a,b,c,q.qen.CLOUD_LAB_TASK).then(function(a){if(null==a?void 0:a.data){var b=JSON.parse(a.data);return d(Q.setRestoredTask({data:b})),b}})}},loadTask:function(a){var b=a.authorId,d=a.collectionId,e=a.cloudLabId,f=a.cloudLabTaskId,g=arguments.length>1&& void 0!==arguments[1]&&arguments[1];arguments.length>2&& void 0!==arguments[2]&&arguments[2];var i=g?"/api/cloud-lab/".concat(b,"/").concat(d,"/").concat(e,"/").concat(f):"/api/author/".concat(b,"/collection/").concat(d,"/cloud-lab/").concat(e,"/cloud-lab-task/").concat(f);return function(a){(0,s.Z)({url:i,type:"GET"},!0).then(function(b){if(null==b?void 0:b.data){var c=JSON.parse(null==b?void 0:b.data)||{},d=(0,y.Ny)(c),e=(0,y.KN)(d.content);a(Q.setTask({data:F(E({},d),{loaded:!0,content:e})})),g||a(Q.updateTaskEtag(b.xhr.headers.get(h.Zq)))}}).catch(function(b){b.status===m.Wy.unauthorizedException?(0,l.xc)():b.status===m.Wy.notFoundException&&(a(Q.setTask({data:F(E({},I),{loaded:!0})})),!g)&&(0,c.g.setNotFound)({notFoundPageStatus:!0})})}},save:function(){var a,b=arguments.length>0&& void 0!==arguments[0]&&arguments[0],d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return a=C(e().mark(function a(n,o){var p,r,s,u,v,w;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return p=o().cloudLab.data,r=o().dockerDetails,n(i.n.show(j.ad,{status:"WAIT",text:"".concat(b?"Submitting":"Saving"," Cloud Lab")})),a.prev=3,s=G(p,d,f,r),u=s.landing_page_content,v=s.content,a.abrupt("return",Z(E({},p),p[h.Zq],s,b).then(function(){var a=C(e().mark(function a(g){var l;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return g&&n(Q.onSaveSuccess(g.xhr.headers.get(h.Zq))),!p.is_admin&&p.active_draft_lab_status&&n(Q.updateStatus(H.DRAFT)),b&&n(Q.updateStatus(H.IN_ADMIN_REVIEW)),a.next=5,Promise.all([c.e(57920),c.e(97231)]).then(c.bind(c,81821));case 5:l=a.sent.CloudLabType,p.lab_type!==l.CLOUD_COURSE&&n(Q.updateLandingPageContent({landing_page_content:u})),n(i.n.show(j.ad,{status:"SUCCESS",text:"Cloud Lab ".concat(b?"Submitted":"Saved")})),n(Q.activateDraftLabStatus({active_draft_lab_status:!1})),(d||f)&&(n(Q.updateContent({content:v,dirty:!1})),n(k.oh.resetDirtyBit()),n(k.oh.resetMarkdownDirtyBit()),n(k.oh.load(d?v:u,!0)));case 10:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){(0,l.rU)(a,n,void 0,[m.Wy.notFoundException,]);var b,c=null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText;a.status===m.Wy.AlreadyExistsException&&c===m.pX.versionOutDatedMessage?n(R(function(){n(Q.updateETag(q.FhE)),n(Q.save(!1,d,f))})):n(i.n.show(j.ad,{status:"ERROR",text:(0,t.ie)(a)||c||"Failed to save Cloud Lab"}))}));case 9:if(a.prev=9,a.t0=a.catch(3),w=a.t0.message||"Failed to save cloud lab!",n(i.n.show(j.ad,{status:"ERROR",text:w})),!g){a.next=15;break}throw Error(w);case 15:case"end":return a.stop()}},a,null,[[3,9]])})),function(b,c){return a.apply(this,arguments)}},saveTask:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null;return a=C(e().mark(function a(c,d){var f,g,n,o;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c(i.n.show(j.ad,{status:"WAIT",text:"Saving Task"})),g=(null==(f=d().cloudLab.task)?void 0:f.envContent)||{},n=b||(null==f?void 0:f.content)||{content:[],envContent:g},n=(0,y.an)(n,null==f?void 0:f.cloud_lab_id),n=b?{content:n,envContent:g}:n,o=F(E({},f),{content:n}),a.abrupt("return",(0,s.Z)({url:"/api/author/".concat(o.author_id,"/collection/").concat(o.collection_id,"/cloud-lab/").concat(o.cloud_lab_id,"/cloud-lab-task/").concat(o.cloud_lab_task_id),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(o),headers:D({},h.Zq,o[h.Zq])},!0).then(function(a){a&&c(Q.updateTaskEtag(a.xhr.headers.get(h.Zq))),c(i.n.show(j.ad,{status:"SUCCESS",text:"Task Saved"})),b&&(c(Q.updateTaskContent({content:n})),c(Q.updateTaskCodeContent(g)),c(k.oh.resetDirtyBit()),c(k.oh.resetMarkdownDirtyBit()),c(k.oh.load(n,!0)))}).catch(function(a){(0,l.rU)(a,c,void 0,[m.Wy.notFoundException,]);var d,e=null==a?void 0:null===(d=a.responseJSON)|| void 0===d?void 0:d.errorText;a.status===m.Wy.AlreadyExistsException&&e===m.pX.versionOutDatedMessage?c(R(function(){c(Q.updateTaskEtag(q.FhE)),c(Q.saveTask(b))})):c(i.n.show(j.ad,{status:"ERROR",text:(0,t.ie)(a)||e||"Failed to save Task"}))}));case 8:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}},updateLabStatus:function(a){return function(b,c){b(i.n.show(j.ad,{status:"WAIT",text:"Updating Lab status"}));var d=c().cloudLab.data,e=F(E({},d),{new_lab_status:a,page_status:q.zaQ.DRAFT_INSTANCE});return(0,s.Z)({url:"/api/editorial/cloud-lab/approval",contentType:"application/json",processData:!1,data:JSON.stringify(e),type:"PUT"}).then(function(){b(Q.updateStatus(a)),b(i.n.show(j.ad,{status:"SUCCESS",text:"Lab status updated"}))}).catch(function(a){var c;(0,l.rU)(a,b,void 0,[m.Wy.notFoundException,]),b(i.n.show(j.ad,{status:"ERROR",text:(null==a?void 0:null===(c=a.responseJSON)|| void 0===c?void 0:c.errorText)||"Failed to update Lab"}))})}},prepareDockerOnSetCloudLab:function(a){var b;return b=C(e().mark(function b(c){var d,f,g,h;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=(null==a?void 0:a.docker)?F(E({},a.docker),{envs:null!==(d=a.docker.envs)&& void 0!==d?d:[]}):n.s4,b.next=4,(0,p.wi)(a.collection_id,a.author_id);case 4:g=b.sent,h=F(E({},f),{container:F(E({},f.container),{liveInstance:g})}),c(o.ry.setObject(h)),a.docker&&c(Q.updateDocker(h));case 8:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}},updateWidgetsContent:function(a){return function(b,c){var d=c().widgets;(d.dirty||d.markdownDirty)&&b(Q.updateContent({content:d,dirty:a}))}}}),R=function(a){return function(b){b(i.n.close()),b(i.n.show(j.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},S="general-info",T="lab-config",U="lab-content",V="review-lab",W=[{id:S,title:"General Information",isCompleted:function(a){return a.title&&"Untitled Lab"!==a.title&&a.summary&&!!a.time_limit&&!!a.cloud_provider}},{id:T,title:"Lab Configuration",isCompleted:function(a){return a.is_policy_valid}},{id:U,title:"Lab Content",isCompleted:function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.length)>0}},{id:V,title:"Review Lab",isCompleted:function(a){return a.lab_status===H.APPROVED}},],X=function(a,b){return(0,s.Z)({url:"/api/editorial/".concat(a.author_id,"/").concat(a.collection_id,"/").concat(a.cloud_lab_id,"/price"),type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({credit_cost:b})})},Y=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null;return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab?published=").concat(d).concat(e&&f?"&active_group_id="+e+"&active_page_id="+f:""),type:"GET"})},Z=function(a,b,c,d){var e=a.author_id,f=a.collection_id,g=a.cloud_lab_id;return(0,s.Z)({url:"/api/author/".concat(e,"/collection/").concat(f,"/cloud-lab/").concat(g,"?submit=").concat(d),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(c),headers:D({},h.Zq,b)},!0)},$=function(a,b,c){return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab"),type:"POST"})},_=function(a,b,c,d){return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab"),type:"PUT",data:{policy:d}})},aa=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/console?published=").concat(d),type:"GET"})},ab=function(a,b,c){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/validate-policy"),type:"POST",data:{policy:c}})},ac=function(a){var b=a.author_id,c=a.collection_id,d=a.cloud_lab_id;return(0,s.Z)({url:"/api/cloud-lab/".concat(b,"/").concat(c,"/").concat(d,"/lab-setup"),type:"POST"})},ad=function(a,b,c,d){return(0,u.XC)({apiPromise:function(){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/lab-setup"),type:"GET"})},cb:function(a){if(a.status!==q.Psf.IN_PROGRESS)return d(a.status),!0},error:function(){d(q.Psf.FAILED)},intervalTimeMS:15e3,maxRetries:40})},ae=function(a,b,c,d){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-feedback"),type:"POST",data:d})},af=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return function(a,d){return b&&a(b),a(i.n.show(j.ad,{status:"WAIT",text:"Saving Cloud Lab"})),a(Q.save(!1,null,null,c)).then(function(){a(i.n.show(j.ad,{status:"SUCCESS",text:"Cloud Lab saved"}))}).catch(function(c){(0,l.rU)(c,a,void 0,[m.Wy.notFoundException]);var d,e=null==c?void 0:null===(d=c.responseJSON)|| void 0===d?void 0:d.errorText;c.status===m.Wy.AlreadyExistsException&&e===m.pX.versionOutDatedMessage?a(R(function(){a(Q.updateETag(q.FhE)),a(af(void 0,b))})):a(i.n.show(j.ad,{status:"ERROR",text:"Failed to save cloud lab"}))})}},ag=function(a,b,c,d){return function(e){var f=d.file.name.split(" ").join("-"),g="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(f,"/get_upload_url?cloudlab_id=").concat(c);return(0,s.Z)({url:g,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,c=a.container_id,g=a.blob_upload_url,h=a.upload_success_url,i=a.build_status_url,j=a.tarball_download_url,k=a.build_log_url,l=a.rebuild_image_url;return e(o.ry.setFile(F(E({},d),{id:void 0===c?-1:c,buildStatusUrl:i,tarballDownloadUrl:j,buildLogUrl:k,rebuildImageUrl:l,file:{name:f,size:d.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,s.Z)({url:h,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,s.Z)({url:g,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},ah=function(a){var b=a.upload,c=a.onUploadSuccess;return function(a){var d;return a(o.ry.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((d=C(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(o.ry.afterFileUpload(f)),a(Q.save()),a(i.n.show(j.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 4:case"end":return b.stop()}},b)})),function(a){return d.apply(this,arguments)})).catch(function(d){if(500===d.status){a(ah({upload:b,onUploadSuccess:c}));return}a(o.ry.updateBuildStatus("FAILURE")),a(i.n.show(j.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}}},6169:function(a,b,c){c.d(b,{F4:function(){return s},QY:function(){return A},SK:function(){return u},X5:function(){return H},tu:function(){return w}});var d=c(62958),e=c(12031),f=c(57919),g=c(32388),h=c(83090),i=c(49309),j=c(59150),k=c(58093);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function p(a){return function(a){if(Array.isArray(a))return l(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||q(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var r=[g.j1J.ASSESSMENT,g.j1J.PROJECT,g.j1J.EXTERNAL_ASSESSMENT,g.j1J.EXTERNAL_PROJECT,g.j1J.CLOUD_LAB,],s=[{title:"beginner",value:"beginner"},{title:"intermediate",value:"intermediate"},{title:"advanced",value:"advanced"},],t=(0,d.oM)({name:"author/collection",initialState:{},reducers:{reset:function(){return{}},set:function(a,b){var c=b.payload;return(0,i.ZP)(c,function(a){a.instance.details=(0,k.Sj)(a.instance.details)})},updateOwnership:function(a){a.instance&&(a.instance.owned_by_reader=!0)},certificateBought:function(a){a.has_purchased_certificate=!0},updateDetails:function(a,b){var c,d,e=b.payload,f=(e.docker,e.deleted_page_details,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b.payload,["docker","deleted_page_details"]));(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details=n({},a.instance.details,f),(0,k.VF)(null===(d=a.instance.details)|| void 0===d?void 0:d.collection_type)&&(a.instance.details.toc.categories[0].title=a.instance.details.title))},updateWeeklyGoal:function(a,b){var c=b.payload;a.instance.details.weekly_goal_target.weekly_goal_target=c},setPagesRecovered:function(a,b){var c=b.payload;a.instance.details.toc.categories.forEach(function(a){return a.pages.forEach(function(a){return a.is_recovered=c})})},addCategory:function(a,b){var c,d,e,f,h,i,j,k,l,m,q,s,t,v,w=b.payload,x=w.index,y=w.parentIndex,A=w.type,B=void 0===A?g.j1J.COLLECTION_CATEGORY:A,E=w.id,F=void 0===E?void 0:E,G=w.data,H=void 0===G?{}:G;B===g.j1J.CLOUD_LAB&&((null==a?void 0:null===(i=a.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.empty_cloud_labs)?a.instance.details.empty_cloud_labs=p(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.empty_cloud_labs).concat([F,]):a.instance.details.empty_cloud_labs=[F],(null==a?void 0:null===(m=a.instance)|| void 0===m?void 0:null===(q=m.details)|| void 0===q?void 0:q.unapproved_cloud_labs)?a.instance.details.unapproved_cloud_labs=p(null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:t.unapproved_cloud_labs).concat([F,]):a.instance.details.unapproved_cloud_labs=[F]);var I=(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.work_type)===g.dLO.PATH,J=null==a?void 0:null===(e=a.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:null===(h=f.toc)|| void 0===h?void 0:h.categories,K=H.type===g.RIu.PATH_EXTERNAL_ASSESSMENT||H.type===g.RIu.PATH_EXTERNAL_PROJECT,L=z(J);if(L&&!(I&&K)){var M=a.instance.details.toc.categories[0].author_id,N=a.instance.details.toc.categories[0].collection_id,O=a.instance.details.toc.categories[0].id;a.instance.details.toc.categories[0].title=void 0===H.title||K?"Untitled category":H.title,a.instance.details.toc.categories[0].author_id=H.author_id||M,a.instance.details.toc.categories[0].collection_id=H.collection_id||N,(H.type===g.RIu.PATH_EXTERNAL_ASSESSMENT||H.type===g.RIu.PATH_EXTERNAL_PROJECT)&&(a.instance.details.toc.categories[0].page_id=H.page_id||void 0),a.instance.details.toc.categories[0].id=K?O:H.id||O,a.instance.details.toc.categories[0].editMode="editMode"in H?H.editMode:!(r.includes(B)||I),H.type&&!K&&(a.instance.details.toc.categories[0].type=H.type),void 0!==H.can_edit&&(a.instance.details.toc.categories[0].can_edit=H.can_edit),void 0!==H.work_type&&(a.instance.details.toc.categories[0].work_type=H.work_type),void 0!==H.is_standalone_module&&(a.instance.details.toc.categories[0].is_standalone_module=H.is_standalone_module),H.is_cloned&&(a.instance.details.toc.categories[0].is_cloned=!0,a.instance.details.toc.categories[0].source_author_id=H.source_author_id,a.instance.details.toc.categories[0].source_collection_id=H.source_collection_id,a.instance.details.toc.categories[0].source_page_id=H.source_page_id)}(r.includes(B)||!L)&&(u(a.instance.details,!1,"editMode"in H?H.editMode:!(r.includes(B)||I||B===g.j1J.COLLECTION_CATEGORY),!1,void 0===x?null:x,void 0===y?null:y,B,K?H.id:F,o(n({},H),{title:I?(null==a?void 0:null===(v=a.instance)|| void 0===v?void 0:v.details.is_plan)?H.title:H.title||"Untitled Category":H.title})),D(a),C(a),L&&I&&K&&a.instance.details.toc.categories.shift())},updateCategoryTitle:function(a,b){var c,d,e,f=b.payload,g=f.title,h=f.id,i=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,h);a.instance.details.toc.categories[i].title="__default"!==g?g:"",a.instance.details.toc.categories[i].editMode=!1},removeWeekFromCategoryTitle:function(a){var b,c,d;if(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories){var e=/^Week (\d+):*/;a.instance.details.toc.categories=a.instance.details.toc.categories.map(function(a){if(e.test(a.title)){var b=a.title.split(e);a.title=b[2].trim()}return a})}},updateArticleTags:function(a,b){var c,d,e=b.payload,f=e.pageId,h=e.tags;[g.dLO.MODULE,g.dLO.PATH].includes(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.work_type)||(a.instance.details.page_tags[f]=h)},updateArticleTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.title;if(a.instance){if(d){var g,h,i,j,k,l,m,n,o=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories,d),p=A(null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.toc)|| void 0===l?void 0:null===(m=l.categories)|| void 0===m?void 0:null===(n=m[o])|| void 0===n?void 0:n.pages,e);a.instance.details.toc.categories[o].pages[p].title=f,a.instance.details.toc.categories[o].pages[p].editMode=!1}a.instance.details.page_titles[e]=f}},updateSummaryInTOC:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.briefSummary;if(a.instance&&d){var g,h,i,j,k,l,m,n,o=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories,d),p=A(null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.toc)|| void 0===l?void 0:null===(m=l.categories)|| void 0===m?void 0:null===(n=m[o])|| void 0===n?void 0:n.pages,e);a.instance.details.toc.categories[o].pages[p].brief_summary=f}},removeCategory:function(a,b){var c=b.payload.id,d=A(null==a?void 0:null===(l=a.instance)|| void 0===l?void 0:null===(m=l.details)|| void 0===m?void 0:null===(n=m.toc)|| void 0===n?void 0:n.categories,c);a.instance.details.toc.categories.splice(d,1),(null==a?void 0:null===(o=a.instance)|| void 0===o?void 0:null===(p=o.details)|| void 0===p?void 0:null===(q=p.toc)|| void 0===q?void 0:null===(r=q.categories)|| void 0===r?void 0:r.length)||(0,k.DN)(a.instance.details);var e=null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:t.connects,f=null==e?void 0:e.find(function(a){return a.week_id===c});if(f){f.dirty=!0;var h=!0,i=!1,j=void 0;try{for(var l,m,n,o,p,q,r,s,t,u,v=f.connect_info[Symbol.iterator]();!(h=(u=v.next()).done);h=!0)u.value.status=g.BMk.DELETED}catch(w){i=!0,j=w}finally{try{h||null==v.return||v.return()}finally{if(i)throw j}}}},updateCodeExecResourceFile:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.code_exec_resource_metadata=d)},updateDockerForExternalLesson:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.docker=d.docker)},addUserDataResourceFile:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&a.instance.details.udata_files.push(d)},updateUserDataResourceFile:function(a,b){var c,d=b.payload,e=d.payload,f=d.index;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.udata_files[f]=n({},a.instance.details.udata_files[f],e))},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.instance.details.udata_files.splice(c,1)},removeCoverImage:function(a){a.instance.details.cover_image_id=null},saveAPIKey:function(a,b){var c,e,f,g=b.payload.apiKey,h=g.id,i=void 0===h?"":h,j=g.key,k=void 0===j?"":j,l=g.value,m=g.useAsDefault,n=g.urlText,o=null!==(f=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(e=c.details)|| void 0===e?void 0:e.api_keys)&& void 0!==f?f:[],p={id:i||(0,d.x0)(),key:k,name:k,value:void 0===l?"":l,urlText:void 0===n?"":n,useAsDefault:void 0===m||m},q=o.findIndex(function(a){return a.id===i});-1!==q?a.instance.details.api_keys[q]=p:a.instance.details.api_keys.push(p)},removeAPIKey:function(a,b){var c,d,e=b.payload,f=(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.api_keys).findIndex(function(a){return a.id===e.id});if(-1===f)return a;a.instance.details.api_keys.splice(f,1)},updateTestimonialImage:function(a,b){var c,d=b.payload,e=d.payload,f=d.index;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.testimonials[f].pic=e)},addTestimonial:function(a,b){var c,d=b.payload.testimonial;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&!a.instance.details.testimonials&&(a.instance.details.testimonials=[]),a.instance.details.testimonials.push(d)},removeTestimonial:function(a,b){var c=b.payload.index;a.instance.details.testimonials.splice(c,1)},updateTestimonial:function(a,b){var c,d=b.payload,e=d.index,f=d.testimonial;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.testimonials[e]=f)},changeTestimonialOrder:function(a,b){var c=b.payload.testimonials;a.instance.details.testimonials=c},addConnect:function(a,b){var c=b.payload,d=c.id,e=c.category_id,f=c.data;v(a,d,e,void 0===f?{}:f)},removeConnect:function(a,b){var c,d,e=b.payload,f=e.weekId,h=e.infoId,i=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,j=i.findIndex(function(a){return a.week_id===f}),k=i[j].connect_info.findIndex(function(a){return a.id===h});i[j].connect_info[k].status=g.BMk.DELETED,i[j].dirty=!0},updateConnectInfo:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.infoId,h=e.title,i=e.contact_id,j=e.contact_email,k=e.contact_name,l=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,m=l.findIndex(function(a){return a.week_id===f});if(m>=0){var n=l[m].connect_info.find(function(a){return a.id===g});n&&(n.title=h,n.user_id=i,n.email=j,n.full_name=k,n.dirty=!0)}},setConnectInfoDirtyFlag:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.id,h=e.flag,i=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,j=i.findIndex(function(a){return a.week_id===f}),k=i[j].connect_info.find(function(a){return a.id===g});k.dirty=h},setConnectDirtyFlag:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.flag,h=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,i=h.findIndex(function(a){return a.week_id===f});h[i].dirty=g},addArticle:function(a,b){var c,d,e,f,h,i=b.payload,j=i.category_id,k=i.article,l=i.index,m=i.data,n=(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.work_type)===g.dLO.PATH,o=A(null==a?void 0:null===(e=a.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:null===(h=f.toc)|| void 0===h?void 0:h.categories,j);x(a,k,o,l,void 0===m?{}:m,n)},updateETAG:function(a,b){var c=b.payload;a[h.Zq]=c},cloneArticle:function(a,b){var c,d,e,f=b.payload,g=f.category_id,h=f.article,i=f.source_details,j=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,g);y(a,h,j,i)},cloneMultipleArticlesInCategory:function(a,b){var c,d,e,g=b.payload,h=g.category_id,i=g.articles,j=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,h);a.instance.details.toc.categories[j].pages=p(a.instance.details.toc.categories[j].pages).concat(p(i.map(function(a){var b=a.page_id,c=a.title,d=a.source_author_id,e=a.source_collection_id,g=a.source_page_id;return JSON.parse(JSON.stringify(new f.Z({id:b,title:c,is_cloned:!0,source_author_id:d,source_collection_id:e,source_page_id:g})))})))},removeArticle:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b.payload,p=o.category_id,q=o.article_id,r=o.keep_deleted_pages,s=A(null!==(m=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories)&& void 0!==m?m:[],p),t=A(null!==(n=null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:null===(j=i[s])|| void 0===j?void 0:j.pages)&& void 0!==n?n:[],q);null===(k=a.instance.details.toc.categories)|| void 0===k||null===(l=k[s])|| void 0===l||l.pages.splice(t,1),void 0!==r&&r||(a.instance.details.deleted_page_details={})},removeDocumentFromDeletedDocuments:function(a,b){var c,d,e,f,h=b.payload,i=h.doc_type,j=h.doc_id;i=i===g.j1J.PROJECT?g.qen.PROJECT:g.qen.ASSESSMENT,null==a||null===(c=a.instance)|| void 0===c||null===(d=c.details)|| void 0===d||null===(e=d.deleted_documents_details)|| void 0===e||null===(f=e[i])|| void 0===f||delete f[j.toString()]},recoverArticle:function(a,b){var c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t=b.payload.article_id,u=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,j.s);-1===u&&B(a),u=A(null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:h.categories,j.s),x(a,{author_id:null==a?void 0:null===(i=a.instance)|| void 0===i?void 0:null===(k=i.details)|| void 0===k?void 0:k.author_id,collection_id:null==a?void 0:null===(l=a.instance)|| void 0===l?void 0:null===(m=l.details)|| void 0===m?void 0:m.collection_id,page_id:t},u,null);var v=null==a?void 0:null===(n=a.instance)|| void 0===n?void 0:null===(o=n.details)|| void 0===o?void 0:null===(p=o.deleted_page_details)|| void 0===p?void 0:p[t.toString()],w=v?v.title:"Untitled Masterpiece";null==a||null===(q=a.instance)|| void 0===q||null===(r=q.details)|| void 0===r||null===(s=r.deleted_page_details)|| void 0===s||delete s[t.toString()],a.instance.details.page_titles[t]=w},updateDeletedArticles:function(a,b){var c=b.payload;a.instance.details.deleted_page_details=n({},a.instance.details.deleted_page_details,c)},toggleArticleVisibility:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=G(a,d,e);f.is_preview=!f.is_preview},toggleIsLesson:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=G(a,d,e);f.is_lesson=!(void 0===f.is_lesson|| !0===f.is_lesson)},toggleIsOptional:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=G(a,d,Number(e));a.instance.dirty=!0,f.is_optional=!f.is_optional},setIsOptional:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=c.set_value,g=G(a,d,e);g.is_optional!==f&&(a.instance.dirty=!0,g.is_optional=f)},discardChanges:function(a,b){return b.payload.originalCollection},updateDeletedProjects:function(a,b){var c=b.payload;a.instance.details.deleted_project_details=n({},a.instance.details.deleted_project_details,c)},clearDeletedDocuments:function(a){delete a.instance.details.deleted_documents_details},updateDeletedDocuments:function(a,b){var c,d=b.payload,e=d.deleted_document_details,f=d.deleted_document_type;a.instance.details.deleted_documents_details=o(n({},a.instance.details.deleted_documents_details),m({},f,n({},null===(c=a.instance.details.deleted_documents_details)|| void 0===c?void 0:c[f],e)))},publish:function(a){a.is_published=!0,a.instance.type="published"},unpublish:function(a){a.is_published=!1,a.is_draft_active=!0,a.instance.type="draft"},updatePublishedRevision:function(a,b){var c=b.payload;a.published_revision=c},moveCategory:function(a,b){var c,d,e,f,g,h,i,k,l=b.payload,m=l.from,n=l.to,o=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:null===(f=e.categories)|| void 0===f?void 0:f[m.itemIndex];if(o.id===j.s||(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:null===(k=i.categories)|| void 0===k?void 0:k[n.itemIndex]).id===j.s)return a;a.instance.details.toc.categories.splice(m.itemIndex,1),a.instance.details.toc.categories.splice(n.itemIndex,0,o)},setExternalOffer:function(a,b){var c=b.payload.externalOffer;return a.external_offer=c,a},hideExternalOffer:function(a){a.external_offer.hidden=!0},setExternalOfferViewed:function(a){a.external_offer.viewed=!0},moveArticleWithinOrigin:function(a,b){var c=b.payload,d=c.from,e=c.to;if(d.isConnect||e.isConnect){if(d.isConnect&&e.isConnect){var f,g,h,i,j,k,l,m=null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:i[d.parentIndex],n=null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.connects)|| void 0===l?void 0:l.find(function(a){return a.week_id===m.id});n.dirty=!0;var o=n.connect_info,p=d.itemIndex,q=e.itemIndex;o.splice(q,0,o.splice(p,1)[0])}}else{var r,s,t,u,v,w,x,y,z,A=null==a?void 0:null===(r=a.instance)|| void 0===r?void 0:null===(s=r.details)|| void 0===s?void 0:null===(t=s.toc)|| void 0===t?void 0:null===(u=t.categories)|| void 0===u?void 0:u[d.parentIndex],B=null==A?void 0:A.pages,C=null!==(z=null===(y=null==a?void 0:null===(v=a.instance)|| void 0===v?void 0:null===(w=v.details)|| void 0===w?void 0:null===(x=w.connects)|| void 0===x?void 0:x.find(function(a){return a.week_id===(null==A?void 0:A.id)}))|| void 0===y?void 0:y.connect_info.length)&& void 0!==z?z:0;B.splice(e.itemIndex-C,0,B.splice(d.itemIndex-C,1)[0])}},moveArticleToNotEmptyCategory:function(a,b){var c=b.payload,d=c.from,e=c.to;if(!d.isConnect&&!e.isConnect){var f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:i[e.parentIndex],C=null==B?void 0:B.id,D=null!==(z=null===(n=null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:null===(m=l.connects)|| void 0===m?void 0:m.find(function(a){return a.week_id===(null==B?void 0:B.id)}))|| void 0===n?void 0:n.connect_info.length)&& void 0!==z?z:0;if(C===j.s)return a;var E=null==a?void 0:null===(o=a.instance)|| void 0===o?void 0:null===(p=o.details)|| void 0===p?void 0:null===(q=p.toc)|| void 0===q?void 0:null===(r=q.categories)|| void 0===r?void 0:r[d.parentIndex],F=null==E?void 0:E.id,G=null!==(A=null===(v=null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:null===(u=t.connects)|| void 0===u?void 0:u.find(function(a){return a.week_id===(null==E?void 0:E.id)}))|| void 0===v?void 0:v.connect_info.length)&& void 0!==A?A:0;F===j.s&&(a.instance.details.toc.categories[d.parentIndex].pages[d.itemIndex-G].is_recovered=!0);var H=null==a?void 0:null===(w=a.instance)|| void 0===w?void 0:null===(x=w.details)|| void 0===x?void 0:null===(y=x.toc)|| void 0===y?void 0:y.categories,I=H[d.parentIndex].pages.splice(d.itemIndex-G,1)[0];e.last?H[e.parentIndex].pages.push(I):H[e.parentIndex].pages.splice(e.itemIndex-D,0,I),F===j.s&&0===H[d.parentIndex].pages.length&&H.splice(d.parentIndex,1)}},setDirty:function(a,b){var c=b.payload;a.instance&&(a.instance.dirty=c)},setNotification:function(a,b){var c=b.payload;a.notification_status=c},setCollaborativeEditor:function(a,b){var c=b.payload;a.use_collaborative_editor=c},unSetCollaborativeEditor:function(a,b){b.payload,delete a.use_collaborative_editor},addExternalApiKeys:function(a,b){var c,d=b.payload;if(null===(c=a.instance)|| void 0===c?void 0:c.details){var e=a.instance.details.api_keys||[];a.instance.details.api_keys=Array.from(new Map(p(e).concat(p(d||[])).map(function(a){return[a.id,a,]})).values())}},updateArticleEstimatedTime:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.estimatedTime;if(a.instance){var g=G(a,d,Number(e));g.estimatedTime=f,g.editMode=!1}}}}),u=function(a,b,c,d,f,h){var i=arguments.length>6&& void 0!==arguments[6]?arguments[6]:g.j1J.COLLECTION_CATEGORY,j=arguments.length>7&& void 0!==arguments[7]?arguments[7]:void 0,k=arguments.length>8&& void 0!==arguments[8]?arguments[8]:{},l=a.toc.categories;if(l.forEach(function(a){return a.editMode=!1}),null!=h){var m=l[h].pages,n=m.splice(f+1);m=m.slice(0,f+1);var o=m,p=new e.Z(b,c);if(!c&&k.title&&(p.title=k.title),(p=JSON.parse(JSON.stringify(p))).pages=n,l[h].pages=o,l.splice(h+1,0,p),void 0!==k.can_edit&&(p.can_edit=k.can_edit),void 0!==k.work_type&&(p.work_type=k.work_type),void 0!==k.is_standalone_module&&(p.is_standalone_module=k.is_standalone_module),r.includes(i)){var q=new e.Z(!1,c,d,i,j,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k.is_cloned,k.source_author_id,k.source_collection_id,k.source_page_id);q=JSON.parse(JSON.stringify(q)),l.push(q)}}else{var s=new e.Z(b,c,d,k.type||i,k.id||j,k.author_id,k.collection_id,k.title,k.page_id||void 0,k.can_edit,k.work_type,k.is_standalone_module,k.is_cloned,k.source_author_id,k.source_collection_id,k.source_page_id,k.is_recovered_category);s=JSON.parse(JSON.stringify(s)),l.push(s)}},v=function(a,b,c){var d,e,f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:{},g=(null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.connects)||[],h=g.findIndex(function(a){return a.week_id===c});if(h<0){var i=[{id:b,title:f.title,status:2e3},],j={week_id:c,week_title:"",connect_info:i};g.push(j)}else{var k={id:b,title:f.title,status:2e3};g[h].connect_info.push(k)}},w=function(a,b,c,d){var e=null==a?void 0:a.page_id,h=null==a?void 0:a.author_id,i=null==a?void 0:a.collection_id;return new f.Z(null==c?{id:parseInt(e||b.id),type:b.type,title:b.title,author_id:parseInt(h||b.author_id),collection_id:parseInt(i||b.collection_id),page_id:parseInt(e||b.page_id),editMode:"editMode"in b?b.editMode:!d&&![g.RIu.LESSON,g.RIu.SHOT].includes(null==b?void 0:b.type),course_url_slug:b.course_url_slug,url:b.url,work_type:b.work_type,can_edit:b.can_edit,is_standalone_module:b.is_standalone_module,brief_summary:b.brief_summary}:{id:parseInt(e||b.id),type:b.type,title:b.title,author_id:parseInt(h||b.author_id),collection_id:parseInt(i||b.collection_id),page_id:parseInt(e||b.page_id),editMode:"editMode"in b?b.editMode:!d&&![g.RIu.LESSON,g.RIu.SHOT].includes(null==b?void 0:b.type),course_url_slug:b.url,brief_summary:b.brief_summary})},x=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:{},f=arguments.length>5&& void 0!==arguments[5]&&arguments[5],g=w(b,e,d,f);if(null==d){var h=(null==g?void 0:g.page_id)in(F(a)||{});if(e.estimatedTime&&(g.estimatedTime=e.estimatedTime),void 0!==e.is_optional&&null!==e.is_optional&&(g.is_optional=e.is_optional),e.is_preview&&(g.is_preview=e.is_preview),h){var i,j,k,l,m,n,o,p,q,r,s,t,u=null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:t.deleted_page_details[g.page_id.toString()].title;g.title=u,g.editMode=!1,g.is_recovered=!0}null==a||null===(n=a.instance)|| void 0===n||null===(o=n.details)|| void 0===o||null===(p=o.toc)|| void 0===p||null===(q=p.categories)|| void 0===q||null===(r=q[c])|| void 0===r||r.pages.push(JSON.parse(JSON.stringify(g)))}else null==a||null===(i=a.instance)|| void 0===i||null===(j=i.details)|| void 0===j||null===(k=j.toc)|| void 0===k||null===(l=k.categories)|| void 0===l||null===(m=l[c])|| void 0===m||m.pages.splice(d+1,0,JSON.parse(JSON.stringify(g)))},y=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o=b.page_id,p=b.title;null==a||null===(e=a.instance)|| void 0===e||null===(g=e.details)|| void 0===g||null===(h=g.toc)|| void 0===h||null===(i=h.categories)|| void 0===i||null===(j=i[c])|| void 0===j||j.pages.push(JSON.parse(JSON.stringify(new f.Z({id:parseInt(o),title:p,author_id:parseInt(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.author_id),collection_id:parseInt(null==a?void 0:null===(m=a.instance)|| void 0===m?void 0:null===(n=m.details)|| void 0===n?void 0:n.collection_id),page_id:parseInt(o),is_cloned:d.is_cloned,source_author_id:d.source_author_id,source_collection_id:d.source_collection_id,source_page_id:d.source_page_id}))))},z=function(a){return(null==a?void 0:a[0].title)==="__default"},A=function(a,b){return a.findIndex(function(a){return a.id===b})};function B(a){u(a.instance.details,!1,!1,!0)}function C(a){var b,c,d,e=A(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j.s);E(a,e)}function D(a){var b,c,d,e=null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories;E(a,null==e?void 0:e.findIndex(function(a){return a.title===j.I}))}function E(a,b){var c=b;if(-1!==c){var d=a.instance.details.toc.categories[c];a.instance.details.toc.categories.push(d),a.instance.details.toc.categories.splice(c,1)}}function F(a){var b,c;return null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.deleted_page_details}var G=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=b?A(null==a?void 0:null===(h=a.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:null===(j=i.toc)|| void 0===j?void 0:j.categories,b):null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.findIndex(function(a){return a.pages.some(function(a){return a.id===c})}),q=A(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:null===(m=l.toc)|| void 0===m?void 0:null===(n=m.categories)|| void 0===n?void 0:null===(o=n[p])|| void 0===o?void 0:o.pages,c);return a.instance.details.toc.categories[p].pages[q]};b.ZP=t.reducer;var H=t.actions},33040:function(a,b,c){c.d(b,{x:function(){return A}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(44173),j=c(78977),k=c(83090),l=c(11011),m=c(62958),n=c(46124),o=c(32388),p=c(59125),q=c(62956);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){r(f,d,e,g,h,"next",a)}function h(a){r(f,d,e,g,h,"throw",a)}g(void 0)})}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){t(a,b,c[b])})}return a}function v(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var w=(0,f.Z)(),x=w.initialState,y=w.reducers,z=(0,m.oM)({name:"author/collectionArticle",initialState:x,reducers:v(u({},y),{updateReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.readTime=c)},setArticle:function(a,b){var c=b.payload,d=c.components,e=c.summary;a.data.components=d,a.data.summary.description=e},setComponent:function(a,b){var c=b.payload,d=c.component,e=c.index;a.data.components[e]=d},updateSummary:function(a,b){var c=b.payload;a.data.summary.description=c}})});b.Z=z.reducer;var A=v(u({},z.actions),{load:function(a,b,d,f){var m,r=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,t=arguments.length>5&& void 0!==arguments[5]?arguments[5]:o.qen.COLLECTION_LESSON;return m=s(e().mark(function m(o,w){return e().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o(A.pending()),m.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(r?"snapshot":d).concat((0,i.N)(r?{key:r,document_type:t}:null)),type:"GET"},!0).then(function(){var a=s(e().mark(function a(b){var c,d,g,h,i,j,m,r,s,t,x;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.xhr&&o(A.updateETag(b.xhr.headers.get(k.Zq))),j=(0,l.u)(b),m=(0,p.U)(j,o,w,f),o(A.fulfilled(v(u({},j),{components:null!=m?m:j.components}))),r=w().author,s=null==r?void 0:null===(c=r.collection)|| void 0===c?void 0:null===(d=c.instance)|| void 0===d?void 0:null===(g=d.details)|| void 0===g?void 0:g.is_private,t=(null==r?void 0:null===(h=r.collectionArticle)|| void 0===h?void 0:null===(i=h.data)|| void 0===i?void 0:i.components)||[],a.next=10,(0,q.T)({content:t,normalizeHeadingsForAllWidgets:!1,processNormalizeHeadings:!s});case 10:return x=a.sent.content,a.abrupt("return",o(n.oh.load(x,!0)));case 12:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===j.Wy.unauthorizedException?(0,h.xc)():a.status===j.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),o(A.rejected((0,h.nU)(a)))}));case 2:case"end":return m.stop()}},m)})),function(a,b){return m.apply(this,arguments)}}})},63969:function(a,b,c){c.d(b,{Sy:function(){return n},jo:function(){return o}});var d=c(62958),e=c(74143);function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){g(a,b,c[b])})}return a}function i(a){return function(a){if(Array.isArray(a))return f(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||j(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}var k={tocMap:{},selectedId:"",expandedNodes:{},tocMapLoaded:!1},l=(0,d.oM)({name:"author/collectionToc",initialState:k,reducers:{reset:function(){return h({},k)},resetTocMap:function(a){a.tocMap={}},setTocMap:function(a,b){var c=b.payload;a.tocMap=c,a.tocMapLoaded=!0},setSelectedId:{reducer:function(a,b){var c=b.type,d=b.payload,e=d.id,f=void 0===e?"":e,g=d.expandCurrentNode,h=d.expandParentNodes;a.selectedId=f,void 0!==g&&g&&(a.expandedNodes[f]=!0),void 0!==h&&h&&l.caseReducers.setParentExpandedState(a,{type:c,payload:{id:f,value:!0}})},prepare:function(a,b){return{payload:{id:a,expandCurrentNode:null==b?void 0:b.expandCurrentNode,expandParentNodes:null==b?void 0:b.expandParentNodes}}}},setExpandedNodes:function(a,b){var c=b.payload;a.expandedNodes=c},setExpandedState:function(a,b){var c=b.type,d=b.payload,e=d.id,f=d.value,g=d.applyToParents;a.expandedNodes[e]=f,g&&l.caseReducers.setParentExpandedState(a,{type:c,payload:{id:e,value:f}})},setParentExpandedState:function(a,b){var c=b.payload,d=c.id,e=c.value,f=n(d,a.tocMap);f.forEach(function(b){a.expandedNodes[b]=e})},updateTocMapObjectData:function(a,b){var c=b.payload,d=c.id,e=c.data;a.tocMap[d]=h({},a.tocMap[d],e)},addTocObjects:function(a,b){var c=b.payload,d=c.objects,e=c.parentId;if(a.tocMap=h({},a.tocMap,d),e){var f=Object.values(d).reduce(function(a,b){return b.parentId||a.push(b.id),a},[]);a.tocMap[e].childrenIds=f,f.forEach(function(b){a.tocMap[b].parentId=e})}},removeFromTocMap:function(a,b){var c=b.payload,d=c.id,e=c.removeCurrent;c.removeChildren&&(m(d,a.tocMap).forEach(function(b){b!==d&&delete a.tocMap[b]}),a.tocMap[d].childrenIds=null),void 0!==e&&e&&delete a.tocMap[d]}}}),m=function(a,b){if((0,e.Ew)(b[a].childrenIds))return[a];var c=[];return b[a].childrenIds.forEach(function(a){var d;(d=c).push.apply(d,i(m(a,b)))}),[a].concat(i(c))},n=function(a,b){for(var c,d=[];null===(c=b[a])|| void 0===c?void 0:c.parentId;)d.push(a=b[a].parentId);return d};b.ZP=l.reducer;var o=h({},l.actions)},94151:function(a,b,c){c.d(b,{"_":function(){return G}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(62958);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function q(a,b){if(null==a)return{};var c,d,e=r(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function r(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function s(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||v(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(a){var b=function(a,b){if("object"!==u(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==u(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"===u(b)?b:String(b)}var u=function(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};function v(a,b){if(a){if("string"==typeof a)return k(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k(a,b)}}var w=(0,f.Z)(),x=w.initialState,y=w.reducers,z=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},b=(arguments.length>1?arguments[1]:void 0).payload,c=a.data||{},d=b||{},e=d.id,f=d.name,g=d.comps,h=d.usageCount,i=Object.entries(c).find(function(a){var b=s(a,2);return(b[0],b[1]).id===e}),j=i&&i[0],k=i&&i[1].comps,l=i&&i[1].usageCount,m=f||j;if(m){var p=null!=g?g:k,r=null!=h?h:l,u=n({},m,o({id:e},r&&{usageCount:r},p&&{comps:p}));c[j];var v=q(c,[j].map(t));a.data=o({},v,u)}},A=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},b=(arguments.length>1?arguments[1]:void 0).payload,c=a.data||{},d=(b||{}).id,e=Object.entries(c).find(function(a){var b=s(a,2);return(b[0],b[1]).id===d}),f=e&&e[0];c[f];var g=q(c,[f].map(t));a.data=g},B=function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},c=(arguments.length>1?arguments[1]:void 0).error;c&&(b.error=(null===(a=c.responseJSON)|| void 0===a?void 0:a.errorText)||"Failed to retrieve")},C=function(a,b,c,d){return"author/".concat(a,"/collection/").concat(b,"/concept/").concat(c||"all")+(d?"/published":"")},D=function(a){var b=JSON.parse(a),c=function(a,b){var c=b.id,d=b.name,e=b.usage_count;return p(o({},a),n({},d,{id:c,usageCount:e}))};return b.reduce(c,{})},E=function(a,b,c){var d,e,f=b(),g=null==f?void 0:null===(d=f.author)|| void 0===d?void 0:null===(e=d.concepts)|| void 0===e?void 0:e.data;if(!g)return f;var h=Object.entries(g).find(function(b){var c=s(b,2);return(c[0],c[1]).id===a});if(!h)return f;var i,k=h&&h[0],l=h?h[1]:{},m=JSON.parse(c),q=(i=m).map(function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.comp_id)?a:p(o({},a),{content:p(o({},a.content),{comp_id:(0,j.x0)()})})});return n({},k,p(o({},l),{comps:q}))},F=(0,j.oM)({name:"concepts",initialState:x,reducers:p(o({},y),{update:z,remove:A,loadFail:B})});b.Z=F.reducer;var G=p(o({},F.actions),{loadMetadata:function(a){var b,d=a.authorId,f=a.collectionId,j=a.published;return b=m(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(G.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(C(d,f,null,j)),type:"GET"}).then(function(a){b(G.fulfilled(D(a)))}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(G.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},load:function(a){var b,d=a.authorId,f=a.collectionId,j=a.conceptId,k=a.published;return b=m(e().mark(function a(b,l){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(G.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(C(d,f,j,k)),type:"GET"}).then(function(a){b(G.fulfilled(E(j,l,a)))}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(G.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}}})},47783:function(a,b,c){c.d(b,{w:function(){return w}});var d=c(32176),e=c.n(d),f=c(6460),g=c(11011),h=c(62958),i=c(46124),j=c(67952),k=c(27080),l=c(78977),m=c(59523);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var p,q,r="author/page",s=(0,f.Z)(),t=s.initialState,u=s.reducers,v=(0,h.oM)({name:r,initialState:t,reducers:u});b.Z=v.reducer;var w=(p=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}({},v.actions),q=(q={load:function(a){var b,d;return d=(b=e().mark(function b(d,f){var h,n;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d(w.pending()),n=!a||(null===(h=window.location.href)|| void 0===h?void 0:h.endsWith("/demo"))?m.Z:j.Z,b.abrupt("return",n({url:"/api/".concat(r,"/").concat(a),type:"GET"},!0).then(function(a){var b,c,e;d(w.fulfilled((0,g.u)(a))),d(i.oh.load(null===(b=f().author)|| void 0===b?void 0:null===(c=b.page)|| void 0===c?void 0:null===(e=c.data)|| void 0===e?void 0:e.components,!0))}).catch(function(a){a.status===l.Wy.unauthorizedException?(0,k.xc)():a.status===l.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),d(w.rejected((0,k.nU)(a)))}));case 4:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}},q),Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(q)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(q)).forEach(function(a){Object.defineProperty(p,a,Object.getOwnPropertyDescriptor(q,a))}),p)},69702:function(a,b,c){c.d(b,{n:function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o="author/profile",p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,j.oM)({name:o,initialState:q,reducers:r});b.Z=s.reducer;var t=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},s.actions),n=(n={load:function(a){var b,d;return d=(b=e().mark(function b(d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d(t.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(a?"".concat(o,"/").concat(a):o),type:"GET"}).then(function(a){d(t.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),d(t.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},49692:function(a,b,c){c.d(b,{i:function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(20318),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,k.oM)({name:"author/profileWorks",initialState:q,reducers:r});b.Z=s.reducer;var t=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},s.actions),o=(o={load:function(a){var b,d;return d=(b=e().mark(function b(d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d(t.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat((0,j.a8)()?"".concat("author/profile","/").concat(a,"/works"):"reader/featured_items?author_id=".concat(a,"&only_courses=true")),type:"GET"}).then(function(a){d(t.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),d(t.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},86443:function(a,b,c){c.d(b,{Dr:function(){return X},FQ:function(){return aa},H9:function(){return _},IW:function(){return $},Q_:function(){return af},SQ:function(){return ab},Ym:function(){return ae},cy:function(){return ac},ms:function(){return Y},yn:function(){return Z}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(83090),i=c(30788),j=c(62958),k=c(20888),l=c(27080),m=c(78977),n=c(32388),o=c(18925),p=c(90305),q=c(27155),r=c(24602),s=c(46124),t=c(33826),u=c(97146),v=c(49898),w=c(61150),x=c(45751),y=c(18342),z=c(69065),A=c(80049),B=c.n(A),C=c(29257),D=c(13987),E=c(64841),F=c(6457),G=c(84431),H=c(9418),I=c(14699),J=c(48611),K=c(62746),L=c(20318),M=c(49447);function N(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function O(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){N(f,d,e,g,h,"next",a)}function h(a){N(f,d,e,g,h,"throw",a)}g(void 0)})}}function P(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){P(a,b,c[b])})}return a}function R(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var S=(0,g.Z)(),T=S.initialState,U=S.reducers,V=(0,j.oM)({name:"project",initialState:R(Q({},T),{dirty:!1,component:null}),reducers:R(Q({},U),{updateProjectTitle:function(a,b){var c=b.payload;a.data.title=c,a.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=Q({},a.data.udata_files[e],d),a.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.dirty=!0},addComponent:function(a,b){var c,d,e=b.payload,f=e.category_id,g=e.component,h=e.index,i=(0,K.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,f);(0,K.WL)(a,null==g?void 0:g.project_component_id,i,h,n.qen.PROJECT_COMPONENT)},addCategory:function(a,b){var c,d,e=b.payload,f=e.index,g=e.parentIndex,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,i=(0,K.oW)(h);i?(a.data.toc.categories[0].title="Untitled category",a.data.toc.categories[0].editMode=!0):(0,K.SK)(a.data,!0,!1,f,g,n.j1J.PROJECT_CATEGORY)},toggleTaskVisibility:function(a,b){var c=b.payload,d=c.categoryId,e=c.projectComponentId;if(a.data&&d){var f=(0,K.QY)(a.data.toc.categories,d),g=(0,K.QY)(a.data.toc.categories[f].pages,e);a.data.toc.categories[f].pages[g].is_preview=!a.data.toc.categories[f].pages[g].is_preview}},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=(0,K.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,g);a.data.toc.categories[h].title="__default"!==f?f:"",a.data.toc.categories[h].editMode=!1},updateComponentTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.projectComponentId,f=c.title;if(a.data&&d){var g=(0,K.QY)(a.data.toc.categories,d),h=(0,K.QY)(a.data.toc.categories[g].pages,e);a.data.toc.categories[g].pages[h].title=f,a.data.toc.categories[g].pages[h].editMode=!1}},moveComponentWithinOrigin:function(a,b){var c,d,e,f,g=b.payload,h=g.from,i=g.to,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:null===(f=e[h.parentIndex])|| void 0===f?void 0:f.pages;j.splice(i.itemIndex,0,j.splice(h.itemIndex,1)[0]),a.dirty=!0},moveCategory:function(a,b){var c,d,e,f=b.payload,g=f.from,h=f.to,i=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:e[g.itemIndex];a.data.toc.categories.splice(g.itemIndex,1),a.data.toc.categories.splice(h.itemIndex,0,i),a.dirty=!0},moveComponentToNotEmptyCategory:function(a,b){var c,d=b.payload,e=d.from,f=d.to,g=null===(c=null==a?void 0:a.data.toc)|| void 0===c?void 0:c.categories;g[f.parentIndex].pages.splice(f.itemIndex,0,g[e.parentIndex].pages.splice(e.itemIndex,1)[0]),a.dirty=!0},removeComponent:function(a,b){var c,d,e,f,g,h,i=b.payload,j=i.category_id,k=i.article_id,l=(0,K.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j),m=(0,K.QY)(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:null===(h=g[l])|| void 0===h?void 0:h.pages,k);a.data.toc.categories[l].pages.splice(m,1)},removeCategory:function(a,b){var c,d,e,f,g,h=b.payload.id,i=(0,K.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,h);-1===i||(a.data.toc.categories.splice(i,1),(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.length)||(a.data.toc=(0,K.qH)(n.j1J.PROJECT_CATEGORY)))},updateProjectDetails:function(a,b){var c=b.payload;a.data.content=c},updateComponentETag:function(a,b){var c,d=b.payload;a.component=null!==(c=a.component)&& void 0!==c?c:null,a.component[h.Zq]=d[h.Zq],d.saved&&(a.dirty=!1)},setComponent:function(a,b){var c=b.payload;a.component=(0,J.v5)(c.data),a.component[h.Zq]=c[h.Zq]},setRestoredComponent:function(a,b){var c=b.payload;a.component&&(a.component=(0,J.v5)({content:c.data}),a.component.snapshot_loaded=!0)},clearRestoredComponent:function(a){a.component=(0,J.v5)({}),a.component.snapshot_loaded=!1},clearSnapshotLoaded:function(a){a.component&&(a.component.snapshot_loaded=!1)},postProjectSave:function(a,b){var c=b.payload;a.data[h.Zq]=c},setDirty:function(a,b){var c=b.payload;a.dirty=c},clearComponent:function(a){a.component=null},updateComponentCode:function(a,b){var c,d=b.payload;if(a.component){if(a.dirty=!0,"function"==typeof d){d(a.component.content.codeContent);return}a.component.content.codeContent=R(Q({},a.component.content.codeContent,d),{comp_id:(null===(c=a.component.content.codeContent)|| void 0===c?void 0:c.comp_id)||(0,j.x0)()})}},updateProtectedContent:function(a,b){var c=b.payload;a.dirty=!0,a.component&&(a.component.content.protected_content=c)},updateComponentURL:function(a,b){var c=b.payload;a.dirty=!0,a.component&&(a.component.content.url=c)},updateCodeContentInViewMode:function(a,b){var c=b.payload,d=a.component.content.codeContent;a.component.content.codeContent=Q({},d,c)},updateCodingEnv:function(a,b){var c=b.payload;switch(a.component.content.type=c,c){case t.hf.SPA:a.component.content.codeContent=R(Q({},u.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.CODE:a.component.content.codeContent=R(Q({},w.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.WORKSPACE:a.component.content.codeContent={},a.component.content.url=null;break;case t.hf.TERMINAL:a.component.content.codeContent={selectedEnvVars:{}},a.component.content.url=null;break;case t.hf.RUNJS:a.component.content.codeContent=R(Q({},x.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.CODE_EVALUATION:a.component.content.codeContent=R(Q({},v.Z.content),{isProject:!0}),a.component.content.protected_content=v.Z.protectedContent,a.component.content.url=null;break;default:a.component.content.codeContent={},a.component.content.url=""}a.component.content.codeContent.comp_id=(0,j.x0)(),a.dirty=!0},updateProjectDifficulty:function(a,b){var c=b.payload;a.component.difficulty=c,a.dirty=!0},updateRelevantCourses:function(a,b){var c=b.payload;a.data.relevant_courses=c,a.dirty=!0},updatePreReqProjects:function(a,b){var c=b.payload;a.data.pre_requisite_projects=c,a.dirty=!0},updatePreReqs:function(a,b){var c=b.payload;a.data.pre_reqs=c,a.dirty=!0},updateProjectSubType:function(a,b){var c=b.payload;a.data.sub_type=c,a.dirty=!0},setProject:function(a,b){var c=b.payload;a.data=c.data,a.component=c.component,a.loaded=!0}})});b.ZP=V.reducer;var W,X=R(Q({},V.actions),{load:function(a){var b,d=a.authorId,g=a.collectionId,i=a.projectId,j=a.courseUrlSlug,k=void 0===j?"":j,n=a.pageUrlSlug,o=void 0===n?"":n,p=a.mode,q=a.lockedPreview,r=void 0!==q&&q,s=k&&o?"project/".concat(k,"/").concat(o):"project/".concat(d,"/").concat(g,"/").concat(i),t="view"===p?s:"author/".concat(d,"/collection/").concat(g,"/project/").concat(i);return r&&(t+="?lockedPreview=true"),b=O(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(X.pending()),a.abrupt("return",(0,f.Z)({url:"/api/".concat(t),type:"GET"},!0).then(function(a){var c=a.data,d=a.xhr;b(X.fulfilled((0,J.O4)({data:c}))),c&&b(X.updateETag(d.headers.get(h.Zq)))}).catch(function(a){a.status===m.Wy.unauthorizedException?(0,l.xc)():a.status===m.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(X.rejected((0,l.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},save:function(a){var b=a.project;return function(a){return(0,F.z)((0,J.f4)(b)).then(function(b){b&&a(X.postProjectSave(b.xhr.headers.get(h.Zq)))})}},prepareDockerOnSetProject:function(a,b,c){var d;return d=O(e().mark(function d(f){var g,h,i,j,k,l;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h=(null==a?void 0:a.docker)?R(Q({},a.docker),{envs:null!==(g=a.docker.envs)&& void 0!==g?g:[]}):o.s4,d.next=4,(0,p.wi)(c,b);case 4:i=d.sent,j=R(Q({},h),{container:R(Q({},h.container),{liveInstance:i})}),f(q.ry.setObject(j)),l=(null==a?void 0:a.testing_docker)?R(Q({},a.testing_docker),{envs:null!==(k=a.testing_docker.envs)&& void 0!==k?k:[]}):o.s4,f(r.h.setObject(l));case 10:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}},saveComponent:function(a){var b=a.component;return function(a){return(0,G.f)(b).then(function(b){var c;b&&a(X.updateComponentETag((P(c={},h.Zq,b.xhr.headers.get(h.Zq)),P(c,"saved",!0),c)))})}},loadComponent:function(a){return function(b){return(0,I.x)(a).then(function(a){if(null==a?void 0:a.data){var c=(0,J.v5)(JSON.parse(a.data));return b(X.setComponent(P({data:c},h.Zq,a.xhr.headers.get(h.Zq)))),c}})}},loadComponentSnapshot:function(a,b,c){return function(d){return(0,y.v)(a,b,c,n.qen.PROJECT_COMPONENT).then(function(a){if(null==a?void 0:a.data){var b=JSON.parse(a.data);return d(X.setRestoredComponent({data:b})),b}})}},loadUserProgress:function(a){return function(b){return(0,H.n)(a).then(function(a){return(null==a?void 0:a.data)?JSON.parse(a.data):null}).catch(function(a){return console.log("Error loading user code",a)})}},saveUserProgress:function(a){return function(b){return(0,E.o)(a).catch(function(a){b(k.n.show(i.ad,{status:"ERROR",text:"Failed to Save User Project"}))})}}}),Y=function(a,b){return function(c,d){b&&c(b),c(k.n.show(i.ad,{status:"WAIT",text:"Saving"}));var e,f=null==a?void 0:a.copyWidgets,g=null==a?void 0:a.slateComps,h=d().project.data.content.description;return f&&(h=g||(0,J.GD)(null!==(e=d().widgets.entities)&& void 0!==e?e:{})),c(X.save({project:R(Q({},d().project.data),{content:{description:h},docker:JSON.stringify((0,o.qZ)(d().dockerDetails)),testing_docker:JSON.stringify((0,o.qZ)(d().testingDockerDetails)),is_landing_page_containing_link:(0,M.U)(g)})})).then(function(){c(k.n.show(i.ad,{status:"SUCCESS",text:"Saved"})),f&&c(X.updateProjectDetails({description:h})),(null==a?void 0:a.resetDirty)&&c(X.setDirty(!1)),c(s.oh.resetDirtyBit())}).catch(function(a){(0,l.rU)(a,c,void 0,[m.Wy.notFoundException]);var d,e=null==a?void 0:null===(d=a.responseJSON)|| void 0===d?void 0:d.errorText;a.status===m.Wy.AlreadyExistsException&&e===m.pX.versionOutDatedMessage?c(ad(function(){c(X.updateETag(n.FhE)),c(Y(void 0,b))})):c(k.n.show(i.ad,{status:"ERROR",text:e||"Failed to save project"}))})}},Z=function(a,b){return function(c,d){a&&c(a);var e=b||d().widgets;return c(k.n.show(i.ad,{status:"WAIT",text:"Saving"})),c(X.saveComponent({component:R(Q({},d().project.component),{content:R(Q({},d().project.component.content),{descriptionWidgets:e})})})).then(function(){c(k.n.show(i.ad,{status:"SUCCESS",text:"Saved"})),c(s.oh.resetDirtyBit())}).catch(function(d){var e,f=null==d?void 0:null===(e=d.responseJSON)|| void 0===e?void 0:e.errorText;d.status===m.Wy.AlreadyExistsException&&f===m.pX.versionOutDatedMessage?c(ad(function(){c(X.updateComponentETag(P({},h.Zq,n.FhE))),c(Z(a,b))})):c(k.n.show(i.ad,{status:"ERROR",text:"Failed to save task"}))})}},$=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return function(b){b(s.oh.load(a))}},_=function(a,b,c,d,e){var g="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(e,"/get_upload_url?project_id=").concat(c,"&docker_type=").concat(d.toLowerCase());return(0,f.Z)({url:g,type:"GET"}).then(JSON.parse)},aa=(W=O(e().mark(function a(b){var c,d,g,h=arguments;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=h.length>1&& void 0!==h[1]?h[1]:null,d=h.length>2?h[2]:void 0,g=b.file.name.split(" ").join("-"),a.abrupt("return",d(g).then(function(a){var d=a.gcs_object_name,h=a.container_id,i=void 0===h?-1:h,j=a.blob_upload_url,k=a.upload_success_url,l=a.build_status_url,m=a.tarball_download_url,n=a.build_log_url,o=a.rebuild_image_url,p=R(Q({},b),{id:i,buildStatusUrl:l,tarballDownloadUrl:m,buildLogUrl:n,rebuildImageUrl:o,imageName:"",file:{name:g,size:b.file.size,awaitingUpload:!0},buildStatus:"UPLOADING"});c.set("container",p),(0,f.Z)({url:j,type:"POST",data:b.file,processData:!1,contentType:b.file.type}).then(function(){return(0,f.Z)({url:k,type:"POST",data:{gcs_object_name:d}},!0)}).then(function(a){return JSON.parse(a.data)}).then(function(){var a=O(e().mark(function a(b){var d,f,g,h;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:f=void 0===(d=b.image_name)?"default_name":d,h=R(Q({},g=c.get("container")),{imageName:f,buildStatus:"PENDING",file:R(Q({},g.file),{awaitingUpload:!1})}),c.set("container",h);case 4:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}())}).catch(function(a){console.log(a)}));case 3:case"end":return a.stop()}},a)})),function(a){return W.apply(this,arguments)}),ab=function(a,b,c,d,e){return function(g){var h=d.file.name.split(" ").join("-");return _(a,b,c,e,h).then(function(a){var b=a.gcs_object_name,c=a.container_id,i=a.blob_upload_url,j=a.upload_success_url,k=a.build_status_url,l=a.tarball_download_url,m=a.build_log_url,n=a.rebuild_image_url,o=e===D.a5.TESTING?r.h:q.ry,p=R(Q({},d),{id:void 0===c?-1:c,buildStatusUrl:k,tarballDownloadUrl:l,buildLogUrl:m,rebuildImageUrl:n,file:{name:h,size:d.file.size,awaitingUpload:!0}});return g(o.setFile(p)),{onUploadSuccess:function(){return(0,f.Z)({url:j,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,f.Z)({url:i,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},ac=function(a){var b=a.upload,c=a.onUploadSuccess,d=a.dockerType;return function(a){var f,g=d===D.a5.TESTING?r.h:q.ry;return a(g.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((f=O(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(Y(void 0,g.afterFileUpload(f))),a(k.n.show(i.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return b.stop()}},b)})),function(a){return f.apply(this,arguments)})).catch(function(e){if(500===e.status){a(ac({upload:b,onUploadSuccess:c,dockerType:d}));return}console.log("error while uploading docker file",e),a(g.updateBuildStatus("FAILURE")),a(k.n.show(i.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}},ad=function(a){return function(b){b(k.n.close()),b(k.n.show(i.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},ae=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]&&arguments[4],f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,g=arguments.length>6?arguments[6]:void 0;return function(h){h(k.n.show(i.fL,{title:a,url:"".concat((0,L.zw)()).concat(e&&f?"/projects/".concat(f):(0,J.Qk)(b,c,d,void 0,void 0)),authorId:b,collectionId:c,callback:g,workId:d}))}},af=function(a){var b=a.firstProjectComponentId,c=a.projectId,d=a.authorId,e=a.collectionId,f=a.pathAuthorId,g=a.pathId,h=a.isReview,i=a.restartProject,j=void 0!==i&&i,k=a.courseUrlSlug,l=void 0===k?null:k,m=a.isStandaloneProject,n=void 0!==m&&m;return function(a){(0,z.$)(d,e,c).then(function(){j||a(X.clear());var i=(0,C.Z)({authorId:d,collectionId:e,id:b,projectId:c,courseUrlSlug:l,pathAuthorId:f,pathId:g,isCollaboratorReviewMode:h,isStandaloneProject:n}).projectComponentViewUrl.href;B().push(i)})}}},3497:function(a,b,c){c.d(b,{BO:function(){return R},"F$":function(){return P},GP:function(){return T},YI:function(){return H},b4:function(){return G},lO:function(){return Q},rk:function(){return I},zg:function(){return S}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(83090),i=c(33040),j=c(46124),k=c(67952),l=c(2293),m=c(86432),n=c(6169),o=c(20888),p=c(30788),q=c(4651),r=c(32388),s=c(19054),t=c(33109),u=c(12773),v=c(27080),w=c(78977);function x(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function y(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function z(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){y(f,d,e,g,h,"next",a)}function h(a){y(f,d,e,g,h,"throw",a)}g(void 0)})}}function A(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function B(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){A(a,b,c[b])})}return a}function C(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function D(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||F(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(a){return function(a){if(Array.isArray(a))return x(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||F(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(a,b){if(a){if("string"==typeof a)return x(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x(a,b)}}var G={ACCEPT:"accept",REJECT:"reject"},H={WIDGET:"widget",FIELD:"field",ALL:"all"},I="homepage",J=(0,f.Z)(),K=J.initialState,L=J.reducers,M=(0,g.oM)({name:"author/proofread",initialState:K,reducers:C(B({},L),{updateTitle:function(a,b){var c=b.payload;a.data.title=c,a.data.dirty=!0},updateSummary:function(a,b){var c=b.payload;a.data.summary=c,a.data.dirty=!0},updateBriefSummary:function(a,b){var c=b.payload;a.data.brief_summary=c,a.data.dirty=!0},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=(c=a.data.toc.categories,d=g,c.findIndex(function(a){return a.id===d}));a.data.toc.categories[h].title="__default"!==f?f:"",a.data.dirty=!0},updateCLO:function(a,b){var c=b.payload,d=c.text,e=c.index;a.data.clos[e]=d,a.data.dirty=!0},updateETAG:function(a,b){var c=b.payload;a.data[h.Zq]=c},resetBits:function(a){a.data.dirty=!1,a.data.rejectedAny=!1,a.data.revertedRejectedAny=!1},setDirty:function(a,b){var c=b.payload;a.data.dirty=c},setCollection:function(a,b){var c=b.payload,d=c.title,e=c.summary,f=c.brief_summary,g=c.toc,h=c.clos;a.data.title=d,a.data.summary=e,a.data.brief_summary=f,a.data.toc=g,a.data.clos=h,a.data.dirty=!1},setPage:function(a,b){var c,d=b.payload,e=d.title,f=d.summary,g=d.content,h=void 0===g?null:g,i=d.id;a.data=C(B({},null!==(c=a.data)&& void 0!==c?c:{}),{page:{title:void 0===e?"":e,summary:void 0===f?"":f,components:(null==h?void 0:h.components)||[],id:i}})},updatePageTitle:function(a,b){var c=b.payload;a.data.page.title=c,a.data.dirty=!0},updatePageSummary:function(a,b){var c=b.payload;a.data.page.summary=c,a.data.dirty=!0},updatePageETAG:function(a,b){var c=b.payload;a.data.page[h.Zq]=c},rejectPageProofread:function(a,b){var c=b.payload,d=c.components,e=c.title,f=c.summary;a.data.page.components=d,a.data.page.title=e,a.data.page.summary=null==f?void 0:f.description},setPageComponent:function(a,b){var c=b.payload,d=c.index,e=c.component;a.data.page.components[d]=e},changePendingPageStatus:function(a,b){var c=b.payload,d=c.pageId,e=c.pending,f=void 0!==e&&e;if(d===I){a.data.is_homepage_pending=f;return}if(f){-1===a.data.pending_pages.findIndex(function(a){return a===d})&&(a.data.pending_pages=E(a.data.pending_pages).concat([d]));return}a.data.pending_pages=a.data.pending_pages.filter(function(a){return a!==d})},markPageAsCompleted:function(a,b){var c=b.payload.pageId;a.data.page_completions=C(B({},a.data.page_completions),A({},c,!0))},setRejectedAny:function(a,b){var c=b.payload;a.data.rejectedAny=c},setRevertedRejectedAny:function(a,b){var c=b.payload;a.data.revertedRejectedAny=c},setProofreadRejected:function(a){a.data.rejectedAny=!0,a.data.revertedRejectedAny=!1,a.data.dirty=!0},addToUndoHistory:function(a,b){var c=b.payload;a.data.undoHistory=E(a.data.undoHistory||[]).concat([c])},addToRedoHistory:function(a,b){var c=b.payload;a.data.redoHistory=E(a.data.redoHistory||[]).concat([c])},removeFromUndoHistory:function(a){a.data.undoHistory.splice(-1,1),a.data.dirty=!0},removeFromRedoHistory:function(a){a.data.redoHistory.splice(-1,1),a.data.dirty=!0},clearUndoHistory:function(a){a.loaded&&(a.data.undoHistory=[])},clearRedoHistory:function(a){a.loaded&&(a.data.redoHistory=[])}})});b.ZP=M.reducer;var N=function(a,b){var c=!1;return a?c=!1:b&&(c=!0),[c,a||b]},O=function(a,b,c,d){var e=JSON.parse(a),f=e.proofread,g=e.collection,h=e.work_mode,i=e.pending_pages,j=e.is_homepage_pending,k=e.page_completions,l=f;return l||(l={title:g.instance.details.title||"",summary:g.instance.details.summary||"",brief_summary:g.instance.details.brief_summary||"",toc:g.instance.details.toc,clos:g.instance.details.clos||[]}),b(n.X5.set({instance:{details:C(B({},g.instance.details),{docker:{container:{}},author_id:c,collection_id:d})}})),b(t.X8.load(E(Object.values(g.instance.details.page_keys||{})).concat([g.instance.details.collection_key,]))),C(B({},l),{work_mode:h,pending_pages:i,is_homepage_pending:j,page_completions:void 0===k?{}:k})},P=C(B({},M.actions),{load:function(a,b){var d,f=arguments.length>2&& void 0!==arguments[2]&&arguments[2],g=arguments.length>3&& void 0!==arguments[3]&&arguments[3],i=arguments.length>4&& void 0!==arguments[4]&&arguments[4],j=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null;return d=z(e().mark(function d(m){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return m(P.clear()),m(P.pending()),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"?incorporate=").concat(f,"&preview=").concat(g,"&reviewIncorporations=").concat(i).concat(j?"&selectedPass=".concat(j).concat(l?"&basePass=".concat(l):""):""),type:"GET"},!0).then(function(c){var d=c.data,e=c.xhr;m(P.fulfilled(O(d,m,a,b))),d&&m(P.updateETAG(e.headers.get(h.ZF))),d&&m(n.X5.updateETAG(e.headers.get(h.Zq))),d&&m(P.resetBits())}).catch(function(a){a.status===w.Wy.unauthorizedException?(0,v.xc)():a.status===w.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),m(P.rejected((0,v.nU)(a)))}));case 3:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}},saveProofread:function(a,b){var c,d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return c=z(e().mark(function c(i,j){var m,n,q,r,s,t,w,x,y;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return m=j().author.proofread.data,n=j().author.collection.instance.details,q={proofread_content:{title:m.title,summary:m.summary,brief_summary:m.brief_summary,toc:m.toc,clos:m.clos}},d&&!g&&(q=C(B({},q),{author_content:{title:n.title,summary:n.summary,brief_summary:n.brief_summary,toc:n.toc,clos:n.clos}})),r=m[h.Zq],s=!0===m.rejectedAny,t=!0===m.revertedRejectedAny,x=(w=D(N(s,t),2))[0],y=w[1],c.abrupt("return",(0,u.p1)(function(c){var e;return i(o.n.show(p.ad,{status:"WAIT",text:g&&!f?"Submitting":"Saving"})),(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"?incorporate=").concat(d,"&review_incorporations=").concat(f,"&submit=").concat(g).concat(y?"&accepted_all=".concat(x):""),contentType:"application/json",processData:!1,type:"PUT",data:(0,l.deflate)(JSON.stringify(q),{level:9}),headers:(A(e={},h.Zq,null!=c?c:""),A(e,"Content-Encoding","deflate"),e)},!0).then(function(a){var b=a.xhr;i(o.n.show(p.ad,{status:"SUCCESS",text:g&&!f?"Submitted":"Saved"})),i(P.resetBits()),(g||!d)&&i(P.changePendingPageStatus({pageId:I,pending:!d})),i(P.updateETAG(b.headers.get(h.Zq)))})},r,i).catch(function(a){return!a.stopModal&&i(o.n.show(p.ad,{status:"ERROR",text:"Failed to Save. ".concat((0,v.nU)(a))}))}));case 9:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}},adminSendBack:function(a,b,c){var d;return d=z(e().mark(function d(f,g){var h,i,j,l,m;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:i=(h=g().author.proofread.data).page_completions,j=h.pending_pages.filter(function(a){return!i[a]}),l=Object.keys(i),l=l.filter(function(a){return a!==I}),m=function(){var d=z(e().mark(function d(){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(o.n.show(p.ad,{status:"WAIT",text:"Sending Back"})),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/send-back"),type:"POST",data:{pending_pages:JSON.stringify(j),page_completions:JSON.stringify(l),is_homepage_pending:!i[I]}}).then(function(){f(o.n.show(p.ad,{status:"SUCCESS",text:"Successfully Sent Back"}));var d=(0,s.Z)({authorId:a,collectionId:b,isDraft:!0,workType:r.dLO.COLLECTION});c.push("/collection/[authorId]/[collectionId]/draft",d)}).catch(function(a){var b;f(o.n.show(p.ad,{status:"ERROR",text:(null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText)||"Sending Back Failed"}))}));case 2:case"end":return d.stop()}},d)}));return function(){return d.apply(this,arguments)}}(),f(o.n.show(p.zN,{onConfirm:z(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f(o.n.close());case 2:return a.next=4,m();case 4:case"end":return a.stop()}},a)})),cancelText:"Cancel",confirmText:"Send Back",description:"Any left out content shall be revisited by the author. Press send back to continue if you are done approving rejections."}));case 7:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},submitProofread:function(a,b,c){var d,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return d=z(e().mark(function d(h,i){var j,l,m,n,q,t,u;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(l=(j=i().author.proofread.data).pending_pages.length,m=j.is_homepage_pending,n=function(){var d=z(e().mark(function d(){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h(o.n.show(p.ad,{status:"WAIT",text:"Submitting"})),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/submit?incorporate=").concat(f,"&reviewIncorporations=").concat(g),type:"POST"}).then(function(){h(o.n.show(p.ad,{status:"SUCCESS",text:"Submitted"}));var d=(0,s.Z)({authorId:a,collectionId:b,isDraft:!0,workType:r.dLO.COLLECTION});c.push("/collection/[authorId]/[collectionId]/draft",d)}).catch(function(a){var b;h(o.n.show(p.ad,{status:"ERROR",text:(null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText)||"Unable to Submit"}))}));case 2:case"end":return d.stop()}},d)}));return function(){return d.apply(this,arguments)}}(),q=l>0||m,!f){d.next=8;break}return t=q?'There are still <span style="color: #8887FF">'.concat(l,"</span> lesson(s) ").concat(m?"and Course Homepage":""," with pending and/or unsaved suggestions from the proofreader that need to be incorporated before this course can be submitted. Please incorporate and press submit"):"Do you want to submit your changes? You won't be able to incorporate proofread for the whole course after submitting.",d.abrupt("return",h(o.n.show(p.zN,{onConfirm:z(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:q?"Close":"Cancel",confirmText:q?"Close":"Submit Changes",title:q?"Unable to submit":"Alert",description:t,hideConfirmButton:q,styleType:"leftAligned"})));case 8:if(!g){d.next=11;break}return u=l>0||m?'There are still <span style="color: #8887FF">'.concat(l,"</span> lesson(s) ").concat(m?"and Course Homepage":""," with pending approval before proofread can be finished. Please approve before finishing proofread."):"Do you want to approval all changes?",d.abrupt("return",h(o.n.show(p.zN,{onConfirm:z(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:q?"Close":"Cancel",confirmText:q?"Close":"Submit",title:q?"Unable to submit":"Alert",description:u,hideConfirmButton:q,styleType:"leftAligned"})));case 11:return d.abrupt("return",h(o.n.show(p.zN,{onConfirm:z(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:"Cancel",confirmText:"Submit",title:"Alert",description:"Do you want to submit your changes? You won't be able to make changes after submitting."})));case 12:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},loadPage:function(a,b,c){var d,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4],l=arguments.length>5&& void 0!==arguments[5]&&arguments[5],o=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,p=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null;return d=z(e().mark(function d(q,s){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return q(i.x.pending()),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/page/").concat(c,"?incorporate=").concat(f,"&preview=").concat(g,"&reviewIncorporations=").concat(l).concat(o?"&selectedPass=".concat(o).concat(p?"&basePass=".concat(p):""):""),contentType:"application/json",type:"GET"},!0).then(function(a){var b=a.data,d=a.xhr,e=JSON.parse(b),f=e.proofread,g=e.collection_page,k=g.content,l=g.props,o=f;k=C(B({},k),{components:(0,j.jQ)(k.components)}),(null==l?void 0:l.title)&&q(n.X5.updateArticleTitle({pageId:c,title:null==l?void 0:l.title})),o||(o={content:{components:k.components||[]},title:s().author.collection.instance.details.page_titles[c]||"",summary:k.summary.description||""});var p=(0,j.jQ)(o.content.components);q(m.t.fulfilled(l)),q(P.setPage(C(B({},o),{id:c}))),q(j.oh.load(p,!1)),q(P.updatePageETAG(d.headers.get(h.ZF))),q(i.x.updateETag(d.headers.get(h.Zq))),q(i.x.fulfilled(k)),q(P.resetBits())}).catch(function(a){var b;q(P.setPage({id:c})),q({type:"author/collectionArticle/rejected",error:(null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText)||r.w8I})}));case 2:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},savePageProofread:function(a,b,d){var f,g=arguments.length>3&& void 0!==arguments[3]&&arguments[3],i=arguments.length>4&& void 0!==arguments[4]&&arguments[4],m=arguments.length>5&& void 0!==arguments[5]?arguments[5]:[],n=arguments.length>6&& void 0!==arguments[6]&&arguments[6];return f=z(e().mark(function f(r,s){var t,w,x,y,z,E,F,G,H,I,J,K,L,M,O,Q,R,S,T;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s().author.proofread.data,w=s().author.collectionArticle.data,x=s().author.collection.instance.details,y=(0,q.Dn)(m),e.next=6,Promise.all([c.e(42029),c.e(47156)]).then(c.bind(c,47156));case 6:return z=e.sent.generateSlateDocumentTOC,e.next=9,Promise.all([c.e(169),c.e(79295),c.e(65048),c.e(63275),c.e(32210),c.e(42029),c.e(8590),c.e(93776),c.e(61857),c.e(92727),c.e(46845),c.e(70996),c.e(9016),c.e(30601),c.e(43895)]).then(c.bind(c,9016));case 9:return F=(E=e.sent).compsFromSlateDeSerializer,G=E.compsFromSlateSerializer,I=(H=z(m)).TOC,J=!n&&g,K={title:t.page.title||"",summary:t.page.summary||"",content:{components:m,summary:C(B({},w.summary),{description:t.page.summary||""})},concepts:y,page_toc:I},L={},J&&(L={title:x.page_titles[d]||"",summary:w.summary.description||"",content:{components:G({children:F(w.components)}),summary:C(B({},w.summary),{title:x.page_titles[d]})},concepts:(0,q.Dn)(w.components),page_toc:z(w.components)}),M=t.page[h.Zq],O=!0===t.rejectedAny,Q=!0===t.revertedRejectedAny,S=(R=D(N(O,Q),2))[0],T=R[1],e.abrupt("return",(0,u.p1)(function(c){var e,f,m;return r(o.n.show(p.ad,{status:"WAIT",text:n&&!i?"Submitting":"Saving"})),(J?(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/page/").concat(d,"?incorporate=").concat(g).concat(T?"&accepted_all=".concat(S):"","&submit=").concat(n),contentType:"application/json",processData:!1,type:"PUT",data:(0,l.deflate)(JSON.stringify({author_content:L}),{level:9}),headers:(A(m={},h.Zq,null!=c?c:""),A(m,"Content-Encoding","deflate"),m)},!0):Promise.resolve({})).then(function(m){var q,s,t=m.xhr;return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/page/").concat(d,"?incorporate=").concat(g,"&submit=").concat(n,"&review_incorporations=").concat(i).concat(T?"&accepted_all=".concat(S):""),contentType:"application/json",processData:!1,type:"PUT",data:(0,l.deflate)(JSON.stringify({proofread_content:K}),{level:9}),headers:(A(s={},h.Zq,null!==(f=null!==(e=null==t?void 0:null===(q=t.headers)|| void 0===q?void 0:q.get(h.Zq))&& void 0!==e?e:c)&& void 0!==f?f:""),A(s,"Content-Encoding","deflate"),s)},!0).then(function(a){var b=a.xhr;r(o.n.show(p.ad,{status:"SUCCESS",text:n&&!i?"Submitted":"Saved"})),r(P.resetBits()),r(j.oh.resetDirtyBit()),r(j.oh.resetMarkdownDirtyBit()),(n||!g)&&r(P.changePendingPageStatus({pageId:d,pending:!g})),r(P.updatePageETAG(b.headers.get(h.Zq)))})})},M,r).catch(function(a){return!a.stopModal&&r(o.n.show(p.ad,{status:"ERROR",text:"Failed to ".concat(n?"submit":"save",". ").concat((0,v.nU)(a))}))}));case 22:case"end":return e.stop()}},f)})),function(a,b){return f.apply(this,arguments)}},incorporateWidget:function(a){var b;return b=z(e().mark(function b(c,d){var f,g,h;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=(f=d().widgets).ids.indexOf(a),h=f.entities[a],b.next=5,c(i.x.setComponent({component:h,index:g}));case 5:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},sendBackAuthorIncorporations:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;return function(d,e){d(o.n.show(p.ad,{status:"WAIT",text:"Sending Back incorporations"}));var f=e().author.collection,g=e().author.collectionArticle.data,i=c?g[h.Zq]:f[h.Zq],j=i?A({},h.Zq,i):{};return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b).concat(c?"/page/".concat(c):""),type:"PUT",headers:B({},j)},!0).then(function(){d(o.n.showOrUpdate(p.ad,{status:"SUCCESS",text:"Sent Back"})),d(P.changePendingPageStatus({pageId:c||I}))}).catch(function(){d(o.n.showOrUpdate(p.ad,{status:"ERROR",text:"Sending Back Failed"}))})}},approveAuthorIncorporations:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;return function(d,e){d(o.n.show(p.ad,{status:"WAIT",text:"Approving incorporations"}));var f=e().author.collection,g=e().author.collectionArticle.data,i=c?g[h.Zq]:f[h.Zq],j=i?A({},h.Zq,i):{};return c||d(P.markPageAsCompleted({pageId:I})),(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b).concat(c?"/page/".concat(c):""),type:"POST",headers:B({},j)},!0).then(function(){d(o.n.showOrUpdate(p.ad,{status:"SUCCESS",text:"Approved"})),d(P.changePendingPageStatus({pageId:c||I}))}).catch(function(){d(o.n.showOrUpdate(p.ad,{status:"ERROR",text:"Approve Failed"}))})}}}),Q=function(a,b){return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/get-passes-info"),type:"GET"},!0)},R=function(a,b,c){return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/").concat(c,"/mark-page-complete"),type:"POST"})},S=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return function(c,d){var e,f,g,h=d().author,i=null==h?void 0:null===(e=h.collectionArticle)|| void 0===e?void 0:e.data,k=null==h?void 0:null===(f=h.proofread)|| void 0===f?void 0:null===(g=f.data)|| void 0===g?void 0:g.page,l=b?null==k?void 0:k.components:null==i?void 0:i.components,m=d().widgets,n=m.ids.indexOf(a),o=null==l?void 0:l[n];return b||c(P.setPageComponent({index:n,component:m.entities[a]})),c(j.oh.addOnExistingHash({data:o,hash:a}))}},T=function(a,b,c){var d,e=null===(d=a.content)|| void 0===d?void 0:d.comp_id,f=c.find(function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.comp_id)===e});return e&&f?f:c[b]||{}}},36846:function(a,b,c){c.d(b,{A:function(){return i}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}var g={onboardingPlanMap:{},selectedItemInToc:"",selectedCategoryInToc:""},h=(0,d.oM)({name:"author/tocMaps",initialState:g,reducers:{clear:function(){return f({},g)},clearOnboardingPlanMap:function(a){a.onboardingPlanMap={}},updateOnboardingPlanMap:function(a,b){var c=b.payload;a.onboardingPlanMap=c},addToOnboardingPlanMap:function(a,b){var c,d=b.payload,e=d.key,g=d.val;a.onboardingPlanMap[e]=f({},null!==(c=a.onboardingPlanMap[e])&& void 0!==c?c:{},g)},removeFromOnboardingPlanMap:function(a,b){var c=b.payload.key;delete a.onboardingPlanMap[c]},updateSelectedItemInToc:function(a,b){var c=b.payload;a.selectedItemInToc=c},clearSelectedItemInToc:function(a){a.selectedItemInToc=""},updateSelectedCategoryInToc:function(a,b){var c=b.payload;a.selectedCategoryInToc=c},clearSelectedCategoryInToc:function(a){a.selectedCategoryInToc=""}}});b.Z=h.reducer;var i=f({},h.actions)},1655:function(a,b,c){c.d(b,{B:function(){return v}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o="author/work",p={author:"author_work",ref:"ref_work",collab:"collab_work"},q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,i.oM)({name:o,initialState:r,reducers:n(m({},s),{delete:function(a,b){var c,d=b.payload,e=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"author";d&&a.loaded&&(a.data.work_summaries[p[e]]=null===(c=a.data.work_summaries)|| void 0===c?void 0:c[p[e]].filter(function(a){return a.id!==d}))}})});b.Z=t.reducer;var u=function(a,b,c){var d=JSON.parse(c),e=Object.keys(a).length?a:d.work_summaries;return d.work_summaries=n(m({},e),l({},"".concat(b,"_work"),d.work_summaries["".concat(b,"_work")])),d},v=n(m({},t.actions),{load:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"author",c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};return a=k(e().mark(function a(d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(o,"/").concat(b),type:"GET"}).then(function(a){d(v.fulfilled(u(c,b,a)))}).catch(function(a){d(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadPrivatePaths:function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"published";return b=k(e().mark(function b(f){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f(v.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(o,"/path/organization/").concat(a,"?filter_type=").concat(d),type:"GET"}).then(function(a){f(v.fulfilled(u(c,"private",a)))}).catch(function(a){f(v.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}}})},59201:function(a,b,c){c.d(b,{R:function(){return f}});var d,e=(0,c(62958).oM)({name:"banner",initialState:{count:0,bannersHeight:0,banners:{}},reducers:{show:{reducer:function(a,b){var c,d=b.payload,e=d.bannerType,f=d.bannerProps;(null===(c=a.banners[e])|| void 0===c?void 0:c.showBanner)||!f||(a.banners[e]=f,a.count=a.count+1)},prepare:function(a,b){return{payload:{bannerType:a,bannerProps:b}}}},hide:function(a,b){var c=b.payload;a.banners[c]&&(a.banners[c].showBanner=!1,a.count=a.count-1)},forceHide:function(a,b){var c=b.payload;a.banners[c]&&(a.banners[c].forceHide=!0,a.banners[c].showBanner=!1)},setBannerHeight:function(a,b){var c=b.payload.bannerHeight;a.bannersHeight=c}}});b.Z=e.reducer;var f=e.actions},86432:function(a,b,c){c.d(b,{t:function(){return x}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(27145),k=c(62958),l=c(32388),m=c(71267),n=c(77887);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,k.oM)({name:"collectionArticlePreview",initialState:r,reducers:s});b.Z=t.reducer;var u,v,w=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o={authorId:a.author_id,collectionId:a.collection_id,compIds:null},p=b?null===(f=d().author.collectionArticle.data)|| void 0===f?void 0:f.components:null===(g=d().userCollectionArticle.data)|| void 0===g?void 0:g.components,q=null===(h=d().author.collection.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:i.api_keys,r=null===(j=d().author.collection.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.docker)|| void 0===l?void 0:l.envs;if((b?!!d().author.collectionArticle.loaded:!!d().userCollectionArticle.loaded)&&(r&&r.length||q&&q.length)&&p){o.compIds=p.map(function(a){return a.content.comp_id}).filter(Boolean);var s=d().user;(null===(m=o.compIds)|| void 0===m?void 0:m.length)&&o.authorId&&o.collectionId&&e&&!s.userApiKeys.loading&&!s.userApiKeys.loaded&&c((0,n.$6)({params:o,apiKeys:q,envKeys:r}))}},x=(u=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}({},t.actions),v=(v={load:function(a){var b=a.author_id,d=a.collection_id,f=a.page_id,k=a.user_id,n=a.course_url_slug,p=void 0===n?null:n,q=a.page_url_slug,r=void 0===q?null:q,s=a.isDraft,t=void 0!==s&&s,u=a.editorPageProps,v=void 0!==u&&u,y=a.resetWidgetUserData,z=void 0===y||y,A=a.router,B=a.work_type,C=void 0===B?null:B,D=a.path_author_id,E=void 0===D?null:D,F=a.path_id,G=void 0===F?null:F,H=a.organization_id,I=void 0===H?null:H,J=a.menteeId,K=void 0===J?null:J,L=p?"collection/".concat(p,"/page/").concat(r,"/props"):"collection/".concat(b,"/").concat(d,"/page/").concat(f,"/props").concat(t?"/draft?editor_page_props=".concat(!!v):"");C&&(L+="?work_type=".concat(C)),!t&&(E&&G&&(L+="&path_author_id=".concat(E,"&path_id=").concat(G)),I&&(L+="&organization_id=".concat(I)),K&&(L+="&mentee_id=".concat(K)));var M,N,O={menteeId:K,organization_id:I,path_author_id:E,path_id:G};return N=(M=e().mark(function a(f,n){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f(x.clearAndPending()),z&&f(j.Vy.reset()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(L),type:"GET"}).then(function(a){var b=JSON.parse(a);if(f(x.fulfilled(b)),w(b,t,f,n,k),!t){var c,d,e,g,h={compIds:null,authorId:b.item_type===l.RIu.LESSON?b.external_author_id:b.author_id,userId:k,pageId:b.item_type===l.RIu.LESSON?b.external_page_id:b.page_id,shotId:b.item_type===l.RIu.SHOT?b.shot_id:null,collectionId:b.item_type===l.RIu.LESSON?b.external_collection_id:b.collection_id,askForHelpData:O};h.userId&&(h.shotId&&n().edpresso.shots.loaded&&(null===(c=n().edpresso.shots.data)|| void 0===c?void 0:c.content)||n().userCollectionArticle.loaded&&(null===(d=n().userCollectionArticle.data)|| void 0===d?void 0:d.components))&&(h.compIds=h.shotId?null===(e=n().edpresso.shots.data)|| void 0===e?void 0:e.content.map(function(a){return a.content.comp_id}).filter(Boolean):(0,m.ZX)(n().userCollectionArticle.data.components),(null===(g=h.compIds)|| void 0===g?void 0:g.length)&&h.authorId&&h.userId&&h.pageId&&f((0,m.Sh)(h)))}}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException?(0,c.g.setNotFound)({notFoundPageStatus:!0}):a.status===i.Wy.accessDeniedException&&A.push(p?"/courses/".concat(p):"/collection/".concat(b,"/").concat(d)),f(x.rejected((0,h.nU)(a)))}));case 3:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=M.apply(a,b);function f(a){o(e,c,d,f,g,"next",a)}function g(a){o(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a,b){return N.apply(this,arguments)}}},v),Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(v)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(v)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(v,a))}),u)},27155:function(a,b,c){c.d(b,{jS:function(){return q},ry:function(){return s}});var d=c(32176),e=c.n(d),f=c(18925),g=c(89407),h=c(62958),i=c(67952),j=c(32388);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=f.s4,q=function(a,b){for(var c=a,d=0;b.filter(function(a){return a.name===c}).length;){if(++d>20){c="".concat(a,"-").concat((0,h.x0)());break}c="".concat(a,"-").concat((0,g.Z)().substr(0,6))}return c},r=(0,h.oM)({name:"dockerDetails",initialState:p,reducers:{setObject:function(a,b){return o(n({},b.payload),{loaded:!0})},setFile:function(a,b){var c=b.payload;a.container.imageName="",Object.assign(a.container,c)},removeImage:function(a){a.container=f.s4.container},updateBuildStatus:function(a,b){var c=b.payload;a.container&&(a.container.buildStatus=c)},setTrackStatus:function(a,b){var c=b.payload;a.container&&(a.container.track=void 0!==c&&c)},addJob:function(a,b){var c=b.payload;a.jobs||(a.jobs=[]),a.jobs.push(o(n({},c),{key:(0,h.x0)()}))},duplicateJob:function(a,b){var c=b.payload;a.jobs||(a.jobs=[]),a.jobs.push(o(n({},c),{key:(0,h.x0)(),name:q("".concat(c.name,"-copy"),a.jobs)}))},updateJob:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.jobs[e]=d},resetLoaded:function(a){a.loaded=!1},removeJob:function(a,b){var c=b.payload.index;a.jobs.splice(c,1)},afterFileUpload:function(a,b){var c=b.payload;a.container.imageName=c,a.container.buildStatus="PENDING",a.container.file.awaitingUpload=!1},saveEnvVariable:function(a,b){var c,d=b.payload.env,e=d.id,f=void 0===e?"":e,g=d.key,i=void 0===g?"":g,j=d.value,k=d.info,l=d.required,m=d.useAsDefault,n=d.deleted,o=d.defaultValue,p=null!==(c=null==a?void 0:a.envs)&& void 0!==c?c:[],q={id:f||(0,h.x0)(),key:i,name:i,value:void 0===j?"":j,info:void 0===k?"":k,required:void 0!==l&&l,useAsDefault:void 0===m||m,deleted:void 0!==n&&n,defaultValue:void 0===o?"":o},r=p.findIndex(function(a){return a.id===f});-1!==r?a.envs[r]=q:a.envs.push(q)},saveEnvs:function(a,b){var c=b.payload;a.envs=c.envs},removeEnvVariable:function(a,b){var c=b.payload.env,d=a.envs.findIndex(function(a){return a.id===c.id});-1!==d&&a.envs.splice(d,1)}}});b.ZP=r.reducer;var s=o(n({},r.actions),{rebuildImage:function(a){return function(b){b(s.updateBuildStatus("REBUILDING"));var c=null==a?void 0:a.container;(0,i.Z)({url:null==c?void 0:c.rebuildImageUrl,type:"PUT",processData:!1}).then(function(){b(s.updateBuildStatus("PENDING"))}).catch(function(){b(s.updateBuildStatus("FAILURE"))})}},trackBuildAndUpdateYProjectContainer:function(a,b){if(a&&(0,f.FE)(a.buildStatus)){var c,d=(c=l(e().mark(function c(){var g,h,j,k;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=1,c.next=4,(0,i.Z)({url:a.buildStatusUrl,type:"GET"},!0);case 4:g=(h=c.sent).data,c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(1),500===c.t0.status&&setTimeout(d,3e3),c.abrupt("return");case 12:j=JSON.parse(g).build_status,(0,f.FE)(j)?setTimeout(d,3e3):(0,f.FE)(j)||(k=b.toJSON().container,b.set("container",o(n({},k),{track:!1,buildStatus:j})));case 14:case"end":return c.stop()}},c,null,[[1,8]])})),function(){return c.apply(this,arguments)});setTimeout(d,1e3)}},trackBuild:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return function(d,g){var h,k=null===(h=g().dockerDetails)|| void 0===h?void 0:h.container;if(k&&k.track&&(0,f.FE)(k.buildStatus)){var m,n=(m=l(e().mark(function h(){var l,m,o,p,q;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,e.next=5,(0,i.Z)({url:k.buildStatusUrl,type:"GET"},!0);case 5:o=(p=e.sent).data,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),500===e.t0.status&&setTimeout(n,3e3),e.abrupt("return");case 13:q=JSON.parse(o).build_status,(null===(l=g().dockerDetails)|| void 0===l?void 0:null===(m=l.container)|| void 0===m?void 0:m.track)&&(0,f.FE)(q)?setTimeout(n,3e3):(0,f.FE)(q)||(d(s.setTrackStatus(!1)),d(c?a(b,s.updateBuildStatus(q),!1,j.dLO.COLLECTION,!0):a(b,s.updateBuildStatus(q))));case 15:case"end":return e.stop()}},h,null,[[2,9]])})),function(){return m.apply(this,arguments)});setTimeout(n,1e3)}}}})},24602:function(a,b,c){c.d(b,{h:function(){return p}});var d=c(32176),e=c.n(d),f=c(67952),g=c(62958),h=c(18925),i=c(32388);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=h.s4,o=(0,g.oM)({name:"testingDockerDetails",initialState:n,reducers:{setObject:function(a,b){return m(l({},b.payload),{loaded:!0})},setFile:function(a,b){var c=b.payload;a.container.imageName="",Object.assign(a.container,c)},removeImage:function(a){a.container=h.s4.container},updateBuildStatus:function(a,b){var c=b.payload;a.container&&(a.container.buildStatus=c)},setTrackStatus:function(a,b){var c=b.payload;a.container&&(a.container.track=void 0!==c&&c)},addTestRunner:function(a,b){var c,d=b.payload;a.testRunners=null!==(c=a.testRunners)&& void 0!==c?c:[],a.testRunners.push(m(l({},d),{id:(0,g.x0)()}))},updateTestRunner:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.testRunners[e]=d},removeTestRunner:function(a,b){var c=b.payload.index;a.testRunners.splice(c,1)},resetLoaded:function(a){a.loaded=!1},afterFileUpload:function(a,b){var c=b.payload;a.container.imageName=c,a.container.buildStatus="PENDING",a.container.file.awaitingUpload=!1},saveEnvVariable:function(a,b){var c,d=b.payload.env,e=null!==(c=a.envs)&& void 0!==c?c:[],f={id:d.id||(0,g.x0)(),key:d.key||"",name:d.key||"",value:d.value||"",deleted:d.deleted||!1,defaultValue:d.defaultValue||"",useAsDefault:d.useAsDefault||!0},h=e.findIndex(function(a){return a.id===d.id});-1!==h?a.envs[h]=f:a.envs.push(f)},saveEnvs:function(a,b){var c=b.payload;a.envs=c.envs},removeEnvVariable:function(a,b){var c=b.payload.env,d=a.envs.findIndex(function(a){return a.id===c.id});-1!==d&&a.envs.splice(d,1)}}}),p=m(l({},o.actions),{rebuildImage:function(a){return function(b){b(p.updateBuildStatus("REBUILDING")),(0,f.Z)({url:a.container.rebuildImageUrl,type:"PUT",processData:!1}).then(function(){b(p.updateBuildStatus("PENDING"))}).catch(function(){b(p.updateBuildStatus("FAILURE"))})}},trackBuild:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return function(d,g){var k=g().testingDockerDetails.container;if(k&&k.track&&(0,h.FE)(k.buildStatus)){var l,m,n=(m=(l=e().mark(function j(){var l,m,o,q;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,e.next=5,(0,f.Z)({url:k.buildStatusUrl,type:"GET"},!0);case 5:m=(o=e.sent).data,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),500===e.t0.status&&setTimeout(n,3e3),e.abrupt("return");case 13:q=JSON.parse(m).build_status,(null===(l=g().testingDockerDetails.container)|| void 0===l?void 0:l.track)&&(0,h.FE)(q)?setTimeout(n,3e3):(0,h.FE)(q)||(d(p.setTrackStatus(!1)),d(c?a(b,p.updateBuildStatus(q),!1,i.dLO.COLLECTION,!0):a(b,p.updateBuildStatus(q))));case 15:case"end":return e.stop()}},j,null,[[2,9]])}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=l.apply(a,b);function f(a){j(e,c,d,f,g,"next",a)}function g(a){j(e,c,d,f,g,"throw",a)}f(void 0)})}),function(){return m.apply(this,arguments)});setTimeout(n,1e3)}}}});b.Z=o.reducer},14682:function(a,b,c){c.d(b,{T:function(){return H}});var d=c(32176),e=c.n(d),f=c(83090),g=c(18925),h=c(90305),i=c(6460),j=c(67952),k=c(27080),l=c(78977),m=c(71267),n=c(32388),o=c(11011),p=c(62958),q=c(46124),r=c(41660),s=c(27155),t=c(80453),u=c(77887),v=c(62956);function w(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function x(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){w(f,d,e,g,h,"next",a)}function h(a){w(f,d,e,g,h,"throw",a)}g(void 0)})}}function y(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function z(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){y(a,b,c[b])})}return a}function A(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var B="edpresso/shot",C=(0,i.Z)(),D=C.initialState,E=C.reducers,F=(0,p.oM)({name:B,initialState:D,reducers:A(z({},E),{updateReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.readTime=c)},updateShotTags:function(a,b){var c=b.payload;a.loaded&&a.data.tags!==c&&(a.data.tags=c)},updateContent:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.content=c)}})});b.Z=F.reducer;var G=function(a,b,c,d){var e,f,g={shotId:null,compIds:null};g.shotId=a.shotId;var h=null===(e=a.docker)|| void 0===e?void 0:e.envs;if(h&&h.length&&a.content){g.compIds=a.content.map(function(a){return a.content.comp_id}).filter(Boolean);var i=c().user;(null===(f=g.compIds)|| void 0===f?void 0:f.length)&&g.shotId&&d&&!i.userApiKeys.loading&&!i.userApiKeys.loaded&&b((0,u.$6)({params:g,apiKeys:[],envKeys:h}))}},H=A(z({},F.actions),{clear:function(){return function(a){a(F.actions.clear()),a(t.R.reset())}},load:function(a){var b,d=a.shot_id,g=a.shot_url,h=void 0===g?void 0:g,i=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return b=x(e().mark(function a(b,g){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(H.pending()),a.abrupt("return",(0,j.Z)({url:"/api/".concat(B,"/").concat(null!=d?d:"url/".concat(h)),type:"GET"},!0).then(function(){var a=x(e().mark(function a(d){var h,j,k,l,p,r,s,t,u,w,x,y,B;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=A(z({},(0,o.u)(d)),{tags:""}),b(H.fulfilled(l)),c.g.shotSummaryDispatch({type:"fulfilled",payload:l}),d&&b(H.updateETag(d.xhr.headers.get(f.Zq))),r={compIds:null,authorId:null,userId:p=null===(j=null===(h=c.g.userInfoContext)|| void 0===h?void 0:h.userInfoState.data)|| void 0===j?void 0:j.user_id,pageId:null,shotId:null},s=g().collectionArticlePreview.data,t=l.content,r.userId&&g().collectionArticlePreview.loaded&&t&&s.item_type===n.RIu.SHOT&&(r.authorId=s.author_id,r.pageId=s.page_id,r.shotId=s.shot_id,r.compIds=t.map(function(a){return a.content.comp_id}).filter(Boolean),(null===(u=r.compIds)|| void 0===u?void 0:u.length)&&r.authorId&&r.userId&&r.pageId&&b((0,m.Sh)(r))),G(l,b,g,p),!g().edpresso.shots.error){a.next=13;break}throw Error("SHOT_NOT_LOADED");case 13:if((w=g().edpresso.shots.data)&&i&&b(H.prepareDockerOnSetShot(w,!0)),!(!(null==w?void 0:w.shotId)&&!i)){a.next=17;break}throw Error("SHOT_CLEARED");case 17:return x=null===(k=g().edpresso.shots.data)|| void 0===k?void 0:k.content,a.next=20,(0,v.T)({content:x,normalizeHeadingsForAllWidgets:!i,processNormalizeHeadings:!0,workType:n.sLn.SHOT});case 20:B=(y=a.sent).content,b(q.oh.load(B,!0,!1)),b(H.updateContent(B));case 24:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===l.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0});var d=null==a?void 0:a.message;"SHOT_CLEARED"!==d&&"SHOT_NOT_LOADED"!==d&&(0,r.uX)(a),b(H.rejected((0,k.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}},prepareDockerOnSetShot:function(a,b){var c;return c=x(e().mark(function c(d,f){var i,j,k,l;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(j=(null==a?void 0:a.docker)?A(z({},a.docker),{envs:null!==(i=a.docker.envs)&& void 0!==i?i:[]}):g.s4,!b){c.next=8;break}return c.next=5,(0,h.wi)();case 5:c.t0=c.sent,c.next=9;break;case 8:c.t0={};case 9:k=c.t0,l=A(z({},j),{container:A(z({},j.container),{liveInstance:k})}),d(s.ry.setObject(l));case 12:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}}})},48703:function(a,b,c){c.d(b,{M:function(){return t}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions/teams",initialState:p,reducers:n(m({},q),{addTeam:function(a,b){var c=b.payload,d=c.subscriptionId,e=c.addedTeam;a.loaded&&d&&e&&a.data[d].push(e)},deleteTeam:function(a,b){var c=b.payload,d=c.subscriptionId,e=c.teamId;a.loaded&&d&&e&&(a.data[d]=a.data[d].filter(function(a){return a.teamId!==e}))},updateSpecificTeam:function(a,b){var c=b.payload,d=c.subscriptionId,e=c.updatedTeam,f=a.data[d].findIndex(function(a){return a.teamId===e.teamId});a.loaded&&d&&f>=0&&e&&(a.data[d][f]=e)}})}),s=function(a,b,c){var d,e,f=(0,h.Z)(JSON.parse(c)),g=(null===(d=b().enterprise)|| void 0===d?void 0:null===(e=d.subscriptionsTeams)|| void 0===e?void 0:e.data)||null;return g?n(m({},g),l({},a,f[a])):l({},a,f[a])};b.Z=r.reducer;var t=n(m({},r.actions),{load:function(a,b){var c,d;return d=(c=e().mark(function c(d,g){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(t.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscription/").concat(b,"/teams"),type:"GET"}).then(function(a){d(t.fulfilled(s(b,g,a)))}).catch(function(a){d(t.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}})},60471:function(a,b,c){c.d(b,{M:function(){return r}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(67952),i=c(27080);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,g.oM)({name:"enterprise/discount",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(r.pending()),b.abrupt("return",(0,h.Z)({url:"/api/enterprise/discount/".concat(a),type:"GET"}).then(function(a){c(r.fulfilled(JSON.parse(a)))}).catch(function(a){c(r.rejected((0,i.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},38990:function(a,b,c){c.d(b,{C:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/employee-assigned-courses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(s.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/assigned-courses/user/").concat(b),type:"GET"}).then(function(a){d(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){d(s.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},68964:function(a,b,c){c.d(b,{H:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/employees-with-assigned-courses",initialState:p,reducers:n(m({},q),{updateAssignedCoursesCountForUser:function(a,b){var c,d=b.payload,e=d.count,f=d.userId,g=d.action,h=((null===(c=a.data)|| void 0===c?void 0:c.users)||[]).findIndex(function(a){return a.id===f});h>=0&&("increment"===g?a.data.users[h].numOfAssignedCourses+=e:"decrement"===g&&(a.data.users[h].numOfAssignedCourses-=e))}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/assigned-courses/users"),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},23807:function(a,b,c){c.d(b,{X:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/sso-config",initialState:p,reducers:n(m({},q),{updateOktaFieldValues:function(a,b){var c=b.payload.updatedValue;a.data.values=c.values}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/sso-config"),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},68565:function(a,b,c){c.d(b,{"$":function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions",initialState:p,reducers:n(m({},q),{add:function(a,b){var c=b.payload;a.loaded&&c&&a.data.subscriptions.push(c.subscription)},update:function(a,b){var c=b.payload;if(a.loaded&&c){var d=a.data.subscriptions.findIndex(function(a){return a.id===c.id});a.data.subscriptions[d]=c}}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c,d=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscriptions").concat(d?"?active_only=true":""),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},9257:function(a,b,c){c.d(b,{J:function(){return t}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions/users",initialState:p,reducers:n(m({},q),{update:function(a,b){var c=b.payload,d=c.subscriptionId,e=c.users;d&&(a.data[d]=void 0===e?{}:e)}})}),s=function(a,b,c){var d,e,f=(0,h.Z)(JSON.parse(c)),g=(null===(d=b().enterprise)|| void 0===d?void 0:null===(e=d.subscriptionsUsers)|| void 0===e?void 0:e.data)||null;return g?n(m({},g),l({},a,f)):l({},a,f)};b.Z=r.reducer;var t=n(m({},r.actions),{load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]&&arguments[2],h=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return d=(c=e().mark(function c(d,i){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(t.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscription/").concat(b,"/users").concat(g?"?include_expired_trial_users=true":"?include_expired_trial_users=false","&").concat(h?"include_expired_bootcamp_users=true":"include_expired_bootcamp_users=false"),type:"GET"}).then(function(a){d(t.fulfilled(s(b,i,a)))}).catch(function(a){d(t.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}})},99062:function(a,b,c){c.d(b,{d:function(){return x}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080),k=c(78977);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function q(a){return function(a){if(Array.isArray(a))return l(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||r(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var s=(0,g.Z)(),t=s.initialState,u=s.reducers,v=function(a,b){var c=JSON.parse(b),d=a().enterprise.teamTrials.data,e=(null==d?void 0:d.trials)||[],f=(0,h.Z)((null==c?void 0:c.trials)||[]);return{more:null==c?void 0:c.more,cursor:null==c?void 0:c.cursor,trials:q(e).concat(q(f))}},w=(0,i.oM)({name:"enterprise/team-trial/admin-team-trials",initialState:t,reducers:p(o({},u),{updateTrial:function(a,b){var c,d,e=b.payload,f=null===(c=a.data)|| void 0===c?void 0:null===(d=c.trials)|| void 0===d?void 0:d.findIndex(function(a){return a.id===e.trial.id});f>=0&&(a.data.trials[f]=e.trial)},updateTrialStatus:function(a,b){var c,d,e=b.payload,f=null===(c=a.data)|| void 0===c?void 0:null===(d=c.trials)|| void 0===d?void 0:d.findIndex(function(a){return a.id===e.id});f>=0&&(a.data.trials[f].status=e.status,a.data.trials[f].startDate=e.startDate,a.data.trials[f].endDate=e.expirationDate)}})});b.Z=w.reducer;var x=p(o({},w.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"team-trials";return b=(a=e().mark(function a(b,g){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,f.Z)({url:"/api/enterprise/".concat(d).concat(c?"?cursor=".concat(c):""),type:"GET"}).then(function(a){b(x.fulfilled(v(g,a)))}).catch(function(a){a.status===k.Wy.unauthorizedException&&(0,j.xc)(),b(x.rejected((0,j.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},85741:function(a,b,c){c.d(b,{j:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/courses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(s.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/time-spent/subscription/".concat(g&&i?"".concat(a,"/").concat(b,"/courses"):"alltime/".concat(a,"/").concat(b,"/courses")),type:"POST",data:{start_date:g,end_date:i}}).then(function(a){d(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){d(s.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},79592:function(a,b,c){c.d(b,{U:function(){return f}});var d,e=(0,c(62958).oM)({name:"UsageStatsSelectedUser",initialState:{data:null},reducers:{setUser:function(a,b){var c=b.payload;c?a.data={id:c.id,email:c.email,name:c.name}:a.data=null}}});b.Z=e.reducer;var f=e.actions},30533:function(a,b,c){c.d(b,{G:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/user/user-id",initialState:p,reducers:n(m({},q),{set:function(a,b){var c=b.payload;a.data.works=c}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a,b,c){var d,g,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return g=(d=e().mark(function d(g){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return g(s.pending()),d.abrupt("return",(0,f.Z)({url:"/api/enterprise/time-spent/subscription/".concat(i&&l?"".concat(b,"/").concat(c,"/user/").concat(a,"/V2"):"alltime/".concat(b,"/").concat(c,"/user/").concat(a,"/V2")),type:"POST",data:{start_date:i,end_date:l}}).then(function(a){g(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){g(s.rejected((0,j.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){k(f,c,e,g,h,"next",a)}function h(a){k(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return g.apply(this,arguments)}}})},49453:function(a,b,c){c.d(b,{e:function(){return s}});var d=c(32176),e=c.n(d),f=c(67952),g=c(6460),h=c(88083),i=c(62958),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/users",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"",m="/api/enterprise/time-spent/subscription/";return"default-team"!==l&&g&&i?m+="".concat(a,"/").concat(b,"/").concat(l,"/users/V2"):g&&i?m+="".concat(a,"/").concat(b,"/users/V2"):m+="alltime/".concat(a,"/").concat(b,"/users/V2"),d=(c=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,f.Z)({url:m,type:"POST",data:{start_date:g,end_date:i}}).then(function(a){b(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){b(s.rejected((0,j.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},6460:function(a,b,c){var d=c(83090);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=function(){return{initialState:{loaded:!1},reducers:{pending:function(a){a.loading=!0},clearAndPending:function(a){return{loaded:!1,loading:!0}},fulfilled:function(a,b){var c=b.payload;return{error:void 0,loading:!1,loaded:!0,data:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a.data,c)}},rejected:function(a,b){return{loading:!1,loaded:!1,error:b.payload}},clear:function(a){return{loaded:!1}},updateETag:function(a,b){var c,e=b.payload;a.data=null!==(c=a.data)&& void 0!==c?c:{},a.data[d.Zq]=e},updateLastModified:function(a){var b;a.data=null!==(b=a.data)&& void 0!==b?b:{},a.data.lastModified=new Date}}}};b.Z=f},20888:function(a,b,c){c.d(b,{n:function(){return n}});var d=c(32176),e=c.n(d),f=c(62958),g=c(30788);function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var j,k,l={showModal:!1,typeToShow:null,params:null,className:""},m=(0,f.oM)({name:"modals",initialState:l,reducers:{show:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e,g=c.className,h=void 0===g?"":g;a.showModal=!0,a.typeToShow=d,f&&(a.params=f),h&&(a.className=h)},prepare:function(a,b,c){return{payload:{typeToShow:a,params:b,className:c}}}},update:function(a,b){var c=b.payload;c&&(a.params=c)},showOrUpdate:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e;a.showModal||(a.showModal=!0,a.typeToShow=d),f&&(a.params=f)},prepare:function(a,b){return{payload:{typeToShow:a,params:b}}}},safeUpdate:function(a,b){var c=b.payload,d=c.currentType,e=c.params,f=void 0===e?null:e;f&&d===a.typeToShow&&(a.params=f)},close:function(){return l}}});b.Z=m.reducer;var n=(j=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}({},m.actions),k=(k={actionWithMessages:function(a,b,c,d){var f,i;return i=(f=e().mark(function f(h){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(n.show(g.ad,{status:"WAIT",text:b})),e.prev=1,e.next=4,h(a);case 4:return i=e.sent,h(n.update({status:"SUCCESS",text:c})),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),h(n.update({status:"ERROR",text:d})),e.t0;case 13:case"end":return e.stop()}},f,null,[[1,9]])}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=f.apply(a,b);function g(a){h(e,c,d,g,i,"next",a)}function i(a){h(e,c,d,g,i,"throw",a)}g(void 0)})}),function(a){return i.apply(this,arguments)}}},k),Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(k)).forEach(function(a){Object.defineProperty(j,a,Object.getOwnPropertyDescriptor(k,a))}),j)},1654:function(a,b,c){c.d(b,{J:function(){return u}});var d=c(32176),e=c.n(d),f=c(62958),g=c(67952),h=c(95760),i=c(6460),j=c(27080);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=(0,i.Z)(),q=p.initialState,r=p.reducers,s=(0,f.oM)({name:"notifications",initialState:q,reducers:o(n({},r),{append:function(a,b){var c,d=b.payload;a.data&&(d.type===h.qq.WORKFLOW_TASKS?a.data.workflow_tasks_unread_count+=1:a.data.unread_count+=1,a.data.notifications=[d].concat(function(a){if(Array.isArray(a))return k(a)}(c=a.data.notifications)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},toggleRead:function(a,b){var c=b.payload;a.data.notifications=a.data.notifications.map(function(b){return b.id===c?b.status===h.Ez.READ?(a.data.unread_count+=1,o(n({},b),{status:h.Ez.UNREAD})):(a.data.unread_count-=1,o(n({},b),{status:h.Ez.READ})):b})},markAsRead:function(a,b){var c=b.payload;a.data.notifications=a.data.notifications.map(function(b){return c.id===b.id&&(c.status===h.Ez.UNREAD&&(a.data.unread_count-=1),b.status=h.Ez.READ),b})},markAllAsRead:function(a,b){var c=b.payload;a.loaded&&(c===h.qq.WORKFLOW_TASKS?(a.data.workflow_tasks_unread_count=0,a.data.notifications=a.data.notifications.map(function(a){return a.type===h.qq.WORKFLOW_TASKS?o(n({},a),{status:h.Ez.READ}):a})):(a.data.unread_count=0,a.data.notifications=a.data.notifications.map(function(a){return a.type!==h.qq.WORKFLOW_TASKS?o(n({},a),{status:h.Ez.READ}):a})))}})}),t=function(a,b){var c=a().notifications.list.data.notifications,d=a().notifications.list.data.unread_count;return c&&(b.notifications=c.concat(b.notifications.filter(function(a){return -1===c.indexOf(a)}))),d&&(b.unread_count=d),b};b.Z=s.reducer;var u=o(n({},s.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c,d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/notifications?cursor=".concat(a),type:"GET"}).then(function(b){""===a?c(u.fulfilled(JSON.parse(b))):c(u.fulfilled(t(d,JSON.parse(b))))}).catch(function(a){c(u.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return c.apply(this,arguments)}}})},98760:function(a,b,c){c.d(b,{P:function(){return g}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=(0,d.oM)({name:"overlay",initialState:{showOverlay:!1,typeToShow:null,params:null,className:""},reducers:{toggle:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e,g=c.className,h=void 0===g?"":g;a.showOverlay=!a.showOverlay,a.typeToShow=d,f&&(a.params=f),h&&(a.className=h)},prepare:function(a,b,c){return{payload:{typeToShow:a,params:b,className:c}}}},close:function(a){a.showOverlay=!1}}});b.Z=f.reducer;var g=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},f.actions)},44475:function(a,b,c){c.d(b,{D:function(){return w}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(11011),k=c(62958),l=c(46124),m=c(71267);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var p,q,r="page",s=(0,f.Z)(),t=s.initialState,u=s.reducers,v=(0,k.oM)({name:r,initialState:t,reducers:u});b.Z=v.reducer;var w=(p=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}({},v.actions),q=(q={load:function(a,b,d,f){var k,o;return o=(k=e().mark(function k(n,o){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(w.pending()),e.abrupt("return",(0,g.Z)({url:"/api/".concat(r,"/").concat(a,"/").concat(b),type:"GET"}).then(function(a){var b=(0,j.u)(a);n(w.fulfilled(b));var c={compIds:null,authorId:null,userId:f,pageId:null};if(c.userId&&o().pagePreview.loaded&&b.components){var d,e,g,h=o().pagePreview.data;c.authorId=h.author_id,c.pageId=h.id,c.compIds=(0,m.ZX)(b.components),(null===(g=c.compIds)|| void 0===g?void 0:g.length)&&c.authorId&&c.userId&&c.pageId&&n((0,m.Sh)(c))}return n(l.oh.load(null===(d=o().page)|| void 0===d?void 0:null===(e=d.data)|| void 0===e?void 0:e.components))}).catch(function(e){e.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),e.status===i.Wy.accessDeniedException&&d.push("/page/preview/".concat(a,"/").concat(b)),n(w.rejected((0,h.nU)(e)))}));case 2:case"end":return e.stop()}},k)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=k.apply(a,b);function f(a){n(e,c,d,f,g,"next",a)}function g(a){n(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a,b){return o.apply(this,arguments)}}},q),Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(q)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(q)).forEach(function(a){Object.defineProperty(p,a,Object.getOwnPropertyDescriptor(q,a))}),p)},97088:function(a,b,c){c.d(b,{E:function(){return u}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(62958),k=c(27145),l=c(71267);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var o,p,q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,j.oM)({name:"pagePreview",initialState:r,reducers:s});b.Z=t.reducer;var u=(o=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},t.actions),p=(p={load:function(a,b,d){var f,j,n=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return j=(f=e().mark(function f(j,m){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(u.pending()),j(k.Vy.reset()),e.abrupt("return",(0,g.Z)({url:"/api/page/".concat(a,"/").concat(b,"/props").concat(n?"/draft":""),type:"GET"}).then(function(a){var b,c=JSON.parse(a);j(u.fulfilled(c));var e={compIds:null,authorId:c.author_id,userId:d,pageId:c.id};e.userId&&m().page.loaded&&m().page.data.components&&(e.compIds=(0,l.ZX)(m().page.data.components),(null===(b=e.compIds)|| void 0===b?void 0:b.length)&&e.authorId&&e.userId&&e.pageId&&j((0,l.Sh)(e)))}).catch(function(a){a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),j(u.rejected((0,h.nU)(a)))}));case 3:case"end":return e.stop()}},f)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=f.apply(a,b);function g(a){m(e,c,d,g,h,"next",a)}function h(a){m(e,c,d,g,h,"throw",a)}g(void 0)})}),function(a,b){return j.apply(this,arguments)}}},p),Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(p)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(p,a))}),o)},74710:function(a,b,c){c.d(b,{W:function(){return x}});var d=c(32176),e=c.n(d),f=c(62958),g=c(69869),h=c(67952),i=c(6460),j=c(27080);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function p(a,b){if(null==a)return{};var c,d,e=q(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function q(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function r(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||s(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(a,b){if(a){if("string"==typeof a)return k(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k(a,b)}}var t=(0,i.Z)(),u=t.initialState,v=t.reducers,w=(0,f.oM)({name:"paths/moduleCategories",initialState:u,reducers:o(n({},v),{set:function(a,b){var c=b.payload;a.data=c,a.loaded=!0},editConnectInfos:function(a,b){b.payload.forEach(function(b){var c,d=b.week_id,e=b.email,f=b.full_name,g=b.index,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:c.connects,i=h.findIndex(function(a){return a.week_id===d});if(i>=0){var j=h[i].connect_info[g-1];j.email=e,j.full_name=f}})},updateConnectStatus:function(a,b){var c,d=b.payload,e=d.weekId,f=d.id,g=d.status,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:c.connects,i=h.findIndex(function(a){return a.week_id===e}),j=h[i].connect_info.findIndex(function(a){return a.id===f}),k=h[i].connect_info[j];k.status=g}})});b.Z=w.reducer;var x=o(n({},w.actions),{load:function(a,b,c){var d,f,i=arguments.length>3&& void 0!==arguments[3]&&arguments[3],k=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(x.pending()),d.abrupt("return",(0,h.Z)({url:"/api/".concat(c?"author":"collection","/").concat(a).concat(c?"/collection":"","/").concat(b,"/categories?update_path_item_titles=").concat(i).concat(k?"&menteeId=".concat(k):""),type:"GET"}).then(function(c){var d=JSON.parse(c),e=d.plan_title,h=d.connects,i=d.is_assigned,j=(d.plan_data,p(d,["plan_title","connects","is_assigned","plan_data"])),k=j,l="".concat(a,"_").concat(b),m=0,o=[],q=function(a,b){var c=b.pages||[],d=0;return c.forEach(function(b){(b.is_optional||a!==l&&o.includes(a))&&((0,g.mz)(b.type)?(o.push("".concat(a,"_").concat(b.id)),d++):o.push("".concat(b.author_id,"_").concat(b.collection_id)))}),d},s=k[l]||[];s.forEach(function(a){return m+=q(l,a)});var t=!0,u=!1,v=void 0;try{for(var w,y=Object.entries(k)[Symbol.iterator]();!(t=(w=y.next()).done);t=!0){var z=r(w.value,2),A=z[0],B=z[1];if(A!==l){var C=!0,D=!1,E=void 0;try{for(var F,G=B[Symbol.iterator]();!(C=(F=G.next()).done);C=!0){var H=F.value;m+=q(A,H)}}catch(I){D=!0,E=I}finally{try{C||null==G.return||G.return()}finally{if(D)throw E}}}}}catch(J){u=!0,v=J}finally{try{t||null==y.return||y.return()}finally{if(u)throw v}}f(x.fulfilled(n({planTitle:e,is_assigned:i,connects:h,optionalItemsCount:m,optionalItems:o},j)))}).catch(function(a){f(x.rejected((0,j.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){l(f,c,e,g,h,"next",a)}function h(a){l(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}})},79503:function(a,b,c){c.d(b,{J:function(){return s}});var d=c(32176),e=c.n(d),f=c(62958),g=c(67952),h=c(6460),i=c(32388),j=c(27080);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,h.Z)(),p=o.initialState,q=o.reducers,r=(0,f.oM)({name:"paths/pathCompletion",initialState:p,reducers:n(m({},q),{updateMap:function(a,b){var c,d,e=b.payload,f=e.authorId,g=e.collectionId,h=e.key,i=e.value,j=(c=f,d=g,"CourseCompletion_".concat(c,"_").concat(d));j in a.data.maps||(a.data.maps[j]={}),a.data.maps[j][h]=i},updateProgress:function(a,b){var c=b.payload;a.data.mentee_info.progress_status=i.b58.COMPLETED,a.data.mentee_info.force_completed_by=c},updateMentorFeedback:function(a,b){var c=b.payload;a.data.mentor_feedback=c}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a,b,c,d,f){var h,i;return i=(h=e().mark(function h(i){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(s.pending()),e.abrupt("return",(0,g.Z)({url:"/api/userdata/map/path/".concat(a,"/").concat(b).concat(f?"?organization_id=".concat(d,"&mentee_id=").concat(f):""),type:"POST",data:{categories_json_string:c}}).then(function(c){var d,e,f;i(s.fulfilled((d=a,e=b,n(m({},JSON.parse(f=c)),{pathAuthorId:Number(d),pathId:Number(e)}))))}).catch(function(a){i(s.rejected((0,j.nU)(a)))}));case 2:case"end":return e.stop()}},h)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=h.apply(a,b);function f(a){k(e,c,d,f,g,"next",a)}function g(a){k(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a){return i.apply(this,arguments)}}})},3166:function(a,b,c){c.d(b,{e:function(){return i}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}var g={workData:null,coupon:null,total_price:null,transaction_id:null,user_transaction_id:null},h=(0,d.oM)({name:"payment",initialState:g,reducers:{setWorkData:function(a,b){var c,d,e=b.payload,g=e.price,h=e.price_usd;return"preferred_subscription_id"in e&&null!==e.preferred_subscription_id&&e.preferred_subscription_id===e.subscription_plan_id&&e.b2c_trial_currency_code===e.currency_code?g=e.preferred_subscription_total_price:"preferred_subscription_credit_used"in e&&e.preferred_subscription_credit_used&&e.b2c_trial_currency_code===e.currency_code&&(g-=e.preferred_subscription_credit_used),f((c=f({},a),d=(d={workData:e,total_price:g,total_price_usd:h},d),Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c),!e.retainTransactionID&&{transaction_id:null,user_transaction_id:null})},resetAll:function(){return g},setCouponData:function(a,b){var c,d,e,f=b.payload;a.coupon=f;var g=f.price_with_coupon_usd-(null!==(c=a.credit_amount_usd)&& void 0!==c?c:0);a.total_price=f.price_with_coupon-(null!==(d=a.redeem_credit_amount)&& void 0!==d?d:0),a.discount_never_expires=f.discount_never_expires;var h=null!==(e=a.redeem_credit_amount)&& void 0!==e?e:0,i=Math.max(f.price_with_coupon-h,0);a.coupon.coupon_discount=a.workData.discounted_price-i,a.workData.discounted_price=i,a.coupon.coupon_discount_usd=a.total_price_usd-g,a.total_price_usd=g},setOriginalPrice:function(a,b){var c,d=b.payload,e=null!==(c=a.redeem_credit_amount)&& void 0!==c?c:0;a.workData.price=d.price-e,a.workData.price_usd=d.price_usd-e,a.workData.price_with_special_discount=d.price_with_special_discount-e,a.workData.price_with_special_discount_usd=d.price_with_special_discount_usd-e,a.workData.price_calc_str=""},resetCouponData:function(a,b){var c,d,e=b.payload,f=void 0===e?null:e;if(a.workData||f){a.coupon&&(a.workData.discounted_price+=a.coupon.coupon_discount),a.coupon=null;var g=null!==(c=a.redeem_credit_amount)&& void 0!==c?c:0,h=null!==(d=a.credit_amount_usd)&& void 0!==d?d:0;a.workData.price_with_special_discount&&(a.workData.price=a.workData.price_with_special_discount-g),a.workData.price_with_special_discount_usd&&(a.workData.price_usd=a.workData.price_with_special_discount_usd-g),a.total_price_usd=a.workData.price_usd-h,a.total_price=(null!=f?f:a.workData.price)-g,a.discount_never_expires=null}},setRedeemCreditData:function(a,b){var c,d,e=b.payload;a.total_price=e.newTotalPrice,a.redeem_credit_amount=e.redeemedCreditAmount,a.credit_amount_usd=e.redeemedCreditAmountUsd,a.total_price_usd=null!==(d=a.total_price_usd)&& void 0!==d?d:null===(c=a.workData)|| void 0===c?void 0:c.price_usd,a.total_price_usd&&(a.total_price_usd-=a.credit_amount_usd),a.workData&&(a.workData.discounted_price-=e.redeemedCreditAmount)},resetRedeemCreditData:function(a,b){var c=b.payload;a.total_price+=c,a.total_price_usd+=a.credit_amount_usd,a.workData&&(a.workData.discounted_price+=a.redeem_credit_amount),a.redeem_credit_amount=null,a.credit_amount_usd=null},setTransactionId:function(a,b){var c=b.payload;a.transaction_id=c},setUserTransactionId:function(a,b){var c=b.payload;a.user_transaction_id=c}}});b.Z=h.reducer;var i=h.actions},75419:function(a,b,c){c.d(b,{T:function(){return t}});var d=c(32176),e=c.n(d),f=c(62958),g=c(32388),h=c(67952),i=c(27080),j=c(6460);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,j.Z)(),p=o.initialState,q=o.reducers,r=(0,f.oM)({name:"reader/learnertags/path-list",initialState:p,reducers:q}),s=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c};b.Z=r.reducer;var t=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,h.Z)({url:"/api/reader/learnertags/work-list?work_type=".concat(g.dLO.PATH,"&tags=").concat(d).concat(f?"&tags=".concat(encodeURIComponent(f)):""),type:"GET"}).then(function(a){b(t.fulfilled(s(c,a)))}).catch(function(a){b(t.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},6332:function(a,b,c){c.d(b,{"_":function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(32388);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m=(0,f.Z)(),n=m.initialState,o=m.reducers,p=(0,i.oM)({name:"reader/learnertags/work-list",initialState:n,reducers:o});b.Z=p.reducer;var q,r,s=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c},t=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},p.actions),r=(r={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/learnertags/work-list?work_type=".concat(j.dLO.COLLECTION,"&tags=").concat(d).concat(f?"&tags=".concat(encodeURIComponent(f)):""),type:"GET"}).then(function(a){b(t.fulfilled(s(c,a)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},59574:function(a,b,c){c.d(b,{aE:function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n="page/editor/all",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:m(l({},q),{delete:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.pages=a.data.pages.filter(function(a){return a.id!==c}))}})});b.ZP=r.reducer;var s=function(a,b){var c=JSON.parse(b);return c.pages=a.concat(c.pages),delete c.editor_pages,c},t=m(l({},r.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"";return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n,"/").concat(f,"/").concat(c,"?filter_type=").concat(encodeURIComponent(i)),type:"GET"}).then(function(a){b(t.fulfilled(s(d,a)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},61533:function(a,b,c){c.d(b,{s:function(){return v}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n="reader/featured",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:q});b.Z=r.reducer;var s,t,u=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c},v=(s=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},r.actions),t=(t={load:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;return a=l(e().mark(function a(i){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat("free"===d?"reader/featured_items?only_free=true":"".concat(n,"/").concat(b,"?filter_type=").concat(d)),type:"GET"}).then(function(a){i(v.fulfilled((0,j.M)(u(c,a),f)))}).catch(function(a){i(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadEarlyAccess:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return a=l(e().mark(function a(c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n,"-early-access"),type:"GET"}).then(function(a){c(v.fulfilled(u(b,a)))}).catch(function(a){c(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}}},t),Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(t)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(t,a))}),s)},14443:function(a,b,c){c.d(b,{z:function(){return u}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(24592),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="reader/inprogress",q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,j.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(){var a;return a=l(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(u.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(p),type:"GET"}).then(function(a){b(u.fulfilled(JSON.parse(a)))}).catch(function(a){b(u.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadAll:function(a){var b;return b=l(e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(p,"?fetch_all=true"),type:"GET"}).then(function(b){c(u.fulfilled((0,i.M)(JSON.parse(b),a)))}).catch(function(a){c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},76927:function(a,b,c){c.d(b,{d:function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(27080),h=c(62958),i=c(24592),j=c(20688);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,h.oM)({name:"reader/myLearnPage/completedWorks",initialState:p,reducers:q});b.Z=r.reducer;var s=function(a,b){var c=JSON.parse(a);return n(m({},c),{paths:(0,i.M)(c.paths,b),collections:(0,i.M)(c.collections,b)})},t=n(m({},r.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"false",f=arguments.length>2?arguments[2]:void 0,h=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"";return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b(t.pending()),(0,j.y)(c,h,d).then(function(a){b(t.fulfilled(s(a,f)))}).catch(function(a){b(t.rejected((0,g.nU)(a)))});case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},73131:function(a,b,c){c.d(b,{g:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/githubStudentPack",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/github-student-pack",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},69741:function(a,b,c){c.d(b,{F:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/inProgressPaths",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={loadAll:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/inprogress?work_type=path&fetch_all=true",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},80056:function(a,b,c){c.d(b,{k:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/latestCourses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/latest-works",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},89614:function(a,b,c){c.d(b,{V:function(){return t}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/popularCourses",initialState:p,reducers:q});b.Z=r.reducer;var s=function(a,b,c){var d,e=JSON.parse(a);return n(m({},e),{popular_categories:null==e?void 0:null===(d=e.popular_categories)|| void 0===d?void 0:d.map(function(a){return(!c||!j.F.includes(a.name))&&n(m({},a),{popular_courses:(0,j.M)(a.popular_courses,b)})}).filter(Boolean)})},t=n(m({},r.actions),{load:function(){var a,b,c=!(arguments.length>0)|| void 0===arguments[0]||arguments[0],d=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/editorial/get-all-popular-category".concat(c?"?fetch_details=true":""),type:"GET"}).then(function(a){b(t.fulfilled(s(a,d,f)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},51974:function(a,b,c){c.d(b,{k:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/popularPaths",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:6,d=arguments.length>1?arguments[1]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/featured-paths?page_size=".concat(c),type:"GET"}).then(function(a){b(s.fulfilled((0,j.M)(JSON.parse(a),d)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},50251:function(a,b,c){c.d(b,{O:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/purchasedCourses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/all-purchased-courses",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},85901:function(a,b,c){c.d(b,{A:function(){return u}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,i.oM)({name:"reader/myLearnPage/savedWorks",initialState:q,reducers:o(n({},r),{updateSavedWorks:function(a,b){var c=b.payload;if(a.loaded){var d=Object.values(a.data),e={};for(var f in d)d[f].author_id===c.author_id&&d[f].collection_id===c.work_id||(e[f]=d[f]);a.data=e}}})});b.Z=s.reducer;var t=function(a,b){var c,d=JSON.parse(a);return function(a){if(Array.isArray(a))return k(a)}(c=(0,j.M)(d,b))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},u=o(n({},s.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/saved-works",type:"GET"}).then(function(b){c(u.fulfilled(t(b,a)))}).catch(function(a){c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},34723:function(a,b,c){c.d(b,{I:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958),j=c(24592);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/workRecommendations",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/course-recommendations",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},91979:function(a,b,c){c.d(b,{I:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(24592),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,j.oM)({name:"reader/owned-tracks",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/owned-tracks",type:"GET"}).then(function(b){c(s.fulfilled((0,i.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},53519:function(a,b,c){c.d(b,{z:function(){return f}});var d,e=(0,c(62958).oM)({name:"reader/projectPreviews",initialState:{isPremiumModalCTAClicked:!1},reducers:{set:function(a,b){a.isPremiumModalCTAClicked=b.payload.isPremiumModalCTAClicked}}}),f=e.actions;b.Z=e.reducer},68012:function(a,b,c){c.d(b,{W:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,i.oM)({name:"reader/edpresso/featured",initialState:o,reducers:m(l({},p),{bookmark:{reducer:function(a,b){var c,d,e,f=b.payload,g=f.isBookmarkedByReader,h=f.shotId,i=null!==(e=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.edpresso_shots)|| void 0===d?void 0:d.findIndex(function(a){return a.id===h}))&& void 0!==e?e:-1;a.loaded&&i>=0&&(a.data.edpresso_shots[i].isBookmarkedByReader=g)},prepare:function(a,b){return{payload:{isBookmarkedByReader:a,shotId:b}}}}})});b.Z=q.reducer;var r=function(a,b){var c=JSON.parse(b);return c.edpresso_shots=a.concat(c.edpresso_shots),c},s=m(l({},q.actions),{load:function(){var a,b,c,d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",f=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"published",k=!(arguments.length>3)|| void 0===arguments[3]||arguments[3],l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return a=l?"reader/shots/".concat(l):k?"edpresso/shots?status=published&cursor=".concat(d):"edpresso/shots?status=".concat(i,"&cursor=").concat(d),c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(a),type:"GET"}).then(function(a){c(s.fulfilled(r(f,a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},74409:function(a,b,c){c.d(b,{u:function(){return x}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(62958),k=c(80049),l=c.n(k);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var o="reader/tracks/featured",p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,j.oM)({name:o,initialState:q,reducers:r});b.Z=s.reducer;var t,u,v=function(a,b,c){var d=JSON.parse(c),e=a.findIndex(function(a){return a.id===b});return a[e].summaries=d.summaries,{tracks:a}},w=function(a,b){var c=JSON.parse(b);return c.tracks=a.concat(c.tracks),c},x=(t=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},s.actions),u=(u={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:[],j=arguments.length>3&& void 0!==arguments[3]?arguments[3]:3,k=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&& void 0!==arguments[5]&&arguments[5];return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(d?"track/".concat(d):k?"".concat(o,"/").concat(c,"?page_size=").concat(j,"&searchString=").concat(k,"&onlyTracks=").concat(n):"".concat(o,"/").concat(c,"?page_size=").concat(j,"&onlyTracks=").concat(n)),type:"GET"}).then(function(a){b(x.fulfilled(d?v(f,d,a):w(f,a)))}).catch(function(a){b(x.rejected((0,h.nU)(a))),a.status===i.Wy.unauthorizedException&&l().push({pathname:"/login",query:{ru:"/tracks"}},"/login")}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},u),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(u)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(u,a))}),t)},44678:function(a,b,c){c.d(b,{ZP:function(){return ba},TL:function(){return a9},ix:function(){return a8}});var d=c(89500),e=c(64889),f=c(93447),g=c(6169),h=c(33040),i=c(63969),j=c(47783),k=c(69702),l=c(1655),m=c(34933),n=c(1636),o=(0,d.UY)({properties:n.ZP}),p=c(5705),q=c(34473),r=c(94151),s=c(3497),t=c(49692),u=c(36846),v=(0,d.UY)({articleSnapshot:o,collection:g.ZP,collectionArticle:h.Z,articleRevisions:m.ZP,page:j.Z,profile:k.Z,work:l.Z,catalog:p.Z,allCollaborators:q.Z,concepts:r.Z,proofread:s.ZP,profWorks:t.Z,tocMaps:u.Z,collectionToc:i.ZP}),w=c(14682),x=(0,d.UY)({shots:w.Z}),y=c(86432),z=c(20888),A=c(98760),B=c(3166),C=c(44475),D=c(97088),E=c(53378),F=c(91467),G=c(61533),H=c(74409),I=c(68012),J=c(59574),K=c(75419),L=c(6332),M=(0,d.UY)({works:L.Z,paths:K.Z}),N=c(14443),O=c(32176),P=c.n(O),Q=c(6460),R=c(67952),S=c(27080),T=c(62958),U=c(32388);function V(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function W(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var X,Y,Z=(0,Q.Z)(),$=Z.initialState,_=Z.reducers,aa=(0,T.oM)({name:"reader/assigned-courses",initialState:$,reducers:_}),ab=aa.reducer,ac=(X=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){W(a,b,c[b])})}return a}({},aa.actions),Y=(Y={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:U.xCj.ASSIGNED;return b=(a=P().mark(function a(b){return P().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(ac.pending()),a.abrupt("return",(0,R.Z)({url:"/api/reader/enterprise/assigned-courses?status=".concat(c),type:"GET"}).then(function(a){b(ac.fulfilled(JSON.parse(a)))}).catch(function(a){b(ac.rejected((0,S.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){V(f,d,e,g,h,"next",a)}function h(a){V(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},Y),Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(Y)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(Y)).forEach(function(a){Object.defineProperty(X,a,Object.getOwnPropertyDescriptor(Y,a))}),X),ad=c(91979),ae=c(73131),af=c(85901),ag=c(51974),ah=c(89614),ai=c(69741),aj=c(80056),ak=c(76927),al=c(50251),am=c(34723),an=(0,d.UY)({githubStudentPack:ae.Z,savedWorks:af.Z,popularPaths:ag.Z,popularCourses:ah.Z,inProgressPaths:ai.Z,latestCourses:aj.Z,completedWorks:ak.Z,purchasedCourses:al.Z,workRecommendations:am.Z}),ao=c(53519),ap=(0,d.UY)({featured:G.Z,tracks:H.Z,shots:I.Z,editorPages:J.ZP,audience:M,inProgress:N.Z,assignedWorks:ab,ownedTracks:ad.Z,myLearnPage:an,projectPreviews:ao.Z}),aq=c(46124),ar=c(33266),as=c(54749),at=c(27145),au=c(78748),av=c(89571),aw=c(75582),ax=c(46357),ay=c(80453),az=c(78678),aA=c(48282),aB=c(9305),aC=c(83965),aD=c(92540),aE=(0,d.UY)({info:ar.Z,learn:as.Z,widgetsData:at.ZP,metaData:au.ZP,courseCompletion:av.Z,defaultCourseLanguage:ax.Z,editorPreferences:aw.Z,basicProfiles:az.Z,userApiKeys:ay.Z,subscriptions:aA.Z,enterpriseEventsInfo:aB.Z,paymentMethods:aC.ZP,checklist:aD.Z}),aF=c(53893),aG=c(59201),aH=c(27155),aI=c(24602),aJ=c(68565),aK=c(9257),aL=c(60471),aM=c(99062),aN=c(49453),aO=c(85741),aP=c(30533),aQ=c(79592),aR=(0,d.UY)({usersData:aN.Z,coursesData:aO.Z,userPerCourseData:aP.Z,usageStatsSelectedUser:aQ.Z}),aS=c(48703),aT=c(68964),aU=c(38990),aV=c(23807),aW=(0,d.UY)({subscriptions:aJ.Z,subscriptionsUsers:aK.Z,discount:aL.Z,teamTrials:aM.Z,usageData:aR,employeesWithAssignedCourses:aT.Z,employeeAssignedCourses:aU.Z,organizationSSOConfig:aV.Z,subscriptionsTeams:aS.Z}),aX=c(80242),aY=c(86443),aZ=c(87917),a$=c(26624),a_=c(14009),a0=c(74710),a1=c(79503),a2=(0,d.UY)({moduleCategories:a0.Z,pathCompletion:a1.Z}),a3=c(1654),a4=(0,d.UY)({list:a3.Z}),a5=c(73974),a6=c(5248),a7=function(a,b){var c="CLEAR"===b.type?{modals:a.modals,userConfig:a.userConfig}:a;return"CLEAR"===b.type&&((0,a5.cl)(a6.h.SHOW_BANNER),(0,a5.cl)(a6.h.HIDE_UPGRADE_BANNER)),(0,d.UY)({author:v,edpresso:x,collectionArticlePreview:y.Z,modals:z.Z,overlay:A.Z,payment:B.Z,page:C.Z,pagePreview:D.Z,pageSummary:E.Z,editorPageSummary:F.ZP,reader:ap,widgets:aq.ZP,user:aE,userCollectionArticle:aF.Z,educativeBanner:aG.Z,dockerDetails:aH.ZP,testingDockerDetails:aI.Z,comments:f.Z,enterprise:aW,assessment:aX.ZP,project:aY.ZP,workspace:a$.Z,cloudLab:aZ.ZP,userConfig:a_.ZP,paths:a2,notifications:a4})(c,b)},a8=e.v9,a9=function(){return(0,e.I0)()},ba=a7},78678:function(a,b,c){c.d(b,{F:function(){return r}});var d=c(6460),e=c(88083),f=c(62958),g=c(67952),h=c(27080);function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}function k(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var l=(0,d.Z)(),m=l.initialState,n=l.reducers,o=(0,f.oM)({name:"user/basicProfiles",initialState:m,reducers:n}),p=function(a,b,c){var d=b().user.basicProfiles.data||{},f=(0,e.Z)(JSON.parse(c));return f.profileSlug="/profile/view/".concat(a),k(j({},d),i({},a,f))},q={};b.Z=o.reducer;var r=k(j({},o.actions),{clear:function(){return function(a){a(o.actions.clear()),q={}}},load:function(a){return function(b,c){return a in q||(q[a]=(0,g.Z)({url:"/api/author/profile/".concat(a,"?basic_info=true"),type:"GET"}).then(function(d){b(r.fulfilled(p(a,c,d)))}).catch(function(a){b(r.rejected((0,h.nU)(a)))})),q[a]}}})},92540:function(a,b,c){c.d(b,{u:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(62958),i=c(27080);function j(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,h.oM)({name:"user/checklist",initialState:p,reducers:n(m({},q),{setChecklist:function(a,b){a.data=b.payload},setUserSelectedChecklist:function(a,b){a.data.selected_checklist=b.payload},setChecklistCompletionMap:function(a,b){Object.entries(b.payload).forEach(function(b){var c,d,e=(d=2,function(a){if(Array.isArray(a))return a}(c=b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(c,d)||function a(b,c){if(b){if("string"==typeof b)return j(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return j(b,c)}}(c,d)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=e[0],g=e[1];g&&(a.data.checklist_completion_map[f]=g)})},setChooseChecklist:function(a,b){b.payload||(a.data.choose_checklist=b.payload)}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/user/checklist",type:"GET"}).then(function(a){b(s.fulfilled(JSON.parse(a)))}).catch(function(a){b(s.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},89571:function(a,b,c){c.d(b,{x:function(){return o}});var d=c(32176),e=c.n(d),f=c(90869),g=c(62958);function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}var k,l,m={},n=(0,g.oM)({name:"user/courseCompletion",initialState:m,reducers:{set:function(a,b){return j({},a,b.payload)},setAll:function(a,b){return b.payload},reset:function(a){return m}}});b.Z=n.reducer;var o=(k=j({},n.actions),l=(l={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return d=(c=e().mark(function c(d,h){var k,l,m;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b){c.next=2;break}return c.abrupt("return");case 2:return k=a.filter(function(a){return"collection"===a.doc_type}).map(function(a){return{map_name:"CourseCompletion_".concat(a.author_id,"_").concat(a.id),map_keys:null}}),c.next=5,(0,f.D)(k);case 5:m=j({},g,JSON.parse(l=c.sent)),"function"==typeof i?i(m):d(o.setAll(m));case 8:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}},l),Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(l)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(l)).forEach(function(a){Object.defineProperty(k,a,Object.getOwnPropertyDescriptor(l,a))}),k)},46357:function(a,b,c){c.d(b,{o:function(){return f}});var d,e=(0,c(62958).oM)({name:"user/defaultCourseLanguage",initialState:{},reducers:{set:function(a,b){return b.payload.data}}});b.Z=e.reducer;var f=e.actions},75582:function(a,b,c){c.d(b,{D:function(){return g}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=(0,d.oM)({name:"user/editorPreferences",initialState:{clipboardCopySource:"",showClipboardAnnouncement:!0,loaded:!1,loading:!1},reducers:{set:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a,b.payload)},setLoaded:function(a,b){var c=b.payload;a.loaded=c,a.loading=!c}}});b.Z=f.reducer;var g=f.actions},9305:function(a,b,c){c.d(b,{s:function(){return r}});var d=c(32176),e=c.n(d),f=c(62958),g=c(6460),h=c(67952),i=c(27080);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,g.Z)(),o=n.initialState,p=n.reducers,q=(0,f.oM)({name:"user/enterpriseEventsInfo",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(r.pending()),a.abrupt("return",(0,h.Z)({url:"/api/enterprise/events-info",type:"GET"}).then(function(a){return b(r.fulfilled(JSON.parse(a)))}).catch(function(a){b(r.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},33266:function(a,b,c){c.d(b,{V:function(){return x}});var d=c(32176),e=c.n(d),f=c(33328),g=c(6460),h=c(14009),i=c(62958),j=c(90613),k=c(59201),l=c(32388),m=c(63910),n=c(67952);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var s=function(a){var b=Number(m.rV("active_organization_id"));if(b){var c=a.data.enterprise.organizations.find(function(a){return a.organization_id===b});if(c){a.data.enterprise.active_organization_id=c.organization_id;return}m.cl("active_organization_id")}if(a.data.enterprise.organizations){var d=a.data.enterprise.organizations[0];if(d){m.LS("active_organization_id",d.organization_id),a.data.enterprise.active_organization_id=d.organization_id;return}}a.data.enterprise.active_organization_id=null},t=(0,g.Z)(),u=t.initialState,v=t.reducers,w=(0,i.oM)({name:"user/info",initialState:u,reducers:r(q({},v),{update:function(a,b){var c,d,e,f;a.data=b.payload,a.loaded=!0,a.loading=!1,dataLayer.push({event:"userChanged",userId:b.payload.user_id,signupDate:(null===(c=a.data)|| void 0===c?void 0:c.sign_up_date)?new Date(null===(d=a.data)|| void 0===d?void 0:d.sign_up_date).toISOString():null,ownsFreeCourses:null===(e=a.data)|| void 0===e?void 0:e.owns_free_courses,ownsPaidCourses:null===(f=a.data)|| void 0===f?void 0:f.owns_paid_courses}),s(a)},freeTrialAvailed:function(a,b){a.data&&(a.data.has_active_b2c_trial=!0,a.data.has_availed_b2c_trial=!0,a.data.preferred_subscription_id=b.payload.preferred_subscription_id,a.data.preferred_subscription_price=b.payload.preferred_subscription_price)},freeTrialCancelled:function(a,b){a.data&&b.payload===l.BFt&&(a.data.has_active_b2c_trial=!1)},userSubscriptionBought:function(a){a.data&&(a.data.is_user_subscribed=!0)},teamSubscriptionBought:function(a){a.data&&(a.data.is_team_buy_admin=!0)},setIsTeamTrialAdmin:function(a){a.data&&(a.data.is_team_trial_admin=!0)},setUserThemeAction:function(a,b){a.data.user_theme=b.payload},setUserNavigationAction:function(a,b){a.data.enterprise.enable_new_nav_b2b=b.payload},setInProgressLab:function(a,b){a.data.in_progress_lab=b.payload},setInProgressLabSetupStatus:function(a,b){a.data.in_progress_lab.setup_status=b.payload},setEnterpriseSidebarState:function(a,b){a.data.enterprise.enterpriseSidebarState=b.payload},setUserLoggedOut:function(a){a.loggedOut=!0},setShowOnboardingQuestionnaireFlag:function(a){a.data.show_onboarding_questionnaire=!1},setShowProjectPreviewsTour:function(a){a.data.viewed_project_previews_tour=!0},setShowWeeklyGoalsTour:function(a){a.data.viewed_weekly_goals_tour=!0},setHideCustomizeFontModalTour:function(a){a.data.viewed_customize_fonts_modal=!0},setHideNotesAndHighlightsModal:function(a){a.data.viewed_notes_and_highlights_modal=!0},setUsedNotesAndHighlights:function(a){a.data.used_notes_and_highlights=!0},setHideCustomizeFontFeedback:function(a){a.data.viewed_customize_fonts_feedback=!0},setViewedExploreFeedback:function(a){a.data.viewed_explore_feedback=!0},setUsedCustomizeFonts:function(a){a.data.used_customize_fonts=!0},setHideFeedbackTooltip:function(a){a.data.viewed_feedback_tooltip=!0},incrementNotesAndHighlightsUsedCount:function(a){a.data.notes_and_highlights_used_count++},addFeatureToFeedbacksSubmitted:function(a,b){a.data.feature_feedbacks_submitted.push(b.payload)},clearAndSetLoggedOut:function(a){return{loaded:!1,loggedOut:!0}},setAttemptedCloudLab:function(a){a.data.attempted_cloud_lab=!0},setUserMentorStatus:function(a,b){var c=b.payload.orgId,d=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(c)});a.data.enterprise.organizations[d].is_mentor=b.payload.status},setConfluenceIntegrationStatus:function(a,b){var c=b.payload.orgId,d=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(c)});a.data.enterprise.organizations[d].is_confluence_integration_enabled=b.payload.status},setUserSlackStatus:function(a,b){var c=b.payload,d=c.orgId,e=c.slackStatus,f=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(d)});a.data.enterprise.organizations[f].is_slack_authorized=e},setUserOnboardingTutorialStatus:function(a,b){var c=b.payload;a.data.enterprise=r(q({},a.data.enterprise),{user_onboarding_tutorial_status:r(q({},a.data.enterprise.user_onboarding_tutorial_status),p({},c,!0))})},decrementOnboardingSeats:function(a,b){var c,d,e=b.payload,f=e.numOfSeatsToDecrement,g=e.orgId,h=null===(c=a.data)|| void 0===c?void 0:null===(d=c.enterprise)|| void 0===d?void 0:d.organizations.findIndex(function(a){return a.organization_id===g});h>=0&&(a.data.enterprise.organizations[h].free_onboarding_seats-=f)},setupActiveOrganization:function(a){s(a)},updateActiveOrganization:function(a,b){var c,d,e=b.payload;(null===(d=null===(c=a.data)|| void 0===c?void 0:c.enterprise.organizations)|| void 0===d?void 0:d.find(function(a){return a.organization_id===e}))&&(a.data.enterprise.active_organization_id=e,m.LS("active_organization_id",e))},setUserTwoFactorFlags:function(a,b){var c=b.payload,d=c.twoFactorViaEmail,e=c.twoFactorViaApp;a.data.two_factor_via_email=d,a.data.two_factor_via_app=e}})});b.Z=w.reducer;var x=r(q({},w.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b,c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,n.Z)({url:"/api/user/info",type:"GET"}).then(function(a){var d,e,g,i,l,m,n,o,p,q,r,s=JSON.parse(a);401===s.status?(b(x.rejected(s)),document.documentElement.style.removeProperty("--loggedout-false"),document.documentElement.style.setProperty("--loggedout-true","none"),b(x.clearAndSetLoggedOut())):(b(x.fulfilled(s)),dataLayer.push({event:"userChanged",userId:null===(n=c().user.info.data)|| void 0===n?void 0:n.user_id,signupDate:(null===(o=c().user.info.data)|| void 0===o?void 0:o.sign_up_date)?new Date(null===(p=c().user.info.data)|| void 0===p?void 0:p.sign_up_date).toISOString():null,ownsFreeCourses:null===(q=c().user.info.data)|| void 0===q?void 0:q.owns_free_courses,ownsPaidCourses:null===(r=c().user.info.data)|| void 0===r?void 0:r.owns_paid_courses}));var t=null===(d=c().user.info.data)|| void 0===d?void 0:null===(e=d.bannerDetails)|| void 0===e?void 0:e[j.Z.GITHUB_STATUS_BANNER];t&&b(k.R.show(j.Z.GITHUB_STATUS_BANNER,t)),(null===(g=c().user.info)|| void 0===g?void 0:null===(i=g.data)|| void 0===i?void 0:i.admin)&&b(h.V5.updateLanguages()),b((0,f.F)(c().user.info)),(null===(l=c().user.info)|| void 0===l?void 0:null===(m=l.data)|| void 0===m?void 0:m.enterprise)&&b(x.setupActiveOrganization())}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){o(f,d,e,g,h,"next",a)}function h(a){o(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},54749:function(a,b,c){c.d(b,{G:function(){return s}});var d=c(32176),e=c.n(d),f=c(6460),g=c(62958),h=c(67952),i=c(27080),j=c(78977);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,g.oM)({name:"user/learn",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,h.Z)({url:"/api/user/info/learn",type:"GET"}).then(function(a){return b(s.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===j.Wy.unauthorizedException&&(0,i.xc)(),b(s.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},78748:function(a,b,c){c.d(b,{Ex:function(){return g},LZ:function(){return e}});var d=c(62958),e=function(){return"UserMetaData"},f=(0,d.oM)({name:"metaData",initialState:{},reducers:{set:function(a,b){var c=b.payload;a.githubToken=c}}});b.ZP=f.reducer;var g=f.actions},83965:function(a,b,c){c.d(b,{Fm:function(){return r},Vh:function(){return w}});var d=c(32176),e=c.n(d),f=c(62958),g=c(6460),h=c(67952),i=c(27080),j=c(44173),k=c(78977),l=c(98617);function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}function q(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var r=function(a){return a.payment_processor===l.fs.BRAINTREE},s=(0,g.Z)(),t=s.initialState,u=s.reducers,v=(0,f.oM)({name:"user/paymentMethods",initialState:t,reducers:q(p({},u),{delete:function(a,b){a.data.payment_methods=a.data.payment_methods.filter(function(a){return a.token!==b.payload.token})},add:function(a,b){var c;a.data.payment_methods=[b.payload.paymentMethod,].concat(function(a){if(Array.isArray(a))return m(a)}(c=a.data.payment_methods)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return m(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return m(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},updatePrimaryPaymentMethod:function(a,b){var c=b.payload,d=c.token,e=c.primaryPaymentMethod;e.is_primary&&(a.data.payment_methods=a.data.payment_methods.map(function(a){return a.is_primary=a.token===d,a.is_primary&&(a.currency_code_for_next_charge=e.currency_code_for_next_charge,a.price_to_be_charged=e.price_to_be_charged,a.recurring_subscription_id=e.recurring_subscription_id),a}))}})});b.ZP=v.reducer;var w=q(p({},v.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,d={};return c&&(d.org_id=c),b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(w.pending()),a.abrupt("return",(0,h.Z)({url:"/api/braintree/payment-method".concat((0,j.N)(d)),type:"GET"}).then(function(a){return b(w.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===k.Wy.unauthorizedException&&(0,i.xc)(),b(w.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},48282:function(a,b,c){c.d(b,{s:function(){return r}});var d=c(32176),e=c.n(d),f=c(62958),g=c(6460),h=c(67952),i=c(27080);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=(0,g.Z)(),o=n.initialState,p=n.reducers,q=(0,f.oM)({name:"user/subscriptions",initialState:o,reducers:m(l({},p),{update:function(a,b){a.data=b.payload,a.loaded=!0,a.loading=!1}})});b.Z=q.reducer;var r=m(l({},q.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(r.pending()),a.abrupt("return",(0,h.Z)({url:"/api/user/info/subscriptions",type:"GET"}).then(function(a){return b(r.fulfilled(JSON.parse(a)))}).catch(function(a){b(r.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},80453:function(a,b,c){c.d(b,{R:function(){return h}});var d=c(62958),e={loading:!1,loaded:!1,keys:{}},f=function(a,b,c){return Object.keys(b).forEach(function(d){a.hasOwnProperty(d)&&"UPDATE"===c?a[d]!==b[d]&&(a[d]=b[d].toString()):a[d]=b[d].toString()})},g=(0,d.oM)({name:"user",initialState:e,reducers:{pending:function(a){a.loading=!0,a.loaded=!1},rejected:function(a){a.loading=!1,a.loaded=!1},fulfilled:function(a,b){var c=b.payload,d=c.keys,e=c.action;f(a.keys,void 0===d?{}:d,void 0===e?"UPDATE":e),a.loading=!1,a.loaded=!0},saveRequest:function(a){a.loading=!0,a.loaded=!1},saveFailure:function(a){a.loading=!1,a.loaded=!1},saveSuccess:function(a,b){var c=b.payload,d=c.keys,e=c.action;f(a.keys,void 0===d?{}:d,void 0===e?"UPDATE":e),a.loading=!1,a.loaded=!0},reset:function(){return e}}});b.Z=g.reducer;var h=g.actions},27145:function(a,b,c){c.d(b,{LZ:function(){return s},Vy:function(){return t},XU:function(){return o},iU:function(){return p},vW:function(){return q}});var d=c(62958),e=c(32388),f=c(5714),g=c.n(f),h=c(51087),i=c.n(h);function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){j(a,b,c[b])})}return a}function l(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var m={loading:!1,savingWidget:null,resettingWidget:null,snapshots:{},copiedWidget:null,loaded:!1},n=(0,d.oM)({name:"widgetsData",initialState:m,reducers:{pending:function(a){a.loading=!0},rejected:function(a){a.loading=!1,a.snapshots={},a.loaded=!0},fulfilled:function(a,b){var c=b.payload;a.loading=!1,a.snapshots=c,a.loaded=!0},saveRequest:function(a,b){var c=b.payload;a.savingWidget=c.reset?null:c.compId,a.resettingWidget=c.reset?c.compId:null},saveFailure:function(a){a.savingWidget=null,a.resettingWidget=null},saveSuccess:function(a,b){var c=b.payload;a.savingWidget=null,a.resettingWidget=null,a.snapshots=k({},a.snapshots,c)},copy:function(a,b){var c=b.payload;a.copiedWidget=c},reset:function(){return m}}}),o=function(a){return a.widgetsData.snapshots},p=function(a){return a.widgetsData.savingWidget},q=function(a){return a.widgetsData.resettingWidget},r=function(a,b){var c={index:0,data:l(k({},a.find(function(a){return b===a.hash})),{mode:"view",comp_id:null,iteration:void 0,hash:void 0}),parentHash:"0"};return i().encrypt(JSON.stringify(c),e.Y47).toString()},s=function(a){var b=a.userId,c=a.collectionId,d=a.pageId,e=a.shotId,f=a.editorPageId,g=a.authorId,h=a.compId,i=a.currentAttempt,j=void 0===i?null:i,k="WidgetUserData";return j?"".concat(k,"_").concat(b,"_").concat(g,"_").concat(c,"_").concat(d,"_").concat(h,"_").concat(j):e?"".concat(k,"_").concat(b,"_").concat(e,"_").concat(h):f?"".concat(k,"_").concat(b,"_").concat(f,"_").concat(h):c?"".concat(k,"_").concat(b,"_").concat(g,"_").concat(c,"_").concat(d,"_").concat(h):"".concat(k,"_").concat(b,"_").concat(g,"_").concat(d,"_").concat(h)};b.ZP=n.reducer;var t=l(k({},n.actions),{copyWidget:function(a,b,c){return function(d){var e=r(b,c);if(a){var f=a.target.nodeName.toLowerCase();if(window.getSelection().toString()||"textarea"===f||!c)return;a.clipboardData.setData("text/plain",e),a.preventDefault()}else g()(e);d(t.copy(e))}}})},53893:function(a,b,c){c.d(b,{m:function(){return A}});var d=c(32176),e=c.n(d),f=c(6460),g=c(67952),h=c(27080),i=c(78977),j=c(11011),k=c(62958),l=c(46124),m=c(41660),n=c(32388),o=c(71267),p=c(59125),q=c(62956);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){r(f,d,e,g,h,"next",a)}function h(a){r(f,d,e,g,h,"throw",a)}g(void 0)})}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){t(a,b,c[b])})}return a}function v(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var w=(0,f.Z)(),x=w.initialState,y=w.reducers,z=(0,k.oM)({name:"userCollectionArticle",initialState:x,reducers:y});b.Z=z.reducer;var A=v(u({},z.actions),{load:function(a){var b,d=a.author_id,f=a.collection_id,k=a.page_id,r=a.user_id,t=a.work_type,w=a.router,x=void 0===w?null:w,y=a.organization_id,z=void 0===y?null:y,B=a.locked_lesson,C=void 0!==B&&B;return b=s(e().mark(function a(b,w){var y;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y="collection/".concat(d,"/").concat(f,"/page/").concat(k),C&&(y+="/locked"),t&&(y+="?work_type=".concat(t)),b(A.pending()),(0,g.Z)({url:"/api/".concat(y),type:"GET"}).then(function(){var a=s(e().mark(function a(c){var d,f,g,h,i,k,m,s,t,y,B,C,D,E,F;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return k=(0,j.u)(c),s=null!=(m=(0,p.U)(k,b,w,r))?m:k.components,b(A.fulfilled(v(u({},k),{components:s}))),t=u({compIds:null,authorId:null,userId:r,pageId:null,shotId:null,collectionId:null},z?{askForHelpData:{menteeId:x.query.menteeId,organization_id:z,path_author_id:x.query.path_author_id,path_id:x.query.path_id}}:{}),t.userId&&w().collectionArticlePreview.loaded&&s&&(B=w().collectionArticlePreview.data,t.authorId=B.item_type===n.RIu.LESSON?B.external_author_id:B.author_id,t.collectionId=B.item_type===n.RIu.LESSON?B.external_collection_id:B.collection_id,t.pageId=B.item_type===n.RIu.LESSON?B.external_page_id:B.page_id,B.item_type===n.RIu.SHOT&&(t.shotId=B.shot_id),t.compIds=(0,o.ZX)(s),(null===(y=t.compIds)|| void 0===y?void 0:y.length)&&t.authorId&&t.userId&&t.pageId&&b((0,o.Sh)(t))),C=w().author,D=null==C?void 0:null===(d=C.collection)|| void 0===d?void 0:null===(f=d.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:g.is_private,E=null===(h=w().userCollectionArticle)|| void 0===h?void 0:null===(i=h.data)|| void 0===i?void 0:i.components,a.next=12,(0,q.T)({content:E,processNormalizeHeadings:!D});case 12:return F=a.sent.content,a.abrupt("return",b(l.oh.load(F)));case 14:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){(a.status&&!a.responseJSON&&(0,m.uX)(Error("Content blocked by third party, for ".concat(t," from ").concat(y))),a.status===i.Wy.unauthorizedException)?(0,h.xc)():a.status===i.Wy.notFoundException&&(0,c.g.setNotFound)({notFoundPageStatus:!0}),b(A.rejected((0,h.nU)(a)))});case 5:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}}})},14009:function(a,b,c){c.d(b,{Q1:function(){return g},V5:function(){return w},"_r":function(){return f}});var d,e,f,g,h=c(32176),i=c.n(h),j=c(62958),k=c(67952),l=c(27080),m=c(6460);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}function q(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}(d=f||(f={}))[d.USER=6e3]="USER",d[d.TEAM=6001]="TEAM",d[d.EXTERNAL=6002]="EXTERNAL",d[d.ENTERPRISE=6003]="ENTERPRISE",d[d.ENTERPRISE_PLUS=6004]="ENTERPRISE_PLUS",d[d.ENTERPRISE_TEAM=6005]="ENTERPRISE_TEAM",d[d.ENTERPRISE_WORK=6006]="ENTERPRISE_WORK",d[d.ENTERPRISE_FREE=6999]="ENTERPRISE_FREE",(e=g||(g={}))[e.UNKNOWN=100]="UNKNOWN",e[e.AVAILABLE=200]="AVAILABLE",e[e.UNAVAILABLE=300]="UNAVAILABLE";var r=(0,m.Z)(),s=r.initialState,t=r.reducers,u=(0,j.oM)({name:"userConfig",initialState:s,reducers:q(p({},t),{updateLanguages:function(a){a.data&&(a.data.languages=a.data.admin_languages)}})});b.ZP=u.reducer;var v=function(a){var b=JSON.parse(a),c=b.languages,d=c.admin_languages,e=c.public_languages,f=Object.keys(d).sort().reduce(function(a,b){return a[b]=d[b],a},{}),g=Object.keys(e).sort().reduce(function(a,b){return a[b]=e[b],a},{});return q(p({},b),{languages:g,admin_languages:f})},w=q(p({},u.actions),{load:function(){var a,b;return b=(a=i().mark(function a(b,d){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(w.pending()),a.abrupt("return",(0,k.Z)({url:"/api/userdata/user_config",type:"GET"}).then(function(a){var d,e;b(w.fulfilled(v(a))),(null===(e=null===(d=c.g.userInfoContext)|| void 0===d?void 0:d.userInfoState.data)|| void 0===e?void 0:e.admin)&&b(w.updateLanguages())}).catch(function(a){b(w.rejected((0,l.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},46124:function(a,b,c){c.d(b,{jQ:function(){return p},nJ:function(){return q},oh:function(){return o},pB:function(){return l}});var d=c(62958),e=c(32388);function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){g(a,b,c[b])})}return a}function i(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function j(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}var k={ids:[],entities:{},markdownDirty:!1,recentlyUsedWidgets:e.bRE,selectedHash:e.KQV,cleared:!0,loadedAll:!1},l={type:"MarkdownEditor",content:{version:"2.0",text:"",mdHtml:"",cursorPosition:{line:0,ch:0}}},m={type:"SlateHTML",content:{html:"<p></p>"}},n=(0,d.oM)({name:"widgets",initialState:k,reducers:{clear:function(){return k},addAll:function(a,b){var c=b.payload,d=c.widgets,e=c.dirty,f=void 0!==e&&e;a.ids=(void 0===d?[]:d).map(function(b,c){return a.entities[c]=i(h({},b),{iteration:0,hash:c}),a.dirty=a.dirty||f,c}),a.viewerDirtyComps={},a.loadedAll=!0},clean:function(){return k},add:function(a,b){var c=b.payload,d=c.data,e=c.index,g=c.dirty;if(!a.entities[d.hash]){var k,l,m,n,o=null!==(m=d.hash)&& void 0!==m?m:(l=Math).max.apply(l,function(a){if(Array.isArray(a))return f(a)}(k=a.ids.length?a.ids:[0])||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(k)||j(k)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())+1;0!==a.ids.length&&d.hash||"SlateHTML"===d.type||(a.selectedHash=o),a.ids.splice((null!==(n=null!=e?e:a.selectedHash)&& void 0!==n?n:9999999)+1,0,o),a.entities[o]=i(h({},d),{iteration:0,hash:o}),a.dirty=a.dirty|| void 0===g||g}},bumpVersion:function(a){var b,c=a.entities[a.selectedHash];c&&(c.saveVersion=(null!==(b=c.saveVersion)&& void 0!==b?b:0)+1)},selectActive:function(a,b){var c=b.payload;a.selectedHash!==c&&(n.caseReducers.bumpVersion(a),a.selectedHash=c)},editToggle:function(a,b){var c=b.payload;a.selectedHash===c?(n.caseReducers.bumpVersion(a),a.selectedHash=void 0):a.selectedHash=c},remove:function(a,b){var c=b.payload;a.ids=a.ids.filter(function(a){return a!==c}),delete a.entities[c],a.dirty=!0,a.markdownDirty=!0},moveUp:function(a,b){var c=b.payload,d=a.ids.indexOf(c);if(-1!==d){var e,f,g=(e=a.ids.splice(d,1),f=1,function(a){if(Array.isArray(a))return a}(e)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(e,f)||j(e,f)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];a.ids.splice(d-1,0,g),a.dirty=!0,a.markdownDirty=!0}},addOnExistingHash:function(a,b){var c=b.payload,d=c.data,e=c.hash,f=a.entities[e];a.entities[e]=i(h({},d),{iteration:f.iteration,saveVersion:f.saveVersion,hash:e}),a.dirty=!0},updateContentState:{reducer:function(a,b){var c,e=b.payload,f=e.hash,g=e.contentUpdater,i=e.cb,j=void 0===i?function(){}:i,k=a.entities[f];k&&("function"==typeof g?k.content=null!==(c=g(k.content))&& void 0!==c?c:k.content:k.content=h({},k.content,g),k.contentID=(0,d.x0)(),null==j||j(),k.iteration++,a.dirty=!0,["MarkdownEditor","Columns"].includes(k.type)&&(a.markdownDirty=!0))},prepare:function(a,b,c){return{payload:{hash:a,contentUpdater:b,cb:c}}}},setDirtyBit:function(a){a.dirty=!0},setMarkdownDirtyBit:function(a){a.markdownDirty=!0},addViewerDirtyComp:function(a,b){var c=b.payload;a.viewerDirtyComps[c]=!0},resetDirtyBit:function(a){a.dirty=!1},resetMarkdownDirtyBit:function(a){a.markdownDirty=!1},removeViewerDirtyComp:function(a,b){var c=b.payload;delete a.viewerDirtyComps[c]},setRecentlyUsedWidgets:function(a,b){var c=b.payload.type,d=a.recentlyUsedWidgets,e=d.findIndex(function(a){return a===c});e>=0?(d.splice(e,1),d.unshift(c)):(d.pop(),d.unshift(c)),a.recentlyUsedWidgets=d},initRecentlyUsedWidgets:function(a,b){var c=b.payload.widgets;a.recentlyUsedWidgets=c,a.cleared=!1}}});b.ZP=n.reducer;var o=i(h({},n.actions),{moveDown:function(a){return function(b,c){var d=c().widgets.ids.indexOf(a)+1,e=c().widgets.ids[d];b(o.moveUp(e))}},load:function(a,b,c){return function(d){if(!(null==a?void 0:a.length)&&b&&!c)return d(o.add({data:m,dirty:!1}));var e=q(a,b);d(o.addAll({widgets:e,dirty:!1}))}},areViewerCompsDirty:function(){return function(a,b){var c;return Boolean(Object.keys(null!==(c=b().widgets.viewerDirtyComps)&& void 0!==c?c:{}).length)}}}),p=function(a){if(!a)return[];var b={},c={};return a.map(function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.comp_id)&&(c[a.content.comp_id]=a.content.comp_id in c),a}).map(function(a){var d;if(null===(d=a.content)|| void 0===d?void 0:d.comp_id){var e=a.content.comp_id;if(b[e]=e in b?b[e]+1:1,c[e]||b[e]>1)return i(h({},a),{content:i(h({},a.content),{comp_id:"".concat(e,"-").concat(b[e])})})}return a})},q=function(a,b){var c;return null===(c=p(a))|| void 0===c?void 0:c.filter(function(a){var b,c;return!("TabbedCode"===a.type&&!(null===(b=a.content)|| void 0===b?void 0:null===(c=b.codeContents)|| void 0===c?void 0:c.length))}).map(function(a){var c,d;return b&&"WebpackBin"===a.type&&(null===(c=a.content)|| void 0===c?void 0:null===(d=c.dockerJob)|| void 0===d?void 0:d.android)?i(h({},a),{type:"Android"}):a})}},26624:function(a,b,c){c.d(b,{J:function(){return h}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f={usercode:{newFile:null,requestedFile:null,saveFile:null,removedFile:null},testfiles:{newFile:null,requestedFile:null,saveFile:null,removedFile:null}},g=(0,d.oM)({name:"workspace",initialState:f,reducers:{openFile:function(a,b){var c=b.payload;a[c.dirName].newFile=c.newFile},clearOpenFile:function(a,b){var c=b.payload;a[c.dirName].newFile=f[c.dirName].newFile},requestFile:function(a,b){var c=b.payload;a[c.dirName].requestedFile=c.requestedFile},clearRequestFile:function(a,b){var c=b.payload;a[c.dirName].requestedFile=f[c.dirName].requestedFile},saveFileContent:function(a,b){var c=b.payload;a[c.dirName].saveFile=c.saveFile},clearSaveFileContent:function(a,b){var c=b.payload;a[c.dirName].saveFile=f[c.dirName].saveFile},removeFile:function(a,b){var c=b.payload;a[c.dirName].removedFile=c.removedFile},clearRemoveFile:function(a,b){var c=b.payload;a[c.dirName].removedFile=f[c.dirName].removedFile},reset:function(a,b){var c,d,g=b.payload;return c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a),d=null!=(d=e({},g.dirName,f[g.dirName]))?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c}}});b.Z=g.reducer;var h=g.actions}}])
//# sourceMappingURL=reduxStore-b9aafa256f9d2d37.js.map